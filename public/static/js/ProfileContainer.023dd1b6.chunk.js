(this["webpackJsonpit-near"]=this["webpackJsonpit-near"]||[]).push([[4],{386:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(3),o=a(0),i=a.n(o),l=a(71),c=a(427),s=a(434),u=a(204),m=a(11),d=Object(u.a)((function(e){return{cover:{lineHeight:1,paddingTop:200/1232*100+"%",backgroundSize:"cover",backgroundPosition:"center",minHeight:130}}})),p=Object(m.a)(d,{withTheme:!0}),b=a(482),f=a.n(b),g=p((function(e){var t=e.classes;return i.a.createElement("div",{className:t.cover,style:{backgroundImage:"url(".concat(f.a,")")}})})),h=a(26),v=a(50),E=a(13),O=Object(u.a)((function(e){var t;return{paper:{borderRadius:0,backgroundColor:e.palette.common.white,marginBottom:20},body:Object(E.a)({textAlign:"center",paddingBottom:10},e.breakpoints.up("md"),{paddingBottom:20}),avatar:Object(E.a)({position:"relative",top:" -100px",marginBottom:"-90px",height:206,width:206,border:"3px solid #fff",margin:"0 auto",borderRadius:" 50%",backgroundColor:e.palette.common.white},e.breakpoints.down("xs"),{height:156,width:156}),avatarBtn:{position:"absolute",top:0,right:0,border:"2px solid ".concat(e.palette.primary.main),zIndex:2,padding:8,backgroundColor:e.palette.primary.main,color:e.palette.common.white,transition:"border-color  150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","&:hover":{borderColor:e.palette.common.white,backgroundColor:e.palette.primary.main}},removeBtn:{top:50,right:0,transform:"translateX(50%)"},avatarImg:{height:"100%",width:"100%"},socials:Object(E.a)({},e.breakpoints.down("md"),{display:"flex",flexWrap:"wrap",justifyContent:"center"}),socialsItem:Object(E.a)({},e.breakpoints.down("md"),{width:"auto",padding:9,marginBottom:5}),socialsIcon:(t={height:25,width:25,marginRight:0},Object(E.a)(t,e.breakpoints.up("lg"),{marginRight:20}),Object(E.a)(t,"&.facebook",{color:"#3b5999"}),Object(E.a)(t,"&.twitter",{color:"#55acee"}),Object(E.a)(t,"&.instagram",{color:"#e4405f"}),Object(E.a)(t,"&.youtube",{color:"#cd201f"}),Object(E.a)(t,"&.github",{color:"#000"}),Object(E.a)(t,"&.website",{color:"#0077b5"}),t),socialsText:Object(E.a)({display:"none"},e.breakpoints.up("lg"),{display:"block"}),autoMargin:{margin:"0 auto"}}})),j=Object(m.a)(O,{withTheme:!0}),w=a(128),y=a.n(w),x=a(76),k=a(437),I=a(584),N=a(134),C=function(e){var t=e.status,a=e.open,n=e.handleClose,r=e.setUserStatus,l=Object(o.useState)(t),c=Object(v.a)(l,2),s=c[0],u=c[1];Object(o.useEffect)((function(){u(t)}),[t]);return i.a.createElement(N.a,{open:a,resetAction:n,submitAction:function(){r(s),n()},"aria-labelledby":"change-status-dialog",title:"Change Status"},i.a.createElement(I.a,{autoFocus:!0,margin:"dense",label:"Status",type:"textarea",multiline:!0,rowsMax:8,value:s,onChange:function(e){var t=e.target.value;u(t)},fullWidth:!0}))},S=Object(u.a)((function(e){return{statusTxt:{textAlign:"center"},icon:{cursor:"pointer",marginLeft:5,opacity:.7,transform:"translateY(4px)","&:hover":{opacity:1}},tooltip:{backgroundColor:e.palette.primary.light}}})),P=Object(m.a)(S,{withTheme:!0}),T=a(33),L=P((function(e){var t=e.status,a=e.setUserStatus,n=e.isOwner,r=e.classes,l=Object(o.useState)(!1),c=Object(v.a)(l,2),s=c[0],u=c[1],m=function(e){u(e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:r.statusTxt},i.a.createElement(x.a,{variant:"body1",component:"span",color:"textSecondary"},t),n&&i.a.createElement(k.a,{title:"Change status","aria-label":"Change",color:"primary",classes:{tooltip:r.tooltip}},i.a.createElement(T.g,{color:"primary",className:r.icon,fontSize:"small",onClick:function(){return m(!0)}}))),i.a.createElement(C,{open:s,handleClose:function(){return m(!1)},status:t,setUserStatus:a}))})),B=a(66),F=a.n(B),A=a(9),U=a.n(A),D=a(30),R=a(423),z=a(483),M=a.n(z),$=(a(484),a(564)),W=function(e,t,a){var n=document.createElement("canvas"),r=e.naturalWidth/e.width,o=e.naturalHeight/e.height;n.width=t.width||0,n.height=t.height||0;var i=n.getContext("2d");return i?(i.drawImage(e,t.x*r,t.y*o,t.width*r,t.height*o,0,0,t.width,t.height),new Promise((function(e){n.toBlob((function(t){if(t){var a=window.URL.createObjectURL(t);e(a)}else console.error("Canvas is empty")}),"image/jpeg")}))):null},J=Object(u.a)((function(e){return{photo:{position:"relative",textAlign:"center","& .ReactCrop__image":{maxHeight:250}},load:{display:"block",width:"100%",backgroundColor:"#eee",border:"1px dashed ".concat(e.palette.primary.main),marginBottom:20,borderRadius:4},loadContent:{display:"flex",width:"100%",height:60,alignItems:"center",justifyContent:"center"},loadInput:{display:"none"},loadIcon:{marginRight:10},message:{marginTop:15}}})),q=Object(m.a)(J,{withTheme:!0})((function(e){e.profile;var t=e.open,a=e.handleClose,n=e.loadPhoto,r=e.classes,l=Object(o.useState)(null),c=Object(v.a)(l,2),s=c[0],u=c[1],m=Object(o.useState)(null),d=Object(v.a)(m,2),p=d[0],b=d[1],f=Object(o.useState)(null),g=Object(v.a)(f,2),h=g[0],E=g[1],O=Object(o.useState)(!1),j=Object(v.a)(O,2),w=j[0],y=j[1],I=Object(o.useState)({aspect:1}),C=Object(v.a)(I,2),S=C[0],P=C[1],L=Object(o.useRef)(null);Object(o.useEffect)((function(){B(),L.current&&(L.current.value=null)}),[t]);var B=function(){URL.revokeObjectURL(h),u(null),b(null),y(!1),E(null),P({aspect:1})},F=function(){var e=Object(D.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p&&t.width&&t.height)){e.next=5;break}return e.next=3,W(p,t);case 3:a=e.sent,E(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(D.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h?fetch(h,{mode:"cors"}).then((function(e){return e.blob()})).then((function(e){var t=new File([e],"new-avatar.png",{type:"image/png"});n(t)})):L.current&&(t=L.current.files).length&&n(t[0]),a();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(N.a,{open:t,resetAction:a,submitAction:A,submitName:"Save",submitDisabled:!w,"aria-labelledby":"load-photo-dialog",title:"Load Photo"},i.a.createElement("label",{className:r.load},i.a.createElement("input",{type:"file",name:"photo",ref:L,onChange:function(e){B();var t=e.target.files;if(t){y(!0);var a=t[0],n=new FileReader;n.addEventListener("load",(function(){return u(n.result)})),n.readAsDataURL(a)}},accept:".jpg, .jpeg, .png",className:r.loadInput}),i.a.createElement(k.a,{title:".jpg, .jpeg, .png","aria-label":"Extensions"},i.a.createElement(R.a,{component:"span",className:r.loadContent},i.a.createElement(T.b,{color:"primary",className:r.loadIcon}),i.a.createElement(x.a,{variant:"subtitle2",color:"primary"},"Upload")))),i.a.createElement("div",{className:r.photo},s&&i.a.createElement(M.a,{src:s,crop:S,ruleOfThirds:!0,onImageLoaded:function(e){b(e)},onComplete:function(e){F(e)},onChange:function(e){P(e)}})),s&&!h&&i.a.createElement($.a,{severity:"warning",className:r.message},"Crop the image or it will be done automatically"))})),H=a(140),Q=a(47),_=a(41),G=a(34),Y=a(459),Z=a(455),X=Object(u.a)((function(e){var t,a;return{actions:(t={textAlign:"right",display:"flex",flexDirection:"row",justifyContent:"center"},Object(E.a)(t,e.breakpoints.down(769),{maxWidth:250,margin:"0 auto"}),Object(E.a)(t,e.breakpoints.up("lg"),{flexDirection:"column",justifyContent:"flex-start"}),t),actionsTxt:Object(E.a)({},e.breakpoints.down("md"),{display:"none"}),actionsBtn:(a={margin:"0 5px 20px",width:"45%","&:last-of-type":{marginRight:0}},Object(E.a)(a,e.breakpoints.up(769),{width:"40%"}),Object(E.a)(a,e.breakpoints.down("md"),{borderRadius:0,"& .MuiButton-startIcon":{margin:0}}),Object(E.a)(a,e.breakpoints.up("lg"),{width:"100%",margin:"0 0 20px"}),a)}})),K=Object(m.a)(X,{withTheme:!0})((function(e){var t=e.isOwner,a=e.profileIsLoading,n=e.userId,r=e.followed,o=e.classes,c=Object(l.h)().pathname;return i.a.createElement("div",{className:o.actions},!t&&i.a.createElement(Z.a,{isLoading:a,userId:n,followed:r,updateProfileFollowed:!0,customClasses:{btn:o.actionsBtn,text:o.actionsTxt}}),t&&i.a.createElement(s.a,{mdDown:!0},a?i.a.createElement(i.a.Fragment,null,i.a.createElement(Y.a,{animation:"wave",height:45,className:o.actionsBtn})):i.a.createElement(i.a.Fragment,null,"/settings"===c?i.a.createElement(R.a,{size:"large",fullWidth:!0,variant:"contained",color:"primary",component:_.b,className:o.actionsBtn,to:G.a.profile.getPath(null),startIcon:i.a.createElement(T.a,null)},i.a.createElement("span",{className:o.actionsTxt},"Profile")):i.a.createElement(R.a,{size:"large",fullWidth:!0,variant:"contained",color:"primary",component:_.b,className:o.actionsBtn,to:G.a.settings.path,startIcon:i.a.createElement(T.H,null)},i.a.createElement("span",{className:o.actionsTxt},"Settings")))))})),V=a(122),ee=a(417),te=a(438),ae=a(412),ne=a(420),re=a(378),oe=a(414),ie={facebook:T.o,website:T.v,vk:function(e){return i.a.createElement("svg",Object.assign({enableBackground:"new 0 0 24 24",height:"30",viewBox:"0 0 24 24",width:"30"},e,{xmlns:"http://www.w3.org/2000/svg"}),i.a.createElement("path",{d:"m19.915 13.028c-.388-.49-.277-.708 0-1.146.005-.005 3.208-4.431 3.538-5.932l.002-.001c.164-.547 0-.949-.793-.949h-2.624c-.668 0-.976.345-1.141.731 0 0-1.336 3.198-3.226 5.271-.61.599-.892.791-1.225.791-.164 0-.419-.192-.419-.739v-5.105c0-.656-.187-.949-.74-.949h-4.126c-.419 0-.668.306-.668.591 0 .622.945.765 1.043 2.515v3.797c0 .832-.151.985-.486.985-.892 0-3.057-3.211-4.34-6.886-.259-.713-.512-1.001-1.185-1.001h-2.625c-.749 0-.9.345-.9.731 0 .682.892 4.073 4.148 8.553 2.17 3.058 5.226 4.715 8.006 4.715 1.671 0 1.875-.368 1.875-1.001 0-2.922-.151-3.198.686-3.198.388 0 1.056.192 2.616 1.667 1.783 1.749 2.076 2.532 3.074 2.532h2.624c.748 0 1.127-.368.909-1.094-.499-1.527-3.871-4.668-4.023-4.878z",fill:"#4b729f"}))},twitter:T.I,instagram:T.t,youtube:T.J,github:T.q},le=function(e){var t=e.name,a=Object(r.a)(e,["name"]),n=ie[t];return i.a.createElement(n,a)},ce=Object(Q.d)(j)((function(e){var t=e.profile,a=e.status,n=e.classes,r=e.setUserStatus,l=e.isOwner,c=e.loadPhoto,u=e.profileIsLoading,m=e.followed,d=t.photos,p=t.fullName,b=t.contacts,f=null!==d.large?d.large:y.a,g=Object(o.useState)([]),E=Object(v.a)(g,2),O=E[0],j=E[1],w=Object(o.useState)(!1),k=Object(v.a)(w,2),I=k[0],N=k[1],C=Object(o.useState)(!1),S=Object(v.a)(C,2),P=S[0],B=S[1];Object(o.useEffect)((function(){var e=[];Object.entries(b).forEach((function(t){var a=Object(v.a)(t,2),n=a[0],r=a[1];null!==r&&r.length&&(e=[].concat(Object(h.a)(e),[{name:n,url:r}]))})),j(e)}),[b]);var A=function(e,t){switch(t){case"edit":N(e);break;case"confirm":B(e)}};return i.a.createElement(i.a.Fragment,null,l&&i.a.createElement(i.a.Fragment,null,i.a.createElement(q,{profile:t,open:I,handleClose:function(){return A(!1,"edit")},loadPhoto:c}),i.a.createElement(H.a,{isOpen:P,openDialog:A,confirmAction:function(){fetch(y.a).then((function(e){return e.blob()})).then((function(e){var t=new File([e],"new-avatar.png",{type:"image/png"});c(t)}))}})),i.a.createElement(V.a,{className:n.paper},i.a.createElement("div",{className:n.body},i.a.createElement("div",{className:n.avatar},l&&!u&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ee.a,{className:n.avatarBtn,"aria-label":"load-photo",onClick:function(){return A(!0,"edit")}},i.a.createElement(T.b,{fontSize:"small",className:n.avatarIcon})),i.a.createElement(ee.a,{className:F()(n.avatarBtn,n.removeBtn),"aria-label":"remove-photo",onClick:function(){return A(!0,"confirm")}},i.a.createElement(T.h,{fontSize:"small",className:n.avatarIcon}))),u?i.a.createElement(Y.a,{animation:"wave",variant:"circle",className:n.avatarImg}):i.a.createElement(te.a,{src:f,alt:p||"avatar",className:n.avatarImg})),u?i.a.createElement(i.a.Fragment,null,i.a.createElement(Y.a,{animation:"wave",width:"85%",className:F()(n.autoMargin,"MuiTypography-h6")}),i.a.createElement(Y.a,{animation:"wave",width:"60%",className:F()(n.autoMargin,"MuiTypography-body1")})):i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{variant:"h6"},p),i.a.createElement(L,{status:a,setUserStatus:r,isOwner:l}))),i.a.createElement(s.a,{lgUp:!0},i.a.createElement(K,{isOwner:l,profileIsLoading:u,userId:t.userId,followed:m})),i.a.createElement(ae.a,{"aria-label":"socials",disablePadding:!0,className:n.socials,component:"div"},O.map((function(e){var t=e.name,a=e.url;return i.a.createElement(o.Fragment,{key:t},i.a.createElement(s.a,{mdDown:!0},i.a.createElement(ne.a,{orientation:"horizontal",light:!0})),u?i.a.createElement("div",{className:F()(n.socialsItem,"MuiListItem-gutters")},i.a.createElement(Y.a,{animation:"wave",height:41,style:{minWidth:25}})):i.a.createElement(re.a,{button:!0,component:oe.a,href:a,target:"_blank",rel:"noopener noreferrer",className:n.socialsItem},i.a.createElement(le,{name:t,className:F()("".concat(n.socialsIcon),"".concat(t))}),i.a.createElement(x.a,{variant:"body2",noWrap:!0,className:n.socialsText},a)))})))))})),se=Object(u.a)((function(e){var t,a;return{profile:Object(E.a)({display:"flex"},e.breakpoints.down(769),{flexDirection:"column"}),profileLeft:(t={width:"100%",minWidth:250},Object(E.a)(t,e.breakpoints.up(769),{width:250,minWidth:250}),Object(E.a)(t,e.breakpoints.up("lg"),{width:300,minWidth:300}),t),profileRight:(a={flexGrow:1,paddingTop:e.spacing(2)},Object(E.a)(a,e.breakpoints.up(769),{paddingTop:0,marginLeft:e.spacing(1)}),Object(E.a)(a,e.breakpoints.up("md"),{paddingTop:e.spacing(3),marginLeft:e.spacing(2)}),Object(E.a)(a,e.breakpoints.up("lg"),{marginLeft:e.spacing(3)}),a),grid:Object(E.a)({},e.breakpoints.down("md"),{flexDirection:"column-reverse"})}})),ue=Object(m.a)(se,{withTheme:!0})((function(e){var t=e.profile,a=e.status,n=e.setUserStatus,r=e.isOwner,o=e.children,l=e.loadPhoto,u=e.profileIsLoading,m=e.followed,d=e.classes;return i.a.createElement("div",null,i.a.createElement(g,null),i.a.createElement("div",{className:d.profile},i.a.createElement("div",{className:d.profileLeft},t&&i.a.createElement(ce,{profile:t,status:a,setUserStatus:n,isOwner:r,loadPhoto:l,profileIsLoading:u,followed:m})),i.a.createElement("div",{className:d.profileRight},i.a.createElement(c.a,{container:!0,spacing:2,className:d.grid},i.a.createElement(c.a,{item:!0,sm:12,lg:9},o),i.a.createElement(s.a,{mdDown:!0},i.a.createElement(c.a,{item:!0,sm:10,lg:3},t&&i.a.createElement(K,{userId:t.userId,isOwner:r,profileIsLoading:u,followed:m})))))))})),me=a(241),de=a(242),pe=a(91),be=a(443),fe=a(441),ge=a(199),he=Object(ge.a)((function(e){return{divider:{height:4,backgroundColor:e.palette.primary.main,borderBottomRightRadius:10,borderBottomLeftRadius:10}}})),ve=function(e){var t=e.customClasses,a=he();return i.a.createElement(ne.a,{className:F()(a.divider,t)})},Ee=Object(u.a)((function(e){var t;return{paper:{padding:"20px 25px 5px",backgroundColor:e.palette.common.white,marginBottom:e.spacing(2)},title:{marginBottom:20,fontWeight:500},buttons:Object(E.a)({display:"flex",justifyContent:"space-between",margin:"25px 0 15px"},e.breakpoints.up("sm"),{justifyContent:"center"}),error:{marginBottom:15},button:(t={minWidth:"48%",marginLeft:15},Object(E.a)(t,e.breakpoints.up("sm"),{minWidth:200}),Object(E.a)(t,"&:first-of-type",{marginLeft:0}),t),divider:{position:"relative",top:4}}})),Oe=Object(m.a)(Ee,{withTheme:!0}),je=["website","facebook","vk","twitter","instagram","youtube","github"],we=Object(de.a)({form:"settings"})(Oe((function(e){var t=e.handleSubmit,a=e.error,n=e.pristine,r=e.submitting,l=e.reset,c=e.initialize,s=e.profile,u=e.classes;Object(o.useEffect)((function(){s&&m()}),[s]);var m=function(){if(s){var e=s.aboutMe,t=s.contacts,a=t.facebook,n=t.website,r=t.github,o=t.instagram,i=t.youtube,l=t.twitter,u=t.vk,m=s.lookingForAJob,d=s.lookingForAJobDescription,p=s.fullName;c({fullName:p,aboutMe:e,facebook:a,website:n,github:r,instagram:o,youtube:i,twitter:l,vk:u,lookingForAJob:m,lookingForAJobDescription:d})}};return s?i.a.createElement("form",{onSubmit:t},i.a.createElement(ve,{customClasses:u.divider}),i.a.createElement(V.a,{className:u.paper},i.a.createElement(x.a,{variant:"body1",className:u.title},"Profile:"),i.a.createElement(me.a,{component:fe.a,type:"text",name:"fullName",variant:"outlined",validate:be.c,label:"Full Name *"}),i.a.createElement(me.a,{component:fe.a,type:"textarea",name:"aboutMe",multiline:!0,variant:"outlined",label:"About Me *",validate:be.c})),i.a.createElement(V.a,{className:u.paper},i.a.createElement(x.a,{variant:"body1",className:u.title},"Contacts:"),je.map((function(e){return i.a.createElement(me.a,{component:fe.a,key:e,type:"text",name:e,label:e.slice(0,1).toUpperCase()+e.slice(1),variant:"outlined"})}))),i.a.createElement(V.a,{className:u.paper},i.a.createElement(x.a,{variant:"body1",className:u.title},"Open for job proposals"),i.a.createElement(me.a,{component:fe.a,type:"switch",name:"lookingForAJob",label:"I'm looking for a job",id:"lookingForAJob"}),i.a.createElement(me.a,{component:fe.a,type:"textarea",multiline:!0,variant:"outlined",name:"lookingForAJobDescription",label:"Job description *",validate:be.c})),a&&i.a.createElement($.a,{severity:"error",className:u.error},a),i.a.createElement("div",{className:u.buttons},i.a.createElement(R.a,{size:"large",type:"submit",variant:"contained",color:"primary",startIcon:i.a.createElement(T.e,null),disabled:n||r,className:u.button},"Save"),i.a.createElement(R.a,{size:"large",type:"reset",variant:"contained",color:"secondary",disabled:n||r,startIcon:i.a.createElement(T.d,null),onClick:l,className:u.button},"Cancel"))):i.a.createElement(pe.a,{showPreloader:!0})}))),ye=a(436),xe=a(585),ke=a(575),Ie=function(e){var t=e.children,a=e.selectedTab,n=e.index,o=Object(r.a)(e,["children","selectedTab","index"]);return i.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"scrollable-force-tabpanel-".concat(n),"aria-labelledby":"scrollable-force-tab-".concat(n)},o,{style:{padding:2}}),a===n&&t)},Ne=a(526),Ce=a.n(Ne),Se=Object(u.a)((function(e){return{paper:{backgroundColor:e.palette.common.white,padding:25,borderTopRightRadius:0,borderTopLeftRadius:0,marginBottom:20},withBg:{position:"relative","&:after":{display:"block",content:"''",background:"url(".concat(Ce.a,") no-repeat"),opacity:.5,top:0,right:0,width:100,height:100,position:"absolute",backgroundSize:100}},edit:{position:"absolute",textAlign:"right",right:15,top:15},status:{marginBottom:e.spacing(2)},contacts:{},block:{marginBottom:e.spacing(2)},jobIcon:{transform:"translateY(4px)",marginLeft:5,"&.error":{color:e.palette.error.main},"&.success":{color:e.palette.success.main}},divider:{position:"relative",top:4,zIndex:2}}})),Pe=Object(m.a)(Se,{withTheme:!0})((function(e){var t=e.profile,a=t.fullName,n=t.lookingForAJobDescription,r=t.aboutMe,o=t.lookingForAJob,l=e.profileIsLoading,c=e.classes,s=[{id:1,title:"Full Name: ",text:a},{id:2,title:"About me:  ",text:r},{id:3,title:"Looking for a job:  ",text:o?i.a.createElement(T.i,{fontSize:"small",className:F()(c.jobIcon,"success")}):i.a.createElement(T.A,{fontSize:"small",className:F()(c.jobIcon,"error")})},{id:4,title:"Job Description: ",text:n}];return i.a.createElement(i.a.Fragment,null,i.a.createElement(ve,{customClasses:c.divider}),i.a.createElement(V.a,{className:F()("".concat(c.paper),Object(E.a)({},"".concat(c.withBg),o&&!l))},s.map((function(e){var t=e.id,a=e.title,n=e.text;return n?i.a.createElement("div",{className:c.block,key:t},l?i.a.createElement(Y.a,{animation:"wave",width:"100%",className:"MuiTypography-subtitle1"}):i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{variant:"subtitle1",component:"span"},a),i.a.createElement(x.a,{variant:"body1",component:"span"},n))):null}))))})),Te=a(390),Le=a(419),Be=a(111),Fe=Object(u.a)((function(e){return{menuItemText:{paddingLeft:10,color:Be.a[600]},menuItemIcon:{color:Be.a[600]},paper:{backgroundColor:e.palette.common.white}}})),Ae=Object(m.a)(Fe,{withTheme:!0})((function(e){var t=e.post,a=e.anchorEl,n=e.handleClose,r=e.openDialog,o=e.classes;return i.a.createElement("div",null,i.a.createElement(Te.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:n,PaperProps:{className:o.paper}},i.a.createElement(Le.a,{onClick:function(){return r(!0,"edit",t)}},i.a.createElement(T.j,{fontSize:"small",className:o.menuItemIcon}),i.a.createElement(x.a,{variant:"body2",className:o.menuItemText},"Edit")),i.a.createElement(Le.a,{onClick:function(){return r(!0,"confirm",t)}},i.a.createElement(T.h,{fontSize:"small",className:o.menuItemIcon}),i.a.createElement(x.a,{variant:"body2",className:o.menuItemText},"Delete"))))})),Ue=Object(u.a)((function(e){return{post:{backgroundColor:e.palette.common.white,padding:"20px 25px 10px",marginBottom:20,position:"relative",wordBreak:"break-word"},content:{padding:"20px 0"},footer:{display:"flex",alignItems:"center",marginTop:10},likeBtn:{cursor:"pointer",marginRight:10,"&:hover":{"& $likeIcon":{color:e.palette.secondary.main}}},isLiked:{"& $likeIcon":{color:e.palette.secondary.main}},likeIcon:{color:Be.a[300],transition:"color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},date:{fontSize:12,color:Be.a[500]},head:{display:"flex",alignItems:"center"},avatar:{marginRight:10,width:50,height:50},more:{position:"absolute",right:10,top:10},moreIcon:{transition:"color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",color:e.palette.primary.light," &:hover":{color:e.palette.primary.main}}}})),De=Object(m.a)(Ue,{withTheme:!0})((function(e){var t=e.post,a=e.author,n=a.fullName,r=a.photos,l=e.openDialog,c=e.onLikePost,s=e.ownerId,u=e.isOwner,m=e.classes,d=t.text,p=t.date,b=t.likedBy,f=Object(o.useState)(null),g=Object(v.a)(f,2),h=g[0],O=g[1],j=null!==r.large?r.large:y.a,w=b.includes(String(s)),k=function(e){var t=new Date(+e);return t.toLocaleDateString()+" at "+t.toLocaleTimeString().split(":").slice(0,-1).join(":")}(p);return i.a.createElement(V.a,{className:m.post},i.a.createElement("div",{className:m.head},i.a.createElement(te.a,{src:j,alt:"avatar",sizes:"50",className:m.avatar}),i.a.createElement("div",null,i.a.createElement(x.a,{variant:"subtitle1"},n),i.a.createElement(x.a,{variant:"body2",className:m.date},k)),u&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ee.a,{"aria-label":"more","aria-controls":"post-submenu","aria-haspopup":"true",onClick:function(e){var t=e.currentTarget;O(t)},className:m.more},i.a.createElement(T.z,null)),i.a.createElement(Ae,{post:t,anchorEl:h,handleClose:function(){O(null)},openDialog:l}))),i.a.createElement(x.a,{variant:"body1",className:m.content},d),i.a.createElement(ne.a,null),i.a.createElement(x.a,{variant:"body2",className:m.footer},i.a.createElement(ee.a,{className:F()(m.likeBtn,Object(E.a)({},m.isLiked,w)),size:"small",onClick:function(){s&&c(String(s),t)},disabled:!s},i.a.createElement(T.p,{fontSize:"small",className:m.likeIcon})),i.a.createElement(x.a,{variant:"body2",component:"span"},b.length)))})),Re=Object(u.a)((function(e){return{paper:{padding:"30px 25px",backgroundColor:e.palette.common.white,marginBottom:20},form:{position:"relative",display:"flex",alignItems:"center"},root:{flexGrow:1,marginBottom:0},button:{marginLeft:10},buttonIcon:{fontSize:"1.7rem"}}})),ze=Object(m.a)(Re,{withTheme:!0}),Me=Object(de.a)({form:"posts"})(ze((function(e){var t=e.handleSubmit,a=e.submitting,n=e.addPostLoading,r=e.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ve,null),i.a.createElement(V.a,{square:!0,className:r.paper},i.a.createElement("form",{className:r.form,onSubmit:t},i.a.createElement(pe.a,{showPreloader:n}),i.a.createElement(me.a,{placeholder:"What's on your mind?",name:"postText",type:"textarea",component:fe.a,validate:[be.c],multiline:!0,rowsMax:"3",classes:{root:r.root},variant:"outlined"}),i.a.createElement(ee.a,{type:"submit",disabled:a||n,"aria-label":"send",className:r.button},i.a.createElement(T.G,{color:"primary",className:r.buttonIcon})))))}))),$e=function(e){var t=e.isOpen,a=e.itemToEdit,n=e.onEditPost,r=e.openDialog,l=Object(o.useState)(a.text),c=Object(v.a)(l,2),s=c[0],u=c[1],m=function(){r(!1,"edit",null)};return i.a.createElement(N.a,{open:t,resetAction:m,submitAction:function(){s&&(n(s,a),m())},"aria-labelledby":"edit-post-dialog",title:"Edit Post"},i.a.createElement(I.a,{autoFocus:!0,margin:"dense",label:"Edit post",type:"textarea",multiline:!0,rowsMax:10,value:s,onChange:function(e){var t=e.target.value;u(t)},fullWidth:!0,error:!s}))},We=Object(u.a)((function(e){return{paper:{backgroundColor:e.palette.common.white,width:"100%"},emptyText:{padding:25}}})),Je=Object(m.a)(We,{withTheme:!0})((function(e){var t=e.isLoading,a=e.isOwner,n=e.classes;return i.a.createElement(V.a,{className:n.paper},!a&&i.a.createElement(ve,null),t?i.a.createElement("div",{className:n.emptyText},i.a.createElement(Y.a,{animation:"wave",width:"100%",className:"MuiTypography-body1"})):i.a.createElement(x.a,{variant:"body1",className:n.emptyText},"There are no posts yet..."))})),qe=function(e){var t=e.posts,a=void 0===t?[]:t,n=e.onLikePost,r=e.isOwner,o=e.ownerId,l=e.onAddPost,c=e.onDeletePost,s=e.onEditPost,u=e.author,m=e.selectedPost,d=e.addPostLoading,p=e.editDialogIsOpen,b=e.deleteDialogIsOpen,f=e.openDialog;return i.a.createElement(i.a.Fragment,null,r&&i.a.createElement(Me,{onSubmit:l,addPostLoading:d}),a&&!a.length&&i.a.createElement(Je,{isOwner:r,isLoading:!1}),a&&a.length>0&&a.map((function(e){return i.a.createElement(De,{post:e,isOwner:r,key:e.id,openDialog:f,author:u,ownerId:o,onLikePost:n})})),m&&i.a.createElement(i.a.Fragment,null,i.a.createElement($e,{isOpen:p,itemToEdit:m,onEditPost:s,openDialog:f}),i.a.createElement(H.a,{isOpen:b,openDialog:f,confirmAction:c,itemToConfirm:m})))},He=a(384),Qe=a(474),_e=a(141);function Ge(){var e=Object(Qe.a)(["\n    query PostsData($authorId: Int!) {\n        posts(authorId: $authorId){\n            id,\n            text,\n            likedBy,\n            date,\n            authorId\n        }\n     }\n"]);return Ge=function(){return e},e}var Ye=a.n(_e)()(Ge()),Ze=a(202);function Xe(){var e=Object(Qe.a)(["\n   mutation UpdatePostMutation($id: ID, $text: String!, $likedBy: [String!]!) {\n   updatePost(id: $id, text: $text, likedBy: $likedBy) {\n        id\n        text\n        likedBy\n    }\n}\n"]);return Xe=function(){return e},e}function Ke(){var e=Object(Qe.a)(["\n   mutation DeletePostMutation($id: ID) {\n    deletePost(id: $id) {\n        text\n    }\n}\n"]);return Ke=function(){return e},e}function Ve(){var e=Object(Qe.a)(["\n   mutation AddPostMutation($text: String!, $date: String!, $authorId: Int!, $likedBy: [String!]!) {\n    addPost(text: $text, date: $date, authorId: $authorId, likedBy: $likedBy) {\n        text\n        date\n        authorId,\n        likedBy\n    }\n}\n"]);return Ve=function(){return e},e}var et=Object(Ze.b)(Ve()),tt=Object(Ze.b)(Ke()),at=Object(Ze.b)(Xe()),nt=a(83),rt=a(61),ot=function(e){var t=e.authorId,a=e.isOwner,n=e.author,r=e.currentUserInfo,l=Object(He.b)(Ye,{variables:{authorId:t}}),c=l.data,s=l.loading,u=Object(He.a)(et),m=Object(v.a)(u,2),d=m[0],p=m[1].loading,b=Object(He.a)(tt),f=Object(v.a)(b,1)[0],g=Object(He.a)(at),E=Object(v.a)(g,1)[0],O=Object(o.useState)(!1),j=Object(v.a)(O,2),w=j[0],y=j[1],x=Object(o.useState)(!1),k=Object(v.a)(x,2),I=k[0],N=k[1],C=Object(o.useState)(null),S=Object(v.a)(C,2),P=S[0],T=S[1],L=Object(rt.c)();if(s||!c)return i.a.createElement(Je,{isLoading:!0,isOwner:a});var B=c.posts;return i.a.createElement(qe,{posts:B,isOwner:a,ownerId:r?r.userId:null,onAddPost:function(e){var a=e.postText;a&&a.length>0&&d({variables:{text:a,date:(new Date).toString(),authorId:t,likedBy:[]},refetchQueries:[{query:Ye,variables:{authorId:t}}]}).then((function(){return L(Object(nt.a)("posts"))}))},onDeletePost:function(e){f({variables:{id:e},refetchQueries:[{query:Ye,variables:{authorId:t}}]})},onEditPost:function(e,a){var n=a.id,r=a.likedBy;E({variables:{id:n,text:e,likedBy:r},refetchQueries:[{query:Ye,variables:{authorId:t}}]})},author:n,editDialogIsOpen:w,deleteDialogIsOpen:I,selectedPost:P,addPostLoading:p,onLikePost:function(e,a){var n=a.id,r=a.text,o=a.likedBy;o=o.includes(e)?o.filter((function(t){return t!==e})):[].concat(Object(h.a)(o),[e]),E({variables:{id:n,text:r,likedBy:o},refetchQueries:[{query:Ye,variables:{authorId:t}}]})},openDialog:function(e,t,a){switch(T(a),t){case"confirm":N(e);break;case"edit":y(e)}}})},it=a(527),lt=a.n(it),ct=Object(u.a)((function(e){return{tab:Object(E.a)({fontWeight:400,textTransform:"none",minWidth:"auto",color:e.palette.primary.light,"&:not($selected):hover":{color:e.palette.primary.main}},e.breakpoints.up("lg"),{minWidth:90}),selected:{color:e.palette.secondary.main,cursor:"auto"},indicator:{backgroundColor:"transparent"}}})),st=Object(m.a)(ct,{withTheme:!0}),ut=Object(Q.d)(Object(ye.a)(),st)((function(e){var t=e.profile,a=e.isOwner,n=e.currentUserInfo,r=e.width,o=e.profileIsLoading,l=e.classes,s=i.a.useState(0),u=Object(v.a)(s,2),m=u[0],d=u[1],p=Object(ye.c)("md",r);return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{container:!0,direction:p?"row":"column-reverse"},i.a.createElement(c.a,{item:!0,xs:12,md:10},i.a.createElement(lt.a,{axis:"x",index:m,onChangeIndex:function(e){d(e)}},i.a.createElement(Ie,{selectedTab:m,index:0},i.a.createElement(Pe,{profile:t,profileIsLoading:o})),i.a.createElement(Ie,{selectedTab:m,index:1},i.a.createElement(ot,{author:t,authorId:t.userId,isOwner:a,currentUserInfo:n})))),i.a.createElement(c.a,{item:!0,xs:12,md:2},i.a.createElement(xe.a,{value:m,onChange:function(e,t){d(t)},indicatorColor:"secondary",textColor:"secondary","aria-label":"profile tabs",centered:!p,orientation:p?"vertical":"horizontal",TabIndicatorProps:{className:l.indicator}},i.a.createElement(ke.a,{icon:i.a.createElement(T.c,null),label:"Info",disableRipple:!0,classes:{root:l.tab,selected:l.selected}}),i.a.createElement(ke.a,{icon:i.a.createElement(T.w,null),label:"Posts",disableRipple:!0,classes:{root:l.tab,selected:l.selected}})))))})),mt=Object(l.j)((function(e){var t=e.currentUserInfo,a=e.profile,n=e.status,r=e.setUserStatus,o=e.isOwner,c=e.loadPhoto,s=e.updateInfo,u=e.profileIsLoading,m=e.followed;return i.a.createElement(ue,{profile:a,status:n,isOwner:o,setUserStatus:r,loadPhoto:c,profileIsLoading:u,followed:m},i.a.createElement(l.d,null,o&&i.a.createElement(l.b,{exact:!0,path:"/settings"},t&&i.a.createElement(we,{profile:t,onSubmit:s})),i.a.createElement(l.b,{path:"/profile/:id?"},a&&i.a.createElement(ut,{profile:a,isOwner:o,currentUserInfo:t,profileIsLoading:u}))))})),dt=a(37),pt=a(153),bt=a(63),ft=a(545),gt=a.n(ft),ht=Object(u.a)((function(e){return{root:{textAlign:"center",padding:"30px 0",flexGrow:1},img:{maxWidth:300,margin:"25px 0"},error:{textAlign:"left"}}})),vt=Object(m.a)(ht,{withTheme:!0})((function(e){var t=e.profileError,a=e.classes;return i.a.createElement("div",{className:a.root},i.a.createElement(x.a,{variant:"h4"},"Profile Not Found"),i.a.createElement("img",{src:gt.a,alt:"no-profile",className:a.img}),i.a.createElement($.a,{severity:"error",className:a.error},t))})),Et=a(444),Ot=dt.h.getUserProfile,jt=dt.h.getUserStatus,wt=dt.h.getIsUserFollowed,yt=dt.h.loadPhoto,xt=dt.h.updateProfileInfo,kt=dt.h.setUserProfile,It=dt.h.setUserStatus;t.default=Object(Q.d)(Object(rt.b)((function(e){return{profile:Object(pt.b)(e),status:Object(pt.e)(e),userId:Object(bt.b)(e),isAuth:Object(bt.e)(e),profileError:Object(pt.c)(e),profileIsLoading:Object(pt.d)(e),currentUserInfo:Object(bt.c)(e),isFollowed:Object(pt.a)(e)}}),{getUserProfile:Ot,getUserStatus:jt,setUserStatus:It,setUserProfile:kt,loadPhoto:yt,updateProfileInfo:xt,getIsUserFollowed:wt}),l.j,Et.a)((function(e){var t=e.isAuth,a=e.userId,c=e.getUserProfile,s=e.getUserStatus,u=e.profile,m=e.status,d=e.setUserStatus,p=e.loadPhoto,b=e.updateProfileInfo,f=e.profileError,g=e.profileIsLoading,h=e.currentUserInfo,v=e.isFollowed,E=e.getIsUserFollowed,O=Object(l.i)().id,j=Object(l.g)(),w=!O||Number(O)===a;Object(o.useEffect)((function(){var e=O;O||(t?e=String(a):j.push("/login")),c(Number(e)),s(Number(e)),w||E(Number(e))}),[O,t,c,a,s,j]);return f?i.a.createElement(vt,{profileError:f}):i.a.createElement(mt,{profile:u,status:m,setUserStatus:d,isOwner:w,loadPhoto:p,updateInfo:function(e){var t=e.aboutMe,o=e.lookingForAJob,i=e.lookingForAJobDescription,l=e.fullName,c=Object(r.a)(e,["aboutMe","lookingForAJob","lookingForAJobDescription","fullName"]);if(a&&u){var s=Object(n.a)({},u,{aboutMe:t,lookingForAJob:o,lookingForAJobDescription:i,fullName:l,contacts:Object(n.a)({},u.contacts,{},c)});b(s,a)}},currentUserInfo:h,profileIsLoading:g,followed:v})}))},441:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(3),r=a(13),o=a(0),i=a.n(o),l=a(199),c=a(584),s=a(573),u=a(587),m=a(574),d=["text","email","search","password","textarea"],p=Object(l.a)((function(e){return{textInput:{marginBottom:25,"& .MuiFormHelperText-root":Object(r.a)({fontSize:10,position:"absolute",bottom:0,transform:"translateY(100%)"},e.breakpoints.up("sm"),{fontSize:12})}}})),b=function(e){var t=e.input,a=e.label,r=e.type,o=e.meta,l=o.touched,b=o.error,f=Object(n.a)(e,["input","label","type","meta"]),g=p();return i.a.createElement(i.a.Fragment,null,d.includes(r)&&i.a.createElement(c.a,Object.assign({error:l&&Boolean(b),helperText:l&&b?b:"",label:a,type:r,fullWidth:!0,className:g.textInput},t,f)),"checkbox"===r&&i.a.createElement(s.a,{className:g.textInput,control:i.a.createElement(u.a,{checked:!!t.value,onChange:t.onChange}),label:a}),"switch"===r&&i.a.createElement(s.a,{className:g.textInput,control:i.a.createElement(m.a,{checked:!!t.value,onChange:t.onChange}),label:a}))}},443:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var n=function(e){return e?void 0:"Required"},r=function(e){return function(t){if(t.length<e)return"Minimum length ".concat(e," symbols")}},o=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0}},444:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(78),r=a(57),o=a(131),i=a(132),l=a(133),c=a(0),s=a.n(c),u=a(71),m=a(61),d=a(63),p=a(34),b=function(e){return{isAuth:Object(d.e)(e)}},f=function(e){var t=function(t){function a(){return Object(n.a)(this,a),Object(o.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(l.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){return this.props.isAuth?s.a.createElement(e,this.props):s.a.createElement(u.a,{to:p.a.login.path})}}]),a}(c.Component);return Object(m.b)(b)(t)}},445:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return s}));var n=function(e){return e.usersReducer.users},r=function(e){return e.usersReducer.pageSize},o=function(e){return e.usersReducer.totalUsersCount},i=function(e){return e.usersReducer.currentPage},l=function(e){return e.usersReducer.isLoading},c=function(e){return e.usersReducer.followInProgress},s=function(e){return e.usersReducer.searchQuery}},455:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(423),i=a(66),l=a.n(i),c=a(71),s=a(445),u=a(61),m=a(44),d=a(29),p=a(459),b=a(204),f=a(11),g=Object(b.a)((function(e){return{btnFollow:{background:e.palette.success.main,"&:hover":{background:e.palette.success.dark},"&.active":{background:e.palette.secondary.main}}}})),h=Object(f.a)(g,{withTheme:!0}),v=a(33),E={follow:m.e.follow,unfollow:m.e.unfollow,startChat:d.j.startChat};t.a=Object(u.b)((function(e){return{followInProgress:Object(s.b)(e)}}),E)(h((function(e){var t=e.classes,a=e.userId,n=e.followed,i=e.followInProgress,s=e.unfollow,u=e.follow,m=e.startChat,d=e.isLoading,b=e.updateProfileFollowed,f=void 0!==b&&b,g=e.customClasses,h=Object(c.g)(),E=g&&g.label?g.label:void 0,O=g&&g.text?g.text:void 0,j=g&&g.btn?g.btn:void 0;return d?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{animation:"wave",height:36,className:j}),r.a.createElement(p.a,{animation:"wave",height:36,className:j})):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{disabled:i.includes(a),variant:"contained",color:"primary",classes:{label:E,root:l()(t.btnFollow,{active:n},j),text:O},startIcon:n?r.a.createElement(v.C,null):r.a.createElement(v.D,null),onClick:n?function(){return s(a,f)}:function(){return u(a,f)}},r.a.createElement("span",{className:O},n?"Unfollow":"Follow")),r.a.createElement(o.a,{variant:"contained",color:"primary",classes:{label:E,root:j,text:O},startIcon:r.a.createElement(v.l,null),disabled:i.includes(a),onClick:function(){return m(a,h)}},r.a.createElement("span",{className:O},"Message")))})))},482:function(e,t,a){e.exports=a.p+"static/media/profile_cover.b9246c6e.jpg"},526:function(e,t,a){e.exports=a.p+"static/media/job-image.b1475ad9.png"},545:function(e,t,a){e.exports=a.p+"static/media/profileNotFound.afb82acb.jpg"}}]);
//# sourceMappingURL=ProfileContainer.023dd1b6.chunk.js.map