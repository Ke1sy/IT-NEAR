(this["webpackJsonpit-near"]=this["webpackJsonpit-near"]||[]).push([[5],{388:function(e,t,a){"use strict";a.r(t);var n=a(50),r=a(0),o=a.n(r),c=a(61),i=a(13),s=a(128),l=a.n(s),u=a(41),m=a(66),d=a.n(m),g=a(581),b=a(415),h=a(439),p=a(582),f=a(76),v=a(583),E=a(584),j=a(35),w=a(460),O=a(456),x=a(204),y=a(11),C=Object(x.a)((function(e){return{root:{background:e.palette.common.white,paddingTop:20,borderRadius:0,textAlign:"center",display:"flex",height:"100%",flexDirection:"column"},avatarImg:{height:100,width:100,margin:"0 auto"},content:{padding:"15px 20px",flexGrow:1},buttons:{padding:"0 20px 25px",display:"flex",justifyContent:"space-between",width:"100%",maxWidth:320,margin:"0 auto"},btnLabel:{fontSize:14},bottom:{marginTop:"auto",borderTop:"1px solid "+e.palette.grey[200]},btn:{width:"48%",maxWidth:"48%"},bottomLink:{display:"block",width:"100%",padding:"1rem 0",color:e.palette.secondary.light},autoMargin:{margin:"0 auto"},noHover:{pointerEvents:"none"}}})),S=Object(y.a)(C,{withTheme:!0})((function(e){var t=e.user,a=e.isLoading,n=e.classes,r=t.id,c=t.photos,s=t.name,m=t.status,x=t.followed,y=null!==c.small?c.small:l.a;return o.a.createElement(g.a,{className:n.root},o.a.createElement(b.a,{component:u.b,to:j.a.profile.getPath(r),underline:"none"},a?o.a.createElement(w.a,{animation:"wave",variant:"circle",width:100,height:100,className:n.avatarImg}):o.a.createElement(h.a,{src:y,alt:s||"avatar",className:n.avatarImg,component:"span"})),o.a.createElement(p.a,{className:n.content},a?o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{animation:"wave",width:"85%",className:d()(n.autoMargin,"MuiTypography-h5")}),o.a.createElement(w.a,{animation:"wave",width:"60%",className:d()(n.autoMargin,"MuiTypography-body2")})):o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{gutterBottom:!0,variant:"h5",component:"div",noWrap:!0},s),o.a.createElement(f.a,{variant:"body2",color:"textSecondary",component:"p",noWrap:!0},m))),o.a.createElement(v.a,{className:n.buttons},o.a.createElement(O.a,{isLoading:a,followed:x,userId:r,customClasses:{label:n.btnLabel,btn:n.btn}})),o.a.createElement(E.a,{className:d()(n.bottom,Object(i.a)({},n.noHover,a))},a?o.a.createElement("div",{className:n.bottomLink},o.a.createElement(w.a,{animation:"wave",width:"50%",className:d()(n.autoMargin,"MuiTypography-body2")})):o.a.createElement(b.a,{component:u.b,to:j.a.profile.getPath(r),className:n.bottomLink,underline:"none"},o.a.createElement(f.a,{variant:"body1",component:"span"},"View Profile"))))})),N=a(48),P=a(587),T=a(437),k=Object(x.a)((function(e){return{root:{margin:"40px 0","& .Mui-selected":{pointerEvents:"none"},"& .MuiPagination-ul":{justifyContent:"center"}}}})),L=Object(y.a)(k,{withTheme:!0}),R=Object(N.d)(Object(T.a)(),L)((function(e){var t=e.classes,a=e.totalPages,n=e.currentPage,r=e.onSetCurrentPage,c=e.width;return o.a.createElement(P.a,{size:"xs"===c?"small":"medium",count:a,page:n,onChange:r,color:"primary",className:t.root})})),I=a(428),F=a(241),M=a(242),q=a(442),A=a(444),z=a(122),B=a(418),U=Object(x.a)((function(e){return{root:Object(i.a)({margin:"15px 0 25px",padding:"2px 20px",display:"flex",alignItems:"center",width:"100%",backgroundColor:"rgba(255, 255, 255, 0.7)",position:"relative",minHeight:80},e.breakpoints.up("sm"),{marginBottom:40}),input:{marginLeft:e.spacing(1),flex:1,color:e.palette.primary.main},iconButton:{marginRight:10,padding:10,color:e.palette.primary.main}}})),W=Object(y.a)(U,{withTheme:!0}),H=a(34),D=Object(A.b)(3),Q=Object(M.a)({form:"search"})(W((function(e){var t=e.handleSubmit,a=e.submitting,n=e.isLoading,r=e.classes;return o.a.createElement(z.a,{component:"form",className:r.root,onSubmit:t},n?o.a.createElement(w.a,{animation:"wave",height:40,width:"100%"}):o.a.createElement(o.a.Fragment,null,o.a.createElement(B.a,{type:"submit",className:r.iconButton,"aria-label":"search",disabled:a},o.a.createElement(H.F,null)),o.a.createElement(F.a,{name:"searchText",type:"search",label:"Search",component:q.a,autoComplete:"off",placeholder:"Type search request...",validate:[A.c,D]})))}))),Z=a(589),J=Object(x.a)((function(){return{searchTxt:{marginLeft:10},search:{width:"100%"}}})),G=Object(y.a)(J)((function(e){var t=e.onChangeSearchText,a=e.searchRequest,n=e.onResetSearch,r=e.isLoading,c=e.classes;return o.a.createElement("div",{className:c.search},a&&o.a.createElement(f.a,{variant:"body2"},"Found on query:",o.a.createElement(Z.a,{label:a,onDelete:n,color:"secondary",className:c.searchTxt})),o.a.createElement(Q,{onSubmit:t,onResetSearch:n,isLoading:r}))})),V=function(e){var t=e.users,a=e.currentPage,n=e.onResetSearch,r=e.onSetCurrentPage,c=e.onChangeSearchText,i=e.isLoading,s=e.searchRequest,l=e.totalPages;return o.a.createElement("div",null,o.a.createElement(f.a,{gutterBottom:!0,variant:"h3",style:{paddingTop:30,textAlign:"center"}},"Users"),o.a.createElement(G,{onChangeSearchText:c,searchRequest:s,onResetSearch:n,isLoading:i}),o.a.createElement(I.a,{container:!0,spacing:3},t.map((function(e){return o.a.createElement(I.a,{item:!0,xs:12,sm:6,md:4,lg:3,key:e.id},o.a.createElement(S,{user:e,isLoading:i}))}))),t.length>0&&o.a.createElement(R,{totalPages:l,currentPage:Number(a),onSetCurrentPage:r}))},Y=a(446),$=a(42),_=a(71),K=a(552),X=a.n(K),ee=a(445);t.default=Object(N.d)(Object(c.b)((function(e){return{users:Object(Y.g)(e),pageSize:Object(Y.d)(e),totalUsersCount:Object(Y.f)(e),currentPage:Object(Y.a)(e),isLoading:Object(Y.c)(e),followInProgress:Object(Y.b)(e),searchQuery:Object(Y.e)(e)}}),{requestUsers:$.h}),_.j,ee.a)((function(e){var t=e.pageSize,a=e.searchQuery,c=e.isLoading,i=e.users,s=e.totalUsersCount,l=e.currentPage,u=e.requestUsers,m=Object(r.useState)(null),d=Object(n.a)(m,2),g=d[0],b=d[1],h=Math.ceil(s/t),p=Object(_.h)(),f=Object(_.g)();Object(r.useEffect)((function(){var e=v(),a=e.search,n=void 0===a?"":a,r=e.page;u(Number(void 0===r?1:r),t,String(n))}),[]),Object(r.useEffect)((function(){var e=X.a.parse(p.search);b(e.search?e.search:null)}),[p]);var v=function(){return X.a.parse(p.search)},E=function(e,t){return"?"+X.a.stringify({search:t||void 0,page:e||void 0})};return o.a.createElement(V,{onSetCurrentPage:function(e,t){f.replace(E(t,a))},users:i,currentPage:l,onChangeSearchText:function(e){var t=e.searchText;f.replace(E(void 0,t))},onResetSearch:function(){f.replace(E(void 0,""))},isLoading:c,searchRequest:g,totalPages:h})}))},442:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(3),r=a(13),o=a(0),c=a.n(o),i=a(199),s=a(585),l=a(574),u=a(588),m=a(575),d=["text","email","search","password","textarea"],g=Object(i.a)((function(e){return{textInput:{marginBottom:25,"& .MuiFormHelperText-root":Object(r.a)({fontSize:10,position:"absolute",bottom:0,transform:"translateY(100%)"},e.breakpoints.up("sm"),{fontSize:12})}}})),b=function(e){var t=e.input,a=e.label,r=e.type,o=e.meta,i=o.touched,b=o.error,h=Object(n.a)(e,["input","label","type","meta"]),p=g();return c.a.createElement(c.a.Fragment,null,d.includes(r)&&c.a.createElement(s.a,Object.assign({error:i&&Boolean(b),helperText:i&&b?b:"",label:a,type:r,fullWidth:!0,className:p.textInput},t,h)),"checkbox"===r&&c.a.createElement(l.a,{className:p.textInput,control:c.a.createElement(u.a,{checked:!!t.value,onChange:t.onChange}),label:a}),"switch"===r&&c.a.createElement(l.a,{className:p.textInput,control:c.a.createElement(m.a,{checked:!!t.value,onChange:t.onChange}),label:a}))}},444:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var n=function(e){return e?void 0:"Required"},r=function(e){return function(t){if(t.length<e)return"Minimum length ".concat(e," symbols")}},o=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0}},445:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(78),r=a(57),o=a(131),c=a(132),i=a(133),s=a(0),l=a.n(s),u=a(71),m=a(61),d=a(63),g=a(35),b=function(e){return{isAuth:Object(d.e)(e)}},h=function(e){var t=function(t){function a(){return Object(n.a)(this,a),Object(o.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(i.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){return this.props.isAuth?l.a.createElement(e,this.props):l.a.createElement(u.a,{to:g.a.login.path})}}]),a}(s.Component);return Object(m.b)(b)(t)}},446:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return l}));var n=function(e){return e.usersReducer.users},r=function(e){return e.usersReducer.pageSize},o=function(e){return e.usersReducer.totalUsersCount},c=function(e){return e.usersReducer.currentPage},i=function(e){return e.usersReducer.isLoading},s=function(e){return e.usersReducer.followInProgress},l=function(e){return e.usersReducer.searchQuery}},456:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(424),c=a(66),i=a.n(c),s=a(71),l=a(446),u=a(61),m=a(42),d=a(29),g=a(460),b=a(204),h=a(11),p=Object(b.a)((function(e){return{btnFollow:{background:e.palette.success.main,"&:hover":{background:e.palette.success.dark},"&.active":{background:e.palette.secondary.main}}}})),f=Object(h.a)(p,{withTheme:!0}),v=a(34);t.a=Object(u.b)((function(e){return{followInProgress:Object(l.b)(e)}}),{unfollow:m.o,follow:m.g,startChat:d.A})(f((function(e){var t=e.classes,a=e.userId,n=e.followed,c=e.followInProgress,l=e.unfollow,u=e.follow,m=e.startChat,d=e.isLoading,b=e.updateProfileFollowed,h=void 0!==b&&b,p=e.customClasses,f=Object(s.g)(),E=p&&p.label?p.label:void 0,j=p&&p.text?p.text:void 0,w=p&&p.btn?p.btn:void 0;return d?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{animation:"wave",height:36,className:w}),r.a.createElement(g.a,{animation:"wave",height:36,className:w})):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{disabled:c.includes(a),variant:"contained",color:"primary",classes:{label:E,root:i()(t.btnFollow,{active:n},w),text:j},startIcon:n?r.a.createElement(v.C,null):r.a.createElement(v.D,null),onClick:n?function(){return l(a,h)}:function(){return u(a,h)}},r.a.createElement("span",{className:j},n?"Unfollow":"Follow")),r.a.createElement(o.a,{variant:"contained",color:"primary",classes:{label:E,root:w,text:j},startIcon:r.a.createElement(v.l,null),disabled:c.includes(a),onClick:function(){return m(a,f)}},r.a.createElement("span",{className:j},"Message")))})))}}]);
//# sourceMappingURL=UsersContainer.d5fcd27e.chunk.js.map