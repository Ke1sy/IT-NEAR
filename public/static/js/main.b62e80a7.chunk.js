(this["webpackJsonpit-near"]=this["webpackJsonpit-near"]||[]).push([[6],{113:function(e,t,n){e.exports=n.p+"static/media/logo.0a470749.png"},140:function(e,t,n){e.exports=n.p+"static/media/user-placeholder.f4e91123.png"},146:function(e,t,n){"use strict";var r=n(4),a=n(0),c=n.n(a),s=n(485),o=n(486),u=n(487),i=n(488),l=n(480),p=n(229),d=n(11),f=Object(p.a)((function(e){return{paper:{backgroundColor:e.palette.common.white},title:{textAlign:"center",padding:"16px 24px 8px"},buttons:{justifyContent:"space-between",padding:"8px 24px 16px"},btn:{width:"48%"}}})),m=Object(d.a)(f,{withTheme:!0}),b=n(33);t.a=m((function(e){var t=e.open,n=e.title,a=e.children,p=e.submitAction,d=e.resetAction,f=e.submitName,m=e.submitDisabled,g=e.classes,h=Object(r.a)(e,["open","title","children","submitAction","resetAction","submitName","submitDisabled","classes"]);return c.a.createElement(s.a,Object.assign({open:t,onClose:d,fullWidth:!0,maxWidth:"xs"},h,{classes:{paper:g.paper}}),c.a.createElement(o.a,{className:g.title},n),c.a.createElement(u.a,null,a),c.a.createElement(i.a,{className:g.buttons,disableSpacing:!0},c.a.createElement(l.a,Object.assign({onClick:p,className:g.btn,color:"primary",variant:"contained",startIcon:c.a.createElement(b.e,null)},m?{disabled:m}:{}),f||"Confirm"),c.a.createElement(l.a,{onClick:d,className:g.btn,color:"secondary",variant:"contained",startIcon:c.a.createElement(b.d,null)},"Cancel")))}))},148:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(79),s=n(146);t.a=function(e){var t=e.isOpen,n=e.openDialog,r=e.confirmAction,o=e.itemToConfirm,u=e.children,i=function(){n(!1,"confirm",null)};return a.a.createElement(s.a,{open:t,resetAction:i,submitAction:function(){o?r(o.id):r(),i()},"aria-labelledby":"delete-post-dialog",title:"Are you sure?"},u||a.a.createElement(c.a,{variant:"body2"},u||"If you click 'CONFIRM' the element will be removed from database."))}},165:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return o}));var r=function(e){return e.profileReducer.profile},a=function(e){return e.profileReducer.profileError},c=function(e){return e.profileReducer.profileIsLoading},s=function(e){return e.profileReducer.isFollowed},o=function(e){return e.profileReducer.status}},204:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return l}));var r=function(e){return e.dialogsReducer.messages},a=function(e){return e.dialogsReducer.dialogs},c=function(e){return e.dialogsReducer.lastUserActivityDate},s=function(e){return e.dialogsReducer.deletedMessages},o=function(e){return e.dialogsReducer.spamedMessages},u=function(e){return e.dialogsReducer.newMessagesCount},i=function(e){return e.dialogsReducer.selectedFriend},l=function(e){return e.dialogsReducer.messagesLoading}},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"k",(function(){return b}));var r=n(27),a=n(16),c="dialogs/GET_DIALOGS_ASYNC",s="dialogs/GET_MESSAGES_ASYNC",o="dialogs/UPDATE_MESSAGES_ASYNC",u="dialogs/SEND_MESSAGE_ASYNC",i="dialogs/START_CHAT_ASYNC",l="dialogs/GET_NEW_MESSAGES_COUNT_ASYNC",p="dialogs/DELETE_MESSAGE_ASYNC",d="dialogs/RESTORE_MESSAGE_ASYNC",f="dialogs/SPAM_MESSAGE_ASYNC",m={dialogs:[],messages:[],newMessagesCount:null,lastUserActivityDate:null,deletedMessages:[],spamedMessages:[],selectedFriend:null,messagesLoading:!1},b={setMessagesLoading:function(e){return{type:"dialogs/SET_MESSAGES_LOADING",messagesLoading:e}},setDialogs:function(e){return{type:"dialogs/SET_DIALOGS",dialogs:e}},setSelectedFriend:function(e){return{type:"dialogs/SET_SELECTED_FRIEND",selectedFriend:e}},setMessages:function(e){return{type:"dialogs/SET_MESSAGES",messages:e}},setActivityDate:function(e){return{type:"dialogs/SET_ACTIVITY_DATE",userId:e}},setNewMessagesCount:function(e){return{type:"dialogs/SET_NEW_MESSAGES_COUNT",count:e}},addMessage:function(e){return{type:"dialogs/ADD_MESSAGE",message:e}},addMessageToDeleted:function(e){return{type:"dialogs/ADD_MESSAGE_TO_DELETED",messageId:e}},addMessageToSpam:function(e){return{type:"dialogs/ADD_MESSAGE_TO_SPAM",messageId:e}},restoreFromSpamDeleted:function(e){return{type:"dialogs/RESTORE_FROM_SPAM_DELETED",messageId:e}},startChat:function(e,t){return{type:i,userId:e,history:t}},sendMessage:function(e,t){return{type:u,userId:e,message:t}},getMessages:function(e){return{type:s,userId:e}},updateMessages:function(e){return{type:o,userId:e}},deleteMessage:function(e){return{type:p,messageId:e}},restoreMessage:function(e){return{type:d,messageId:e}},spamMessage:function(e){return{type:f,messageId:e}},getDialogs:function(){return{type:c}},requestNewMessagesCount:function(){return{type:l}}};t.j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/SET_DIALOGS":return Object(a.a)({},e,{dialogs:t.dialogs});case"dialogs/SET_MESSAGES":return Object(a.a)({},e,{messages:t.messages});case"dialogs/SET_MESSAGES_LOADING":return Object(a.a)({},e,{messagesLoading:t.messagesLoading});case"dialogs/SET_SELECTED_FRIEND":return Object(a.a)({},e,{selectedFriend:t.selectedFriend});case"dialogs/ADD_MESSAGE":return Object(a.a)({},e,{messages:[].concat(Object(r.a)(e.messages),[t.message])});case"dialogs/ADD_MESSAGE_TO_DELETED":return Object(a.a)({},e,{deletedMessages:[].concat(Object(r.a)(e.deletedMessages),[t.messageId])});case"dialogs/ADD_MESSAGE_TO_SPAM":return Object(a.a)({},e,{spamedMessages:[].concat(Object(r.a)(e.spamedMessages),[t.messageId])});case"dialogs/RESTORE_FROM_SPAM_DELETED":return Object(a.a)({},e,{deletedMessages:Object(r.a)(e.deletedMessages).filter((function(e){return e!==t.messageId})),spamedMessages:Object(r.a)(e.spamedMessages).filter((function(e){return e!==t.messageId}))});case"dialogs/SET_NEW_MESSAGES_COUNT":return Object(a.a)({},e,{newMessagesCount:t.count});case"dialogs/SET_ACTIVITY_DATE":var n=Object(r.a)(e.dialogs).find((function(e){return e.id===Number(t.userId)}));return void 0!==n?Object(a.a)({},e,{lastUserActivityDate:n.lastUserActivityDate}):e;default:return e}}},302:function(e,t,n){e.exports=n(431)},33:function(e,t,n){"use strict";var r=n(166),a=n.n(r);n.d(t,"x",(function(){return a.a}));var c=n(167),s=n.n(c);n.d(t,"B",(function(){return s.a}));var o=n(168),u=n.n(o);n.d(t,"r",(function(){return u.a}));var i=n(169),l=n.n(i);n.d(t,"H",(function(){return l.a}));var p=n(170),d=n.n(p);n.d(t,"m",(function(){return d.a}));var f=n(171),m=n.n(f);n.d(t,"E",(function(){return m.a}));var b=n(172),g=n.n(b);n.d(t,"k",(function(){return g.a}));var h=n(173),O=n.n(h);n.d(t,"h",(function(){return O.a}));var x=n(174),E=n.n(x);n.d(t,"j",(function(){return E.a}));var v=n(175),j=n.n(v);n.d(t,"o",(function(){return j.a}));var S=n(176),w=n.n(S);n.d(t,"v",(function(){return w.a}));var y=n(177),I=n.n(y);n.d(t,"I",(function(){return I.a}));var k=n(178),_=n.n(k);n.d(t,"t",(function(){return _.a}));var T=n(179),A=n.n(T);n.d(t,"J",(function(){return A.a}));var C=n(180),N=n.n(C);n.d(t,"q",(function(){return N.a}));var L=n(181),U=n.n(L);n.d(t,"b",(function(){return U.a}));var D=n(182),R=n.n(D);n.d(t,"e",(function(){return R.a}));var M=n(183),P=n.n(M);n.d(t,"d",(function(){return P.a}));var F=n(184),G=n.n(F);n.d(t,"z",(function(){return G.a}));var z=n(185),W=n.n(z);n.d(t,"p",(function(){return W.a}));var Y=n(186),q=n.n(Y);n.d(t,"C",(function(){return q.a}));var B=n(187),H=n.n(B);n.d(t,"D",(function(){return H.a}));var K=n(188),V=n.n(K);n.d(t,"l",(function(){return V.a}));var Q=n(189),X=n.n(Q);n.d(t,"G",(function(){return X.a}));var J=n(190),$=n.n(J);n.d(t,"A",(function(){return $.a}));var Z=n(191),ee=n.n(Z);n.d(t,"i",(function(){return ee.a}));var te=n(192),ne=n.n(te);n.d(t,"u",(function(){return ne.a}));var re=n(193),ae=n.n(re);n.d(t,"s",(function(){return ae.a}));var ce=n(194),se=n.n(ce);n.d(t,"n",(function(){return se.a}));var oe=n(195),ue=n.n(oe);n.d(t,"a",(function(){return ue.a}));var ie=n(196),le=n.n(ie);n.d(t,"F",(function(){return le.a}));var pe=n(197),de=n.n(pe);n.d(t,"w",(function(){return de.a}));var fe=n(198),me=n.n(fe);n.d(t,"c",(function(){return me.a}));var be=n(199),ge=n.n(be);n.d(t,"y",(function(){return ge.a}));var he=n(200),Oe=n.n(he);n.d(t,"f",(function(){return Oe.a}));var xe=n(201),Ee=n.n(xe);n.d(t,"g",(function(){return Ee.a}))},34:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=a.a.lazy((function(){return Promise.all([n.e(0),n.e(9),n.e(4)]).then(n.bind(null,443))})),s={home:{path:"/",exact:!0,redirect:function(e){return e?"/profile":"/login"}},profile:{path:"/profile/:id?",component:c,exact:!1,getPath:function(e){return e?"/profile/".concat(e):"/profile"}},settings:{path:"/settings",exact:!0,component:c},dialogs:{path:"/dialogs/:id?",component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(11),n.e(2)]).then(n.bind(null,444))})),getPath:function(e){return e?"/dialogs/".concat(e):"/dialogs"}},login:{path:"/login",exact:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,446))}))},users:{path:"/users",exact:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(10),n.e(5)]).then(n.bind(null,445))}))},notFound:{path:"*",exact:!1,component:a.a.lazy((function(){return n.e(3).then(n.bind(null,448))}))}};t.a=s},365:function(e,t){},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return p}));var r=n(16),a="profile/GET_STATUS_ASYNC",c="profile/SET_STATUS_ASYNC",s="profile/UPDATE_USER_PROFILE_ASYNC",o="profile/GET_USER_PROFILE_ASYNC",u="profile/GET_IS_FOLLOWED_ASYNC",i="profile/LOAD_PHOTO_ASYNC",l={profile:null,profileError:null,status:"",profileIsLoading:!1,isFollowed:!1},p={toggleProfileLoading:function(e){return{type:"profile/TOGGLE_PROFILE_LOADING",profileIsLoading:e}},setUserProfile:function(e){return{type:"profile/SET_USER_PROFILE",profile:e}},setUserProfileError:function(e){return{type:"profile/SET_USER_PROFILE_FAILED",profileError:e}},setPhoto:function(e){return{type:"profile/SET_PHOTO",photos:e}},updateIsFollowed:function(e){return{type:"profile/SET_IS_FOLLOWED",isFollowed:e}},setStatus:function(e){return{type:"profile/UPDATE_STATUS",status:e}},getUserStatus:function(e){return{type:a,id:e}},setUserStatus:function(e){return{type:c,status:e}},updateProfileInfo:function(e,t){return{type:s,info:e,userId:t}},getUserProfile:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:o,id:e,updateCurrentUserInfo:t}},loadPhoto:function(e){return{type:i,photo:e}},getIsUserFollowed:function(e){return{type:u,id:e}}};t.g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_USER_PROFILE":return Object(r.a)({},e,{profile:t.profile,profileError:null});case"profile/TOGGLE_PROFILE_LOADING":return Object(r.a)({},e,{profileIsLoading:t.profileIsLoading});case"profile/SET_USER_PROFILE_FAILED":return Object(r.a)({},e,{profile:null,profileError:t.profileError});case"profile/UPDATE_STATUS":return Object(r.a)({},e,{status:t.status});case"profile/SET_PHOTO":return Object(r.a)({},e,{profile:Object(r.a)({},e.profile,{photos:t.photos})});case"profile/SET_IS_FOLLOWED":return Object(r.a)({},e,{isFollowed:t.isFollowed});default:return e}}},428:function(e,t,n){},431:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),s=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,u,i=n(47),l=n(37),p=n(25),d=n(48),f=n(231),m=n(228),b=n(61),g=n(44),h=n(242),O=n(30),x=n(8),E=n.n(x),v=n(3),j=n(233),S=n.n(j).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"0cd66f02-e607-46e0-aed7-5f9c57c49533"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(o||(o={})),function(e){e[e.CaptchaRequired=10]="CaptchaRequired"}(u||(u={}));var w=function(e,t,n){return S.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)).then((function(e){return e.data}))},y=function(e){return S.get("follow/".concat(e)).then((function(e){return e.data}))},I=function(e){return S.post("follow/".concat(e)).then((function(e){return e.data}))},k=function(e){return S.delete("follow/".concat(e)).then((function(e){return e.data}))},_=function(){return S.get("auth/me").then((function(e){return e.data}))},T=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return S.post("/auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},A=function(){return S.delete("/auth/login").then((function(e){return e.data}))},C=function(){return S.get("security/get-captcha-url").then((function(e){return e.data}))},N=function(e){return S.get("profile/".concat(e)).then((function(e){return e.data}))},L=function(e){return S.get("profile/status/".concat(e)).then((function(e){return e.data}))},U=function(e){return S.put("profile/status",{status:e}).then((function(e){return e.data}))},D=function(e){var t=new FormData;return t.append("image",e),S.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},R=function(e){return S.put("profile",e).then((function(e){return e.data}))},M=function(){return S.get("dialogs").then((function(e){return e.data}))},P=function(e){return S.put("dialogs/".concat(e)).then((function(e){return e.data}))},F=function(e,t){return S.post("dialogs/".concat(e,"/messages"),{body:t}).then((function(e){return e.data}))},G=function(e){return S.get("dialogs/".concat(e,"/messages")).then((function(e){return e.data}))},z=function(e){return S.post("dialogs/messages/".concat(e,"/spam")).then((function(e){return e.data}))},W=function(e){return S.delete("dialogs/messages/".concat(e)).then((function(e){return e.data}))},Y=function(e){return S.put("dialogs/messages/".concat(e,"/restore")).then((function(e){return e.data}))},q=function(){return S.get("dialogs/messages/new/count").then((function(e){return e.data}))},B=n(57),H=n(165),K=n(86),V=n(92),Q=E.a.mark(Ve),X=E.a.mark(Qe),J=E.a.mark(Xe),$=E.a.mark(Je),Z=E.a.mark($e),ee=E.a.mark(Ze),te=E.a.mark(et),ne=E.a.mark(tt),re=E.a.mark(nt),ae=E.a.mark(rt),ce=E.a.mark(at),se=E.a.mark(ct),oe=E.a.mark(st),ue=E.a.mark(ot),ie=E.a.mark(it),le=E.a.mark(lt),pe=E.a.mark(pt),de=E.a.mark(dt),fe=E.a.mark(ft),me=E.a.mark(mt),be=E.a.mark(bt),ge=E.a.mark(an),he=b.b.enqueueSnackbar,Oe=d.d.setUserData,xe=d.d.setCaptchaUrl,Ee=d.d.setCurrentUserInfo,ve=l.h.setUserProfile,je=l.h.setUserProfileError,Se=l.h.toggleProfileLoading,we=l.h.setPhoto,ye=l.h.getIsUserFollowed,Ie=l.h.updateIsFollowed,ke=l.h.getUserProfile,_e=l.h.setStatus,Te=g.e.acceptFollow,Ae=g.e.acceptUnfollow,Ce=g.e.setPage,Ne=g.e.setSearchText,Le=g.e.setUsers,Ue=g.e.setUsersTotalCount,De=g.e.toggleFollowInProgress,Re=g.e.toggleIsLoading,Me=p.k.requestNewMessagesCount,Pe=p.k.addMessage,Fe=p.k.addMessageToDeleted,Ge=p.k.addMessageToSpam,ze=p.k.restoreFromSpamDeleted,We=p.k.setActivityDate,Ye=p.k.setDialogs,qe=p.k.setMessages,Be=p.k.setMessagesLoading,He=p.k.setNewMessagesCount,Ke=p.k.setSelectedFriend;function Ve(e){var t,n,r,a,c,s;return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.id,n=e.updateCurrentUserInfo,o.prev=1,o.next=4,Object(v.c)();case 4:if(a=o.sent,(c=null===(r=Object(H.b)(a))||void 0===r?void 0:r.userId)===t){o.next=9;break}return o.next=9,Object(v.b)(Se(!0));case 9:return o.next=11,Object(v.a)(At,t);case 11:if(s=o.sent,!n){o.next=15;break}return o.next=15,Object(v.b)(Ee(s));case 15:return o.next=17,Object(v.b)(ve(s));case 17:if(c===t){o.next=20;break}return o.next=20,Object(v.b)(Se(!1));case 20:o.next=26;break;case 22:return o.prev=22,o.t0=o.catch(1),o.next=26,Object(v.b)(je(o.t0.message));case 26:case"end":return o.stop()}}),Q,null,[[1,22]])}function Qe(e){var t,n,r,a,c;return E.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.info,n=e.userId,s.prev=1,s.next=4,Object(v.a)(Nt,t);case 4:if(r=s.sent,a=r.resultCode,c=r.messages,a!==o.Success){s.next=14;break}return s.next=10,Object(v.b)(ke(n,!0));case 10:return s.next=12,Object(v.b)(he({message:"Profile successfully updated!",options:{variant:"success"}}));case 12:s.next=16;break;case 14:return s.next=16,Object(v.b)(Object(K.b)("settings",{_error:c}));case 16:s.next=22;break;case 18:return s.prev=18,s.t0=s.catch(1),s.next=22,Object(v.b)(je(s.t0.message));case 22:case"end":return s.stop()}}),X,null,[[1,18]])}function Xe(e){var t,n;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.prev=1,r.next=4,Object(v.a)(wt,t);case 4:return n=r.sent,r.next=7,Object(v.b)(_e(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(v.b)(he({message:r.t0.message,options:{variant:"error"}}));case 13:case"end":return r.stop()}}),J,null,[[1,9]])}function Je(e){var t,n;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.status,r.prev=1,r.next=4,Object(v.a)(_t,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=11;break}return r.next=9,Object(v.b)(_e(t));case 9:return r.next=11,Object(v.b)(he({message:"Status updated!",options:{variant:"success"}}));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(1),r.next=17,Object(v.b)(he({message:r.t0.message,options:{variant:"error"}}));case 17:case"end":return r.stop()}}),$,null,[[1,13]])}function $e(e){var t,n,r,a,c,s;return E.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.photo,u.prev=1,u.next=4,Object(v.a)(It,t);case 4:if(n=u.sent,r=n.data,a=n.resultCode,c=n.messages,a!==o.Success){u.next=18;break}return u.next=11,Object(v.c)();case 11:return s=u.sent,u.next=14,Object(v.b)(we(r.photos));case 14:return u.next=16,Object(v.b)({type:l.c,id:Object(B.b)(s),updateCurrentUserInfo:!0});case 16:u.next=20;break;case 18:return u.next=20,Object(v.b)(he({message:c,options:{variant:"error"}}));case 20:u.next=26;break;case 22:return u.prev=22,u.t0=u.catch(1),u.next=26,Object(v.b)(he({message:u.t0.message,options:{variant:"error"}}));case 26:case"end":return u.stop()}}),Z,null,[[1,22]])}function Ze(e){var t,n;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.prev=1,r.next=4,Object(v.a)(Rt,t);case 4:return n=r.sent,r.next=7,Object(v.b)(Ie(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(v.b)(he({message:r.t0.message,options:{variant:"error"}}));case 13:case"end":return r.stop()}}),ee,null,[[1,9]])}function et(e){var t,n,r,a,c,s;return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.currentPage,n=e.pageSize,r=e.searchText,o.prev=1,o.next=4,Object(v.b)(Ne(r));case 4:return o.next=6,Object(v.b)(Ce(t));case 6:return o.next=8,Object(v.b)(Re(!0));case 8:return o.next=10,Object(v.a)(Ut,t,n,r);case 10:return a=o.sent,c=a.items,s=a.totalCount,o.next=15,Object(v.b)(Re(!1));case 15:return o.next=17,Object(v.b)(Le(c));case 17:return o.next=19,Object(v.b)(Ue(s));case 19:o.next=25;break;case 21:return o.prev=21,o.t0=o.catch(1),o.next=25,Object(v.b)(he({message:o.t0.message,options:{variant:"error"}}));case 25:case"end":return o.stop()}}),te,null,[[1,21]])}function tt(e){var t,n,r,a,c,s;return E.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.action,n=e.id,r=e.updateProfileFollow,u.prev=1,u.next=4,Object(v.b)(De(!0,n));case 4:if("follow"!==t){u.next=10;break}return u.next=7,Object(v.a)(Pt,n);case 7:u.t0=u.sent,u.next=13;break;case 10:return u.next=12,Object(v.a)(Gt,n);case 12:u.t0=u.sent;case 13:if(a=u.t0,c=a.resultCode,s=a.messages,c!==o.Success){u.next=29;break}if("follow"!==t){u.next=22;break}return u.next=20,Object(v.b)(Te(n));case 20:u.next=24;break;case 22:return u.next=24,Object(v.b)(Ae(n));case 24:if(!r){u.next=27;break}return u.next=27,Object(v.b)(ye(n));case 27:u.next=31;break;case 29:return u.next=31,Object(v.b)(he({message:s,options:{variant:"error"}}));case 31:return u.next=33,Object(v.b)(De(!1,n));case 33:u.next=39;break;case 35:return u.prev=35,u.t1=u.catch(1),u.next=39,Object(v.b)(he({message:u.t1.message,options:{variant:"error"}}));case 39:case"end":return u.stop()}}),ne,null,[[1,35]])}function nt(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(v.a)(Wt);case 3:return e=t.sent,t.next=6,Object(v.b)(Ye(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(v.b)(he({message:t.t0.message,options:{variant:"error"}}));case 12:case"end":return t.stop()}}),re,null,[[0,8]])}function rt(e){var t,n,r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.userId,n=e.history,a.prev=1,a.next=4,Object(v.a)(qt,t);case 4:r=a.sent,r.resultCode===o.Success&&n.push("/dialogs/".concat(t)),a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.b)(he({message:a.t0.message,options:{variant:"error"}}));case 13:case"end":return a.stop()}}),ae,null,[[1,9]])}function at(e){var t,n,r,a;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.userId,n=e.message,c.prev=1,c.next=4,Object(v.a)(Ht,t,n);case 4:if(r=c.sent,a=r.data,r.resultCode!==o.Success){c.next=13;break}return V.b.emit("new_message",a.message),c.next=11,Object(v.b)(Pe(a.message));case 11:return c.next=13,Object(v.b)(Object(K.a)("message"));case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(1),c.next=19,Object(v.b)(he({message:c.t0.message,options:{variant:"error"}}));case 19:case"end":return c.stop()}}),ce,null,[[1,15]])}function ct(e){var t,n;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.messageId,r.prev=1,r.next=4,Object(v.a)(Xt,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=9;break}return r.next=9,Object(v.b)(Fe(t));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(v.b)(he({message:r.t0.message,options:{variant:"error"}}));case 15:case"end":return r.stop()}}),se,null,[[1,11]])}function st(e){var t,n;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.messageId,r.prev=1,r.next=4,Object(v.a)($t,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=9;break}return r.next=9,Object(v.b)(ze(t));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(v.b)(he({message:r.t0.message,options:{variant:"error"}}));case 15:case"end":return r.stop()}}),oe,null,[[1,11]])}function ot(e){var t,n;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.messageId,r.prev=1,r.next=4,Object(v.a)(en,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=9;break}return r.next=9,Object(v.b)(Ge(t));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(v.b)(he({message:r.t0.message,options:{variant:"error"}}));case 15:case"end":return r.stop()}}),ue,null,[[1,11]])}var ut=function(e,t,n){var r=Object(B.b)(e);t.filter((function(e){return e.senderId!==r&&!e.viewed})).length>0&&V.b.emit("watch_messages",{watcher:r,reciever:n})};function it(e){var t,n,r,a,c,s;return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.userId,o.prev=1,o.next=4,Object(v.b)(Be(!0));case 4:return o.next=6,Object(v.a)(Vt,t);case 6:return n=o.sent,r=n.error,a=n.items,o.next=11,Object(v.a)(At,t);case 11:if(c=o.sent,r){o.next=19;break}return o.next=15,Object(v.b)(qe(a));case 15:return o.next=17,Object(v.b)(We(t));case 17:return o.next=19,Object(v.b)(Ke(c));case 19:return o.next=21,Object(v.c)();case 21:return s=o.sent,ut(s,a,t),o.next=25,Object(v.b)(Be(!1));case 25:o.next=31;break;case 27:return o.prev=27,o.t0=o.catch(1),o.next=31,Object(v.b)(he({message:o.t0.message,options:{variant:"error"}}));case 31:case"end":return o.stop()}}),ie,null,[[1,27]])}function lt(e){var t,n,r,a,c;return E.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.userId,s.prev=1,s.next=4,Object(v.a)(Vt,t);case 4:if(n=s.sent,r=n.error,a=n.items,r){s.next=16;break}return s.next=10,Object(v.b)(qe(a));case 10:return s.next=12,Object(v.c)();case 12:return c=s.sent,ut(c,a,t),s.next=16,Object(v.b)(Me());case 16:s.next=22;break;case 18:return s.prev=18,s.t0=s.catch(1),s.next=22,Object(v.b)(he({message:s.t0.message,options:{variant:"error"}}));case 22:case"end":return s.stop()}}),le,null,[[1,18]])}function pt(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(v.a)(nn);case 3:return e=t.sent,t.next=6,Object(v.b)(He(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(v.b)(he({message:t.t0.message,options:{variant:"error"}}));case 12:case"end":return t.stop()}}),pe,null,[[0,8]])}function dt(){var e,t,n,r,a;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(v.a)(gt);case 3:if(e=c.sent,t=e.data,e.resultCode!==o.Success){c.next=14;break}return n=t.id,r=t.login,a=t.email,c.next=10,Object(v.b)(Oe(n,r,a,!0));case 10:return c.next=12,Object(v.b)(ke(n,!0));case 12:return c.next=14,Object(v.b)(Me());case 14:c.next=20;break;case 16:return c.prev=16,c.t0=c.catch(0),c.next=20,Object(v.b)(he({message:c.t0.message,options:{variant:"error"}}));case 20:case"end":return c.stop()}}),de,null,[[0,16]])}function ft(e){var t,n,r,a,c,s,i,l,p;return E.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.email,n=e.password,r=e.rememberMe,a=e.captcha,f.prev=1,f.next=4,Object(v.a)(Ot,t,n,r,a);case 4:if(c=f.sent,s=c.resultCode,i=c.messages,s!==o.Success){f.next=12;break}return f.next=10,Object(v.b)({type:d.a});case 10:f.next=21;break;case 12:if(s!==u.CaptchaRequired){f.next=19;break}return f.next=15,Object(v.a)(jt);case 15:return l=f.sent,p=l.url,f.next=19,Object(v.b)(xe(p));case 19:return f.next=21,Object(v.b)(Object(K.b)("login",{_error:i}));case 21:f.next=27;break;case 23:return f.prev=23,f.t0=f.catch(1),f.next=27,Object(v.b)(he({message:f.t0.message,options:{variant:"error"}}));case 27:case"end":return f.stop()}}),fe,null,[[1,23]])}function mt(e){var t,n;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.history,r.prev=1,r.next=4,Object(v.a)(Et);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=12;break}return r.next=9,Object(v.b)(Oe(null,null,null,!1));case 9:return r.next=11,Object(v.b)(He(0));case 11:t.push("/login");case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,Object(v.b)(he({message:r.t0.message,options:{variant:"error"}}));case 18:case"end":return r.stop()}}),me,null,[[1,14]])}function bt(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.b)({type:d.a});case 3:return e.next=5,Object(v.b)(b.b.setAppIsInited());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(v.b)(he({message:e.t0.message,options:{variant:"error"}}));case 11:case"end":return e.stop()}}),be,null,[[0,7]])}function gt(){return ht.apply(this,arguments)}function ht(){return(ht=Object(O.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e,t,n,r){return xt.apply(this,arguments)}function xt(){return(xt=Object(O.a)(E.a.mark((function e(t,n,r,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t,n,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(){return vt.apply(this,arguments)}function vt(){return(vt=Object(O.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){return St.apply(this,arguments)}function St(){return(St=Object(O.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){return yt.apply(this,arguments)}function yt(){return(yt=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(e){return kt.apply(this,arguments)}function kt(){return(kt=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e,t,n){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(O.a)(E.a.mark((function e(t,n,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(e){return zt.apply(this,arguments)}function zt(){return(zt=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(O.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(O.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(){return rn.apply(this,arguments)}function rn(){return(rn=Object(O.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(b.a,bt);case 2:return e.next=4,Object(v.d)(d.a,dt);case 4:return e.next=6,Object(v.d)(d.b,ft);case 6:return e.next=8,Object(v.d)(d.c,mt);case 8:return e.next=10,Object(v.d)(l.c,Ve);case 10:return e.next=12,Object(v.d)(l.d,$e);case 12:return e.next=14,Object(v.d)(l.a,Ze);case 14:return e.next=16,Object(v.d)(g.a,tt);case 16:return e.next=18,Object(v.d)(g.c,tt);case 18:return e.next=20,Object(v.d)(g.b,et);case 20:return e.next=22,Object(v.d)(l.b,Xe);case 22:return e.next=24,Object(v.d)(l.e,Je);case 24:return e.next=26,Object(v.d)(l.f,Qe);case 26:return e.next=28,Object(v.d)(p.b,nt);case 28:return e.next=30,Object(v.d)(p.h,rt);case 30:return e.next=32,Object(v.d)(p.f,at);case 32:return e.next=34,Object(v.d)(p.c,it);case 34:return e.next=36,Object(v.d)(p.i,lt);case 36:return e.next=38,Object(v.d)(p.a,ct);case 38:return e.next=40,Object(v.d)(p.e,st);case 40:return e.next=42,Object(v.d)(p.g,ot);case 42:return e.next=44,Object(v.d)(p.d,pt);case 44:case"end":return e.stop()}}),ge)}var cn=an,sn=Object(i.c)({profileReducer:l.g,dialogsReducer:p.j,usersReducer:g.d,authReducer:d.e,app:b.c,form:m.a}),on=Object(h.a)(),un="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,ln=Object(i.e)(sn,un(Object(i.a)(f.a,on)));on.run(cn);var pn=ln,dn=n(41),fn=n(63),mn=(n(428),n(227)),bn=n(489),gn=n(109),hn=n(118),On=Object(gn.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),useNextVariants:!0,color:"#333",h2:{fontSize:"3rem"},h3:{fontSize:"2.5rem"},h4:{fontSize:"1.75rem"},subtitle1:{fontWeight:500}},mixins:{toolbar:{minHeight:48}},palette:{type:"light",primary:{main:"#3d4977"},secondary:{main:"#ab003c"},grey:hn.a,success:{main:"#00B294"},background:"#f5f5f5",error:{main:"#E81123"},contrastThreshold:3,tonalOffset:.2,contrastText:"#fff",text:{primary:"#333"}}}),xn=n(439),En=n(71),vn=new mn.a({uri:"/graphql"});s.a.render(a.a.createElement(dn.a,null,a.a.createElement(xn.a,{client:vn},a.a.createElement(fn.a,{store:pn},a.a.createElement(En.SnackbarProvider,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:2e3},a.a.createElement(bn.a,{theme:On},a.a.createElement(V.a,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},44:function(e,t,n){"use strict";var r=n(27),a=n(16),c=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(a.a)({},e,{},r):e}))};n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l}));var s="users/FOLLOW_ASYNC",o="users/UNFOLLOW_ASYNC",u="users/REQUEST_USERS_ASYNC",i={users:[],pageSize:12,totalUsersCount:20,currentPage:1,isLoading:!0,followInProgress:[],searchQuery:null},l={setUsers:function(e){return{type:"users/SET_USERS",users:e}},setPage:function(e){return{type:"users/SET_PAGE",page:e}},setUsersTotalCount:function(e){return{type:"users/SET_TOTAL_COUNT",count:e}},toggleIsLoading:function(e){return{type:"users/TOGGLE_IS_LOADING",isLoading:e}},toggleFollowInProgress:function(e,t){return{type:"users/TOGGLE_FOLLOW_IN_PROGRESS",inProgress:e,userId:t}},setSearchText:function(e){return{type:"users/SET_SEARCH_TEXT",query:e}},requestUsers:function(e,t,n){return{type:u,currentPage:e,pageSize:t,searchText:n}},follow:function(e,t){return{type:s,action:"follow",id:e,updateProfileFollow:t}},unfollow:function(e,t){return{type:o,action:"unfollow",id:e,updateProfileFollow:t}},acceptFollow:function(e){return{type:"users/FOLLOW_ACCEPT",userId:e}},acceptUnfollow:function(e){return{type:"users/UNFOLLOW_ACCEPT",userId:e}}};t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/FOLLOW_ACCEPT":return Object(a.a)({},e,{users:c(e.users,t.userId,"id",{followed:!0})});case"users/UNFOLLOW_ACCEPT":return Object(a.a)({},e,{users:c(e.users,t.userId,"id",{followed:!1})});case"users/SET_USERS":return Object(a.a)({},e,{users:t.users});case"users/SET_PAGE":return Object(a.a)({},e,{currentPage:t.page});case"users/SET_TOTAL_COUNT":return Object(a.a)({},e,{totalUsersCount:t.count});case"users/TOGGLE_IS_LOADING":return Object(a.a)({},e,{isLoading:t.isLoading});case"users/SET_SEARCH_TEXT":return Object(a.a)({},e,{searchQuery:t.query});case"users/TOGGLE_FOLLOW_IN_PROGRESS":return Object(a.a)({},e,{followInProgress:t.inProgress?[].concat(Object(r.a)(e.followInProgress),[t.userId]):e.followInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(16),a="auth/AUTH_ASYNC",c="auth/LOGIN_ASYNC",s="auth/LOGOUT_ASYNC",o={userId:null,login:null,email:null,isAuth:!1,captchaUrl:null,currentUserInfo:null},u={setUserData:function(e,t,n,r){return{type:"auth/SET_USER_DATA",userId:e,login:t,email:n,isAuth:r}},setCaptchaUrl:function(e){return{type:"auth/SET_CAPTCHA_URL",captchaUrl:e}},setCurrentUserInfo:function(e){return{type:"auth/SET_CURRENT_USER_INFO",currentUserInfo:e}},login:function(e,t,n,r){return{type:c,email:e,password:t,rememberMe:n,captcha:r}},logout:function(e){return{type:s,history:e}}};t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":var n=t.userId,a=t.login,c=t.email,s=t.isAuth;return Object(r.a)({},e,{userId:n,login:a,email:c,isAuth:s});case"auth/SET_CURRENT_USER_INFO":var u=t.currentUserInfo;return Object(r.a)({},e,{currentUserInfo:u});case"auth/SET_CAPTCHA_URL":var i=t.captchaUrl;return Object(r.a)({},e,{captchaUrl:i});default:return e}}},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var r=function(e){return e.authReducer.userId},a=function(e){return e.authReducer.login},c=function(e){return e.authReducer.isAuth},s=function(e){return e.authReducer.currentUserInfo},o=function(e){return e.authReducer.captchaUrl}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n(27),a=n(16),c="app/INIT_APP_ASYNC",s={inited:!1,notifications:[]},o={enqueueSnackbar:function(e){var t=e.options&&e.options.key;return{type:"app/ENQUEUE_SNACKBAR",notification:Object(a.a)({},e,{key:t||(new Date).getTime()+Math.random()})}},removeSnackbar:function(e){return{type:"app/REMOVE_SNACKBAR",key:e}},setAppIsInited:function(){return{type:"app/SET_INITED"}},appInitialize:function(){return{type:c}}};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET_INITED":return Object(a.a)({},e,{inited:!0});case"app/ENQUEUE_SNACKBAR":return Object(a.a)({},e,{notifications:[].concat(Object(r.a)(e.notifications),[Object(a.a)({},t.notification)])});case"app/REMOVE_SNACKBAR":return Object(a.a)({},e,{notifications:e.notifications.filter((function(e){return e.key!==t.key}))});default:return e}}},92:function(e,t,n){"use strict";var r=n(50),a=n(81),c=n(58),s=n(143),o=n(144),u=n(145),i=n(0),l=n.n(i),p=n(74),d=n(63),f=n(47),m=n(61),b=n(97),g=n(4),h=n(41),O=n(113),x=n.n(O),E=n(481),v=n(482),j=n(483),S=n(484),w=n(491),y=n(477),I=n(34),k=n(67),_=n.n(k),T=n(33),A=n(469),C=n(435),N=n(471),L=n(494),U=n(474),D=n(475),R=n(79),M=n(13),P=n(229),F=n(11),G=Object(P.a)((function(e){return{list:Object(M.a)({padding:0},e.breakpoints.up("sm"),{display:"flex",justifyContent:"flex-end",marginRight:20}),listItem:Object(M.a)({padding:"0 8px",width:"auto"},e.breakpoints.down("xs"),{borderBottom:"1px solid ".concat(e.palette.grey[200])}),link:Object(M.a)({color:e.palette.text.primary,alignItems:"center",display:"flex",width:"100%"},e.breakpoints.down("xs"),{padding:"8px 0",color:e.palette.grey[600]}),icon:Object(M.a)({padding:e.spacing(1),color:e.palette.common.white,lineHeight:0},e.breakpoints.down("xs"),{color:e.palette.grey[500],marginRight:5}),name:Object(M.a)({},e.breakpoints.down("xs"),{fontSize:"1.2rem"}),activeLink:{pointerEvents:"none","& .MuiIconButton-root":{backgroundColor:e.palette.primary.light},"& $icon, & $name":Object(M.a)({},e.breakpoints.down("xs"),{color:e.palette.primary.light})},tooltip:{backgroundColor:e.palette.primary.light}}})),z=Object(F.a)(G,{withTheme:!0})((function(e){var t=e.newMessagesCount,n=e.userId,r=e.openLogoutDialog,a=e.isAuth,c=e.classes,s=[{id:1,text:"Profile",url:I.a.profile.getPath(n),icon:l.a.createElement(T.r,null)},{id:2,text:"Dialogs",url:I.a.dialogs.getPath(null),icon:l.a.createElement(T.x,null)},{id:3,text:"Users",url:I.a.users.path,icon:l.a.createElement(T.B,null)}],o=[].concat(s,[{id:4,text:"Settings",url:I.a.settings.path,icon:l.a.createElement(T.H,null)},{id:5,text:"Logout",url:null,icon:l.a.createElement(T.m,null)}]),u=t&&t>0;return l.a.createElement(A.a,{className:c.list},l.a.createElement(w.a,{xsDown:!0},s.map((function(e){var n=e.id,r=e.text,a=e.url,s=e.icon;return l.a.createElement(C.a,{key:n,className:c.listItem},l.a.createElement(N.a,{component:h.b,to:a,activeClassName:c.activeLink,className:c.link,underline:"none",color:"textSecondary"},l.a.createElement(L.a,{title:r,"aria-label":r,classes:{tooltip:c.tooltip}},l.a.createElement(U.a,{"aria-label":r,className:c.icon},a===I.a.dialogs.getPath(null)&&u?l.a.createElement(D.a,{badgeContent:t,max:99,color:"secondary"},s):s))))}))),l.a.createElement(w.a,{smUp:!0},o.map((function(e){var t=e.id,n=e.text,s=e.url,o=e.icon;return 5!==t||a?l.a.createElement(C.a,{key:t,className:c.listItem},l.a.createElement(N.a,Object.assign({component:s?h.b:"span"},s?{to:s,activeClassName:c.activeLink}:"",5===t?{onClick:function(){return r(!0)}}:"",{className:c.link,underline:"none",color:"textSecondary"}),l.a.createElement(R.a,{variant:"body1",component:"span",className:_()("MuiListItemIcon-root",c.icon)},s===I.a.dialogs.getPath(null)&&u?l.a.createElement(D.a,{color:"secondary",variant:"dot"},o):o),l.a.createElement(R.a,{variant:"body1",component:"span",className:c.name},n))):null}))))})),W=n(480),Y=n(495),q=n(140),B=n.n(q),H=n(447),K=n(476),V=n(478),Q=n(479),X=Object(P.a)((function(e){return{paper:{borderTopLeftRadius:0,borderTopRightRadius:0},list:{padding:0,backgroundColor:e.palette.common.white},menuItemTxt:{lineHeight:1},menuItem:{"&:hover":{backgroundColor:e.palette.primary.light,color:e.palette.common.white,"& .MuiLink-root, & .MuiListItemIcon-root":{color:e.palette.common.white,textDecoration:"none"}}},menuIcon:{minWidth:35},link:{"&:hover":{backgroundColor:e.palette.primary.light,color:e.palette.common.white,"& .MuiLink-root, & .MuiListItemIcon-root":{color:e.palette.common.white,textDecoration:"none"}}}}})),J=Object(F.a)(X,{withTheme:!0})((function(e){var t=e.userId,n=e.handleClose,r=e.anchorEl,a=e.classes,c=e.openLogoutDialog;return l.a.createElement(H.a,{id:"customized-menu",anchorEl:r,open:Boolean(r),onClose:n,elevation:10,getContentAnchorEl:null,classes:{paper:a.paper,list:a.list},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(K.a,{component:h.b,to:I.a.profile.getPath(t),className:a.menuItem,onClick:function(){return n()}},l.a.createElement("span",{className:_()("MuiListItemIcon-root",a.menuIcon)},l.a.createElement(T.E,{fontSize:"small"})),l.a.createElement(R.a,{variant:"body1",component:"span",className:a.menuItemTxt},"Profile")),l.a.createElement(y.a,{orientation:"horizontal",light:!0}),l.a.createElement(K.a,{component:h.b,to:I.a.settings.path,className:a.menuItem,onClick:function(){return n()}},l.a.createElement("span",{className:_()("MuiListItemIcon-root",a.menuIcon)},l.a.createElement(T.k,{fontSize:"small"})),l.a.createElement(R.a,{variant:"body1",component:"span",className:a.menuItemTxt},"Edit Profile")),l.a.createElement(y.a,{orientation:"horizontal",light:!0}),l.a.createElement(K.a,{className:a.menuItem,onClick:function(){c(!0),n()}},l.a.createElement(V.a,{className:a.menuIcon},l.a.createElement(T.m,{fontSize:"small"})),l.a.createElement(Q.a,{classes:{primary:a.menuItemTxt},primary:"Logout"})))})),$=Object(P.a)((function(e){return{avatar:{display:"flex",alignItems:"center",paddingLeft:20,paddingRight:20,textTransform:"none"},avatarRoot:{marginRight:10},loginLink:{paddingLeft:20,paddingRight:20,color:e.palette.common.white},avatarText:{padding:"0 5px"},avatarIcon:{"&.active":{transform:"rotate(180deg)",transition:"0.1s linear"}}}})),Z=Object(F.a)($,{withTheme:!0})((function(e){var t=e.isAuth,n=e.login,a=e.currentUserInfo,c=e.userId,s=e.openLogoutDialog,o=e.classes,u=l.a.useState(null),i=Object(r.a)(u,2),p=i[0],d=i[1],f=a&&a.photos.small?a.photos.small:B.a;return l.a.createElement(l.a.Fragment,null,t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(W.a,{className:o.avatar,color:"inherit",onClick:function(e){d(e.currentTarget)},"aria-controls":"customized-menu","aria-haspopup":"true"},l.a.createElement(Y.a,{src:f,alt:n||"avatar",sizes:"40",classes:{root:o.avatarRoot}}),l.a.createElement(w.a,{smDown:!0},l.a.createElement(R.a,{variant:"body2",className:o.avatarText},a&&a.fullName?a.fullName:n)),l.a.createElement(T.n,{fontSize:"small",className:"".concat(o.avatarIcon," ").concat(p?"active":"")})),l.a.createElement(J,{openLogoutDialog:s,userId:c,handleClose:function(){d(null)},anchorEl:p})),!t&&l.a.createElement(N.a,{component:h.b,to:I.a.login.path,className:o.loginLink},"Login"))})),ee=n(492),te=Object(P.a)((function(e){return{list:{width:250},menuButton:{marginRight:0,padding:e.spacing(1)},paper:{backgroundColor:e.palette.common.white},head:{display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1,backgroundColor:e.palette.primary.main,height:49},headImg:{height:30}}})),ne=Object(F.a)(te,{withTheme:!0})((function(e){var t=e.children,n=e.classes,a=l.a.useState(!1),c=Object(r.a)(a,2),s=c[0],o=c[1],u=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o(e)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,{color:"inherit","aria-label":"open drawer",onClick:u(!0),edge:"end",className:n.menuButton},s?l.a.createElement(T.f,{fontSize:"large"}):l.a.createElement(T.y,{fontSize:"large"})),l.a.createElement(ee.a,{open:s,onClose:u(!1),onOpen:u(!0),anchor:"left",classes:{paper:n.paper}},l.a.createElement("div",{className:n.list,role:"presentation",onClick:u(!1),onKeyDown:u(!1)},l.a.createElement(h.b,{to:I.a.home.path,className:n.head},l.a.createElement("img",{src:x.a,alt:"",className:n.headImg})),t)))})),re=Object(P.a)((function(e){return{grid:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,color:e.palette.common.white},content:{flexGrow:1,padding:e.spacing(3)},logo:{display:"flex",alignItems:"center",height:"100%",lineHeight:1},logoImg:Object(M.a)({height:30},e.breakpoints.up("sm"),{height:35}),logoutBtn:{padding:e.spacing(1)},logoTxt:{padding:e.spacing(1),color:e.palette.common.white,fontWeight:300},rightColumn:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:"100%"},avatar:{display:"flex",alignItems:"center",paddingLeft:20,paddingRight:20,textTransform:"none"},avatarText:{padding:"0 5px"}}})),ae=Object(F.a)(re,{withTheme:!0})((function(e){var t=e.userId,n=e.login,r=e.isAuth,a=e.newMessagesCount,c=e.currentUserInfo,s=e.openLogoutDialog,o=e.classes;return l.a.createElement(E.a,{position:"fixed",component:"header",className:o.appBar},l.a.createElement(v.a,{maxWidth:"lg"},l.a.createElement(j.a,{variant:"dense",disableGutters:!0},l.a.createElement(S.a,{container:!0,className:o.grid,spacing:0},l.a.createElement(S.a,{item:!0,xs:6,sm:4},l.a.createElement("div",{className:o.logo},l.a.createElement(h.b,{to:I.a.home.path},l.a.createElement("img",{src:x.a,alt:"",className:o.logoImg})))),l.a.createElement(S.a,{item:!0,xs:6,sm:8},l.a.createElement("div",{className:o.rightColumn},l.a.createElement(w.a,{xsDown:!0},l.a.createElement(z,{isAuth:r,newMessagesCount:a,userId:c?c.userId:null,openLogoutDialog:s}),l.a.createElement(y.a,{orientation:"vertical",flexItem:!0,light:!0}),l.a.createElement(Z,{login:n,openLogoutDialog:s,isAuth:r,currentUserInfo:c,userId:t}),l.a.createElement(y.a,{orientation:"vertical",flexItem:!0,light:!0})),l.a.createElement(w.a,{smUp:!0},l.a.createElement(ne,null,l.a.createElement(z,{isAuth:r,openLogoutDialog:s,newMessagesCount:a,userId:c?c.userId:null})))))))))})),ce=n(48),se=n(57),oe=n(204),ue=n(148),ie=n(71),le=n(25),pe=ce.d.logout,de=le.k.requestNewMessagesCount,fe=Object(f.d)(Object(d.b)((function(e){return{userId:Object(se.b)(e),login:Object(se.d)(e),isAuth:Object(se.e)(e),newMessagesCount:Object(oe.f)(e),currentUserInfo:Object(se.c)(e)}}),{logout:pe,requestNewMessagesCount:de}),ie.withSnackbar,p.j)((function(e){var t=e.enqueueSnackbar,n=e.requestNewMessagesCount,a=e.logout,c=e.userId,s=Object(g.a)(e,["enqueueSnackbar","requestNewMessagesCount","logout","userId"]),o=Object(i.useState)(!1),u=Object(r.a)(o,2),d=u[0],f=u[1],m=Object(p.g)();Object(i.useEffect)((function(){Ie.on("new_message",(function(e){e.recipientId===c&&(n(),t("New message from ".concat(e.senderName," for you!"),{variant:"default"}))})),Ie.on("watch_messages",(function(e){e.watcher===c&&n()}))}),[c]);var b=function(e){f(e)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(ae,Object.assign({},s,{userId:c,openLogoutDialog:b})),l.a.createElement(ue.a,{isOpen:d,openDialog:b,confirmAction:function(){a(m)}},!0))})),me=function(e){return function(t){return l.a.createElement(i.Suspense,{fallback:l.a.createElement(b.a,{showPreloader:!0})},l.a.createElement(e,t))}},be=function(e){return e.app.inited},ge=n(490),he=n(16),Oe=n(27),xe=[],Ee=function(){var e=Object(d.c)(),t=Object(d.d)((function(e){return e.app.notifications||[]})),n=Object(ie.useSnackbar)(),r=n.enqueueSnackbar,a=n.closeSnackbar;return l.a.useEffect((function(){t.forEach((function(t){var n,c=t.key,s=t.message,o=t.options,u=void 0===o?{}:o,i=t.dismissed;void 0!==i&&i?a(c):xe.includes(c)||(r(s,Object(he.a)({key:c},u,{onClose:function(e,t,n){u.onClose&&u.onClose(e,t,n)},onExited:function(t,n){var r;e(m.b.removeSnackbar(n)),r=n,xe=Object(Oe.a)(xe.filter((function(e){return r!==e})))}})),n=c,xe=[].concat(Object(Oe.a)(xe),[n]))}))}),[t,a,r,e]),null},ve=function(){return l.a.createElement("footer",{className:"footer",style:{background:"#3d4977"}},l.a.createElement(v.a,{maxWidth:"lg"},l.a.createElement("div",{style:{color:"#fff",padding:"5px 0",fontSize:12}},"Copyright \xa9 2020 Andreeva Alina")))},je=Object(P.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,display:"flex",flexDirection:"column"},toolbar:e.mixins.toolbar}})),Se=Object(F.a)(je,{withTheme:!0}),we=n(238),ye=n.n(we);n.d(t,"b",(function(){return Ie}));var Ie=ye()(),ke=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).globalError=function(e){n.props.enqueueSnackbar("".concat(e.reason),{variant:"error"})},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.appInitialize(),window.addEventListener("unhandledrejection",this.globalError)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.globalError)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes;return t.inited?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ee,null),l.a.createElement(ge.a,null),l.a.createElement(fe,null),l.a.createElement(v.a,{maxWidth:"lg",component:"main",className:n.content},l.a.createElement("div",{className:n.toolbar}),l.a.createElement(p.d,null,Object.entries(I.a).map((function(t){var n=Object(r.a)(t,2),a=n[0],c=n[1],s=c.path,o=c.exact,u=void 0!==o&&o,i=c.redirect,d=void 0===i?null:i,f=c.component,m=d?d(e.props.isAuth):"",b=d?l.a.createElement(p.a,{to:m}):me(f);return l.a.createElement(p.b,{key:a,path:s,exact:u},b)})))),l.a.createElement(ve,null)):l.a.createElement(b.a,{showPreloader:!0})}}]),t}(i.Component);t.a=Object(f.d)(Se,ie.withSnackbar,Object(d.b)((function(e){return{inited:be(e),isAuth:Object(se.e)(e)}}),{appInitialize:m.b.appInitialize}),p.j)(ke)},97:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(468),s=n(229),o=n(11),u=Object(s.a)((function(e){return{preloader:{position:"absolute",top:0,left:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255, 0.7)",zIndex:2,bottom:0}}})),i=Object(o.a)(u,{withTheme:!0});t.a=i((function(e){var t=e.showPreloader,n=e.classes;return t?a.a.createElement("div",{className:n.preloader},t&&a.a.createElement(c.a,{color:"secondary"})):null}))}},[[302,7,8]]]);
//# sourceMappingURL=main.b62e80a7.chunk.js.map