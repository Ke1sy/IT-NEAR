(this["webpackJsonpit-near"]=this["webpackJsonpit-near"]||[]).push([[6],{108:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return l}));var r=function(e){return e.dialogsReducer.messages},a=function(e){return e.dialogsReducer.dialogs},c=function(e){return e.dialogsReducer.lastUserActivityDate},s=function(e){return e.dialogsReducer.deletedMessages},o=function(e){return e.dialogsReducer.spamedMessages},u=function(e){return e.dialogsReducer.newMessagesCount},i=function(e){return e.dialogsReducer.selectedFriend},l=function(e){return e.dialogsReducer.messagesLoading}},113:function(e,t,n){e.exports=n.p+"static/media/logo.0a470749.png"},140:function(e,t,n){e.exports=n.p+"static/media/user-placeholder.f4e91123.png"},146:function(e,t,n){"use strict";var r=n(3),a=n(0),c=n.n(a),s=n(484),o=n(485),u=n(486),i=n(487),l=n(479),p=n(228),d=n(11),f=Object(p.a)((function(e){return{paper:{backgroundColor:e.palette.common.white},title:{textAlign:"center",padding:"16px 24px 8px"},buttons:{justifyContent:"space-between",padding:"8px 24px 16px"},btn:{width:"48%"}}})),m=Object(d.a)(f,{withTheme:!0}),b=n(31);t.a=m((function(e){var t=e.open,n=e.title,a=e.children,p=e.submitAction,d=e.resetAction,f=e.submitName,m=e.submitDisabled,g=e.classes,h=Object(r.a)(e,["open","title","children","submitAction","resetAction","submitName","submitDisabled","classes"]);return c.a.createElement(s.a,Object.assign({open:t,onClose:d,fullWidth:!0,maxWidth:"xs"},h,{classes:{paper:g.paper}}),c.a.createElement(o.a,{className:g.title},n),c.a.createElement(u.a,null,a),c.a.createElement(i.a,{className:g.buttons,disableSpacing:!0},c.a.createElement(l.a,Object.assign({onClick:p,className:g.btn,color:"primary",variant:"contained",startIcon:c.a.createElement(b.e,null)},m?{disabled:m}:{}),f||"Confirm"),c.a.createElement(l.a,{onClick:d,className:g.btn,color:"secondary",variant:"contained",startIcon:c.a.createElement(b.d,null)},"Cancel")))}))},152:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(77),s=n(146);t.a=function(e){var t=e.isOpen,n=e.openDialog,r=e.confirmAction,o=e.itemToConfirm,u=e.children,i=function(){n(!1,"confirm",null)};return a.a.createElement(s.a,{open:t,resetAction:i,submitAction:function(){o?r(o.id):r(),i()},"aria-labelledby":"delete-post-dialog",title:"Are you sure?"},u||a.a.createElement(c.a,{variant:"body2"},u||"If you click 'CONFIRM' the element will be removed from database."))}},165:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return o}));var r=function(e){return e.profileReducer.profile},a=function(e){return e.profileReducer.profileError},c=function(e){return e.profileReducer.profileIsLoading},s=function(e){return e.profileReducer.isFollowed},o=function(e){return e.profileReducer.status}},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return d})),n.d(t,"j",(function(){return m}));var r=n(26),a=n(16),c="dialogs/GET_DIALOGS_ASYNC",s="dialogs/GET_MESSAGES_ASYNC",o="dialogs/SEND_MESSAGE_ASYNC",u="dialogs/START_CHAT_ASYNC",i="dialogs/GET_NEW_MESSAGES_COUNT_ASYNC",l="dialogs/DELETE_MESSAGE_ASYNC",p="dialogs/RESTORE_MESSAGE_ASYNC",d="dialogs/SPAM_MESSAGE_ASYNC",f={dialogs:[],messages:[],newMessagesCount:null,lastUserActivityDate:null,deletedMessages:[],spamedMessages:[],selectedFriend:null,messagesLoading:!1},m={setMessagesLoading:function(e){return{type:"dialogs/SET_MESSAGES_LOADING",messagesLoading:e}},setDialogs:function(e){return{type:"dialogs/SET_DIALOGS",dialogs:e}},setSelectedFriend:function(e){return{type:"dialogs/SET_SELECTED_FRIEND",selectedFriend:e}},setMessages:function(e){return{type:"dialogs/SET_MESSAGES",messages:e}},setActivityDate:function(e){return{type:"dialogs/SET_ACTIVITY_DATE",userId:e}},setNewMessagesCount:function(e){return{type:"dialogs/SET_NEW_MESSAGES_COUNT",count:e}},addMessage:function(e){return{type:"dialogs/ADD_MESSAGE",message:e}},addMessageToDeleted:function(e){return{type:"dialogs/ADD_MESSAGE_TO_DELETED",messageId:e}},addMessageToSpam:function(e){return{type:"dialogs/ADD_MESSAGE_TO_SPAM",messageId:e}},restoreFromSpamDeleted:function(e){return{type:"dialogs/RESTORE_FROM_SPAM_DELETED",messageId:e}},startChat:function(e,t){return{type:u,userId:e,history:t}},sendMessage:function(e,t,n){return{type:o,reciever:e,sender:t,message:n}},getMessages:function(e){return{type:s,userId:e}},deleteMessage:function(e){return{type:l,messageId:e}},restoreMessage:function(e){return{type:p,messageId:e}},spamMessage:function(e){return{type:d,messageId:e}},getDialogs:function(){return{type:c}},requestNewMessagesCount:function(){return{type:i}}};t.i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/SET_DIALOGS":return Object(a.a)({},e,{dialogs:t.dialogs});case"dialogs/SET_MESSAGES":return Object(a.a)({},e,{messages:t.messages});case"dialogs/SET_MESSAGES_LOADING":return Object(a.a)({},e,{messagesLoading:t.messagesLoading});case"dialogs/SET_SELECTED_FRIEND":return Object(a.a)({},e,{selectedFriend:t.selectedFriend});case"dialogs/ADD_MESSAGE":return Object(a.a)({},e,{messages:[].concat(Object(r.a)(e.messages),[t.message])});case"dialogs/ADD_MESSAGE_TO_DELETED":return Object(a.a)({},e,{deletedMessages:[].concat(Object(r.a)(e.deletedMessages),[t.messageId])});case"dialogs/ADD_MESSAGE_TO_SPAM":return Object(a.a)({},e,{spamedMessages:[].concat(Object(r.a)(e.spamedMessages),[t.messageId])});case"dialogs/RESTORE_FROM_SPAM_DELETED":return Object(a.a)({},e,{deletedMessages:Object(r.a)(e.deletedMessages).filter((function(e){return e!==t.messageId})),spamedMessages:Object(r.a)(e.spamedMessages).filter((function(e){return e!==t.messageId}))});case"dialogs/SET_NEW_MESSAGES_COUNT":return Object(a.a)({},e,{newMessagesCount:t.count});case"dialogs/SET_ACTIVITY_DATE":var n=Object(r.a)(e.dialogs).find((function(e){return e.id===Number(t.userId)}));return void 0!==n?Object(a.a)({},e,{lastUserActivityDate:n.lastUserActivityDate}):e;default:return e}}},301:function(e,t,n){e.exports=n(429)},31:function(e,t,n){"use strict";var r=n(184),a=n.n(r);n.d(t,"x",(function(){return a.a}));var c=n(185),s=n.n(c);n.d(t,"B",(function(){return s.a}));var o=n(186),u=n.n(o);n.d(t,"r",(function(){return u.a}));var i=n(187),l=n.n(i);n.d(t,"H",(function(){return l.a}));var p=n(188),d=n.n(p);n.d(t,"m",(function(){return d.a}));var f=n(189),m=n.n(f);n.d(t,"E",(function(){return m.a}));var b=n(190),g=n.n(b);n.d(t,"k",(function(){return g.a}));var h=n(191),O=n.n(h);n.d(t,"h",(function(){return O.a}));var E=n(192),x=n.n(E);n.d(t,"j",(function(){return x.a}));var v=n(193),j=n.n(v);n.d(t,"o",(function(){return j.a}));var S=n(194),w=n.n(S);n.d(t,"v",(function(){return w.a}));var y=n(195),I=n.n(y);n.d(t,"I",(function(){return I.a}));var _=n(196),T=n.n(_);n.d(t,"t",(function(){return T.a}));var k=n(197),C=n.n(k);n.d(t,"J",(function(){return C.a}));var A=n(198),N=n.n(A);n.d(t,"q",(function(){return N.a}));var L=n(199),U=n.n(L);n.d(t,"b",(function(){return U.a}));var D=n(200),R=n.n(D);n.d(t,"e",(function(){return R.a}));var P=n(201),M=n.n(P);n.d(t,"d",(function(){return M.a}));var F=n(202),G=n.n(F);n.d(t,"z",(function(){return G.a}));var z=n(203),W=n.n(z);n.d(t,"p",(function(){return W.a}));var Y=n(204),H=n.n(Y);n.d(t,"C",(function(){return H.a}));var B=n(205),q=n.n(B);n.d(t,"D",(function(){return q.a}));var K=n(206),V=n.n(K);n.d(t,"l",(function(){return V.a}));var Q=n(207),X=n.n(Q);n.d(t,"G",(function(){return X.a}));var J=n(208),$=n.n(J);n.d(t,"A",(function(){return $.a}));var Z=n(209),ee=n.n(Z);n.d(t,"i",(function(){return ee.a}));var te=n(210),ne=n.n(te);n.d(t,"u",(function(){return ne.a}));var re=n(211),ae=n.n(re);n.d(t,"s",(function(){return ae.a}));var ce=n(212),se=n.n(ce);n.d(t,"n",(function(){return se.a}));var oe=n(213),ue=n.n(oe);n.d(t,"a",(function(){return ue.a}));var ie=n(214),le=n.n(ie);n.d(t,"F",(function(){return le.a}));var pe=n(215),de=n.n(pe);n.d(t,"w",(function(){return de.a}));var fe=n(216),me=n.n(fe);n.d(t,"c",(function(){return me.a}));var be=n(217),ge=n.n(be);n.d(t,"y",(function(){return ge.a}));var he=n(218),Oe=n.n(he);n.d(t,"f",(function(){return Oe.a}));var Ee=n(219),xe=n.n(Ee);n.d(t,"g",(function(){return xe.a}))},34:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=a.a.lazy((function(){return Promise.all([n.e(0),n.e(9),n.e(4)]).then(n.bind(null,442))})),s={home:{path:"/",exact:!0,redirect:function(e){return e?"/profile":"/login"}},profile:{path:"/profile/:id?",component:c,exact:!1,getPath:function(e){return e?"/profile/".concat(e):"/profile"}},settings:{path:"/settings",exact:!0,component:c},dialogs:{path:"/dialogs/:id?",component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(11),n.e(2)]).then(n.bind(null,443))})),getPath:function(e){return e?"/dialogs/".concat(e):"/dialogs"}},login:{path:"/login",exact:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,445))}))},users:{path:"/users",exact:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(10),n.e(5)]).then(n.bind(null,444))}))},notFound:{path:"*",exact:!1,component:a.a.lazy((function(){return n.e(3).then(n.bind(null,447))}))}};t.a=s},350:function(e,t){},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return p}));var r=n(16),a="profile/GET_STATUS_ASYNC",c="profile/SET_STATUS_ASYNC",s="profile/UPDATE_USER_PROFILE_ASYNC",o="profile/GET_USER_PROFILE_ASYNC",u="profile/GET_IS_FOLLOWED_ASYNC",i="profile/LOAD_PHOTO_ASYNC",l={profile:null,profileError:null,status:"",profileIsLoading:!1,isFollowed:!1},p={toggleProfileLoading:function(e){return{type:"profile/TOGGLE_PROFILE_LOADING",profileIsLoading:e}},setUserProfile:function(e){return{type:"profile/SET_USER_PROFILE",profile:e}},setUserProfileError:function(e){return{type:"profile/SET_USER_PROFILE_FAILED",profileError:e}},setPhoto:function(e){return{type:"profile/SET_PHOTO",photos:e}},updateIsFollowed:function(e){return{type:"profile/SET_IS_FOLLOWED",isFollowed:e}},setStatus:function(e){return{type:"profile/UPDATE_STATUS",status:e}},getUserStatus:function(e){return{type:a,id:e}},setUserStatus:function(e){return{type:c,status:e}},updateProfileInfo:function(e,t){return{type:s,info:e,userId:t}},getUserProfile:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:o,id:e,updateCurrentUserInfo:t}},loadPhoto:function(e){return{type:i,photo:e}},getIsUserFollowed:function(e){return{type:u,id:e}}};t.g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_USER_PROFILE":return Object(r.a)({},e,{profile:t.profile,profileError:null});case"profile/TOGGLE_PROFILE_LOADING":return Object(r.a)({},e,{profileIsLoading:t.profileIsLoading});case"profile/SET_USER_PROFILE_FAILED":return Object(r.a)({},e,{profile:null,profileError:t.profileError});case"profile/UPDATE_STATUS":return Object(r.a)({},e,{status:t.status});case"profile/SET_PHOTO":return Object(r.a)({},e,{profile:Object(r.a)({},e.profile,{photos:t.photos})});case"profile/SET_IS_FOLLOWED":return Object(r.a)({},e,{isFollowed:t.isFollowed});default:return e}}},416:function(e,t,n){},429:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),s=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,u,i=n(47),l=n(37),p=n(29),d=n(48),f=n(230),m=n(227),b=n(26),g=n(16),h={inited:!1,notifications:[]},O=function(e){var t=e.options&&e.options.key;return{type:"app/ENQUEUE_SNACKBAR",notification:Object(g.a)({},e,{key:t||(new Date).getTime()+Math.random()})}},E=function(e){return{type:"app/REMOVE_SNACKBAR",key:e}},x=function(){return{type:"app/SET_INITED"}},v=function(){return{type:"app/INIT_APP_ASYNC"}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET_INITED":return Object(g.a)({},e,{inited:!0});case"app/ENQUEUE_SNACKBAR":return Object(g.a)({},e,{notifications:[].concat(Object(b.a)(e.notifications),[Object(g.a)({},t.notification)])});case"app/REMOVE_SNACKBAR":return Object(g.a)({},e,{notifications:e.notifications.filter((function(e){return e.key!==t.key}))});default:return e}},S=n(44),w=n(241),y=n(30),I=n(9),_=n.n(I),T=n(5),k=n(232),C=n.n(k).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"0cd66f02-e607-46e0-aed7-5f9c57c49533"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(o||(o={})),function(e){e[e.CaptchaRequired=10]="CaptchaRequired"}(u||(u={}));var A=function(e,t,n){return C.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)).then((function(e){return e.data}))},N=function(e){return C.get("follow/".concat(e)).then((function(e){return e.data}))},L=function(e){return C.post("follow/".concat(e)).then((function(e){return e.data}))},U=function(e){return C.delete("follow/".concat(e)).then((function(e){return e.data}))},D=function(){return C.get("auth/me").then((function(e){return e.data}))},R=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C.post("/auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},P=function(){return C.delete("/auth/login").then((function(e){return e.data}))},M=function(){return C.get("security/get-captcha-url").then((function(e){return e.data}))},F=function(e){return C.get("profile/".concat(e)).then((function(e){return e.data}))},G=function(e){return C.get("profile/status/".concat(e)).then((function(e){return e.data}))},z=function(e){return C.put("profile/status",{status:e}).then((function(e){return e.data}))},W=function(e){var t=new FormData;return t.append("image",e),C.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},Y=function(e){return C.put("profile",e).then((function(e){return e.data}))},H=function(){return C.get("dialogs").then((function(e){return e.data}))},B=function(e){return C.put("dialogs/".concat(e)).then((function(e){return e.data}))},q=function(e,t){return C.post("dialogs/".concat(e,"/messages"),{body:t}).then((function(e){return e.data}))},K=function(e){return C.get("dialogs/".concat(e,"/messages/new?newerThen=2018-05-11T18:11:43.737")).then((function(e){return e.data}))},V=function(e){return C.post("dialogs/messages/".concat(e,"/spam")).then((function(e){return e.data}))},Q=function(e){return C.delete("dialogs/messages/".concat(e)).then((function(e){return e.data}))},X=function(e){return C.put("dialogs/messages/".concat(e,"/restore")).then((function(e){return e.data}))},J=function(){return C.get("dialogs/messages/new/count").then((function(e){return e.data}))},$=n(58),Z=n(165),ee=n(85),te=n(91),ne=n(108),re=_.a.mark(tt),ae=_.a.mark(nt),ce=_.a.mark(rt),se=_.a.mark(at),oe=_.a.mark(ct),ue=_.a.mark(st),ie=_.a.mark(ot),le=_.a.mark(ut),pe=_.a.mark(it),de=_.a.mark(lt),fe=_.a.mark(pt),me=_.a.mark(dt),be=_.a.mark(ft),ge=_.a.mark(mt),he=_.a.mark(bt),Oe=_.a.mark(gt),Ee=_.a.mark(ht),xe=_.a.mark(Ot),ve=_.a.mark(Et),je=_.a.mark(xt),Se=_.a.mark(ln),we=O,ye=d.d.setUserData,Ie=d.d.setCaptchaUrl,_e=d.d.setCurrentUserInfo,Te=l.h.setUserProfile,ke=l.h.setUserProfileError,Ce=l.h.toggleProfileLoading,Ae=l.h.setPhoto,Ne=l.h.getIsUserFollowed,Le=l.h.updateIsFollowed,Ue=l.h.getUserProfile,De=l.h.setStatus,Re=S.e.acceptFollow,Pe=S.e.acceptUnfollow,Me=S.e.setPage,Fe=S.e.setSearchText,Ge=S.e.setUsers,ze=S.e.setUsersTotalCount,We=S.e.toggleFollowInProgress,Ye=S.e.toggleIsLoading,He=p.j.requestNewMessagesCount,Be=p.j.addMessage,qe=p.j.addMessageToDeleted,Ke=p.j.addMessageToSpam,Ve=p.j.restoreFromSpamDeleted,Qe=p.j.setActivityDate,Xe=p.j.setDialogs,Je=p.j.setMessages,$e=p.j.setMessagesLoading,Ze=p.j.setNewMessagesCount,et=p.j.setSelectedFriend;function tt(e){var t,n,r,a,c,s;return _.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.id,n=e.updateCurrentUserInfo,o.prev=1,o.next=4,Object(T.c)();case 4:if(a=o.sent,(c=null===(r=Object(Z.b)(a))||void 0===r?void 0:r.userId)===t){o.next=9;break}return o.next=9,Object(T.b)(Ce(!0));case 9:return o.next=11,Object(T.a)(Dt,t);case 11:if(s=o.sent,!n){o.next=15;break}return o.next=15,Object(T.b)(_e(s));case 15:return o.next=17,Object(T.b)(Te(s));case 17:if(c===t){o.next=20;break}return o.next=20,Object(T.b)(Ce(!1));case 20:o.next=26;break;case 22:return o.prev=22,o.t0=o.catch(1),o.next=26,Object(T.b)(ke(o.t0.message));case 26:case"end":return o.stop()}}),re,null,[[1,22]])}function nt(e){var t,n,r,a,c;return _.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.info,n=e.userId,s.prev=1,s.next=4,Object(T.a)(Pt,t);case 4:if(r=s.sent,a=r.resultCode,c=r.messages,a!==o.Success){s.next=14;break}return s.next=10,Object(T.b)(Ue(n,!0));case 10:return s.next=12,Object(T.b)(we({message:"Profile successfully updated!",options:{variant:"success"}}));case 12:s.next=16;break;case 14:return s.next=16,Object(T.b)(Object(ee.b)("settings",{_error:c}));case 16:s.next=22;break;case 18:return s.prev=18,s.t0=s.catch(1),s.next=22,Object(T.b)(ke(s.t0.message));case 22:case"end":return s.stop()}}),ae,null,[[1,18]])}function rt(e){var t,n;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.prev=1,r.next=4,Object(T.a)(kt,t);case 4:return n=r.sent,r.next=7,Object(T.b)(De(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(T.b)(we({message:r.t0.message,options:{variant:"error"}}));case 13:case"end":return r.stop()}}),ce,null,[[1,9]])}function at(e){var t,n;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.status,r.prev=1,r.next=4,Object(T.a)(Lt,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=11;break}return r.next=9,Object(T.b)(De(t));case 9:return r.next=11,Object(T.b)(we({message:"Status updated!",options:{variant:"success"}}));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(1),r.next=17,Object(T.b)(we({message:r.t0.message,options:{variant:"error"}}));case 17:case"end":return r.stop()}}),se,null,[[1,13]])}function ct(e){var t,n,r,a,c,s;return _.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.photo,u.prev=1,u.next=4,Object(T.a)(At,t);case 4:if(n=u.sent,r=n.data,a=n.resultCode,c=n.messages,a!==o.Success){u.next=18;break}return u.next=11,Object(T.c)();case 11:return s=u.sent,u.next=14,Object(T.b)(Ae(r.photos));case 14:return u.next=16,Object(T.b)({type:l.c,id:Object($.b)(s),updateCurrentUserInfo:!0});case 16:u.next=20;break;case 18:return u.next=20,Object(T.b)(we({message:c,options:{variant:"error"}}));case 20:u.next=26;break;case 22:return u.prev=22,u.t0=u.catch(1),u.next=26,Object(T.b)(we({message:u.t0.message,options:{variant:"error"}}));case 26:case"end":return u.stop()}}),oe,null,[[1,22]])}function st(e){var t,n;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.prev=1,r.next=4,Object(T.a)(zt,t);case 4:return n=r.sent,r.next=7,Object(T.b)(Le(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(T.b)(we({message:r.t0.message,options:{variant:"error"}}));case 13:case"end":return r.stop()}}),ue,null,[[1,9]])}function ot(e){var t,n,r,a,c,s;return _.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.currentPage,n=e.pageSize,r=e.searchText,o.prev=1,o.next=4,Object(T.b)(Fe(r));case 4:return o.next=6,Object(T.b)(Me(t));case 6:return o.next=8,Object(T.b)(Ye(!0));case 8:return o.next=10,Object(T.a)(Ft,t,n,r);case 10:return a=o.sent,c=a.items,s=a.totalCount,o.next=15,Object(T.b)(Ye(!1));case 15:return o.next=17,Object(T.b)(Ge(c));case 17:return o.next=19,Object(T.b)(ze(s));case 19:o.next=25;break;case 21:return o.prev=21,o.t0=o.catch(1),o.next=25,Object(T.b)(we({message:o.t0.message,options:{variant:"error"}}));case 25:case"end":return o.stop()}}),ie,null,[[1,21]])}function ut(e){var t,n,r,a,c,s;return _.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.action,n=e.id,r=e.updateProfileFollow,u.prev=1,u.next=4,Object(T.b)(We(!0,n));case 4:if("follow"!==t){u.next=10;break}return u.next=7,Object(T.a)(Yt,n);case 7:u.t0=u.sent,u.next=13;break;case 10:return u.next=12,Object(T.a)(Bt,n);case 12:u.t0=u.sent;case 13:if(a=u.t0,c=a.resultCode,s=a.messages,c!==o.Success){u.next=29;break}if("follow"!==t){u.next=22;break}return u.next=20,Object(T.b)(Re(n));case 20:u.next=24;break;case 22:return u.next=24,Object(T.b)(Pe(n));case 24:if(!r){u.next=27;break}return u.next=27,Object(T.b)(Ne(n));case 27:u.next=31;break;case 29:return u.next=31,Object(T.b)(we({message:s,options:{variant:"error"}}));case 31:return u.next=33,Object(T.b)(We(!1,n));case 33:u.next=39;break;case 35:return u.prev=35,u.t1=u.catch(1),u.next=39,Object(T.b)(we({message:u.t1.message,options:{variant:"error"}}));case 39:case"end":return u.stop()}}),le,null,[[1,35]])}function it(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(T.a)(Kt);case 3:return e=t.sent,t.next=6,Object(T.b)(Xe(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(T.b)(we({message:t.t0.message,options:{variant:"error"}}));case 12:case"end":return t.stop()}}),pe,null,[[0,8]])}function lt(e){var t,n,r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.userId,n=e.history,a.prev=1,a.next=4,Object(T.a)(Qt,t);case 4:r=a.sent,r.resultCode===o.Success&&n.push("/dialogs/".concat(t)),a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(T.b)(we({message:a.t0.message,options:{variant:"error"}}));case 13:case"end":return a.stop()}}),de,null,[[1,9]])}function pt(e){var t,n,r,a,c;return _.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.reciever,n=e.sender,r=e.message,s.prev=1,s.next=4,Object(T.a)(Jt,t,r);case 4:if(a=s.sent,c=a.data,a.resultCode!==o.Success){s.next=13;break}return s.next=10,Object(T.b)(Be(c.message));case 10:return s.next=12,Object(T.b)(Object(ee.a)("message"));case 12:Object(te.b)({sender:n,reciever:t,msg:r});case 13:s.next=19;break;case 15:return s.prev=15,s.t0=s.catch(1),s.next=19,Object(T.b)(we({message:s.t0.message,options:{variant:"error"}}));case 19:case"end":return s.stop()}}),fe,null,[[1,15]])}function dt(e){var t,n;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.messageId,r.prev=1,r.next=4,Object(T.a)(tn,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=9;break}return r.next=9,Object(T.b)(qe(t));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(T.b)(we({message:r.t0.message,options:{variant:"error"}}));case 15:case"end":return r.stop()}}),me,null,[[1,11]])}function ft(e){var t,n;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.messageId,r.prev=1,r.next=4,Object(T.a)(rn,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=9;break}return r.next=9,Object(T.b)(Ve(t));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(T.b)(we({message:r.t0.message,options:{variant:"error"}}));case 15:case"end":return r.stop()}}),be,null,[[1,11]])}function mt(e){var t,n;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.messageId,r.prev=1,r.next=4,Object(T.a)(cn,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=9;break}return r.next=9,Object(T.b)(Ke(t));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(T.b)(we({message:r.t0.message,options:{variant:"error"}}));case 15:case"end":return r.stop()}}),ge,null,[[1,11]])}function bt(e){var t,n,r,a,c,s;return _.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.userId,o.prev=1,o.next=4,Object(T.c)();case 4:if(r=o.sent,a=(null===(n=Object(ne.g)(r))||void 0===n?void 0:n.userId)===t){o.next=9;break}return o.next=9,Object(T.b)($e(!0));case 9:return o.next=11,Object(T.a)(Zt,t);case 11:return c=o.sent,o.next=14,Object(T.a)(Dt,t);case 14:return s=o.sent,o.next=17,Object(T.b)(Je(c));case 17:return o.next=19,Object(T.b)(Qe(t));case 19:return o.next=21,Object(T.b)(et(s));case 21:if(a){o.next=24;break}return o.next=24,Object(T.b)($e(!1));case 24:o.next=30;break;case 26:return o.prev=26,o.t0=o.catch(1),o.next=30,Object(T.b)(we({message:o.t0.message,options:{variant:"error"}}));case 30:case"end":return o.stop()}}),he,null,[[1,26]])}function gt(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(T.a)(on);case 3:return e=t.sent,t.next=6,Object(T.b)(Ze(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(T.b)(we({message:t.t0.message,options:{variant:"error"}}));case 12:case"end":return t.stop()}}),Oe,null,[[0,8]])}function ht(){var e,t,n,r,a;return _.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(T.a)(vt);case 3:if(e=c.sent,t=e.data,e.resultCode!==o.Success){c.next=14;break}return n=t.id,r=t.login,a=t.email,c.next=10,Object(T.b)(ye(n,r,a,!0));case 10:return c.next=12,Object(T.b)(Ue(n,!0));case 12:return c.next=14,Object(T.b)(He());case 14:c.next=20;break;case 16:return c.prev=16,c.t0=c.catch(0),c.next=20,Object(T.b)(we({message:c.t0.message,options:{variant:"error"}}));case 20:case"end":return c.stop()}}),Ee,null,[[0,16]])}function Ot(e){var t,n,r,a,c,s,i,l,p;return _.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.email,n=e.password,r=e.rememberMe,a=e.captcha,f.prev=1,f.next=4,Object(T.a)(St,t,n,r,a);case 4:if(c=f.sent,s=c.resultCode,i=c.messages,s!==o.Success){f.next=12;break}return f.next=10,Object(T.b)({type:d.a});case 10:f.next=21;break;case 12:if(s!==u.CaptchaRequired){f.next=19;break}return f.next=15,Object(T.a)(_t);case 15:return l=f.sent,p=l.url,f.next=19,Object(T.b)(Ie(p));case 19:return f.next=21,Object(T.b)(Object(ee.b)("login",{_error:i}));case 21:f.next=27;break;case 23:return f.prev=23,f.t0=f.catch(1),f.next=27,Object(T.b)(we({message:f.t0.message,options:{variant:"error"}}));case 27:case"end":return f.stop()}}),xe,null,[[1,23]])}function Et(e){var t,n;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.history,r.prev=1,r.next=4,Object(T.a)(yt);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=10;break}return r.next=9,Object(T.b)(ye(null,null,null,!1));case 9:t.push("/login");case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(T.b)(we({message:r.t0.message,options:{variant:"error"}}));case 16:case"end":return r.stop()}}),ve,null,[[1,12]])}function xt(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(T.b)({type:d.a});case 3:return e.next=5,Object(T.b)(x());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(T.b)(we({message:e.t0.message,options:{variant:"error"}}));case 11:case"end":return e.stop()}}),je,null,[[0,7]])}function vt(){return jt.apply(this,arguments)}function jt(){return(jt=Object(y.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e,t,n,r){return wt.apply(this,arguments)}function wt(){return(wt=Object(y.a)(_.a.mark((function e(t,n,r,a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t,n,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(){return It.apply(this,arguments)}function It(){return(It=Object(y.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(y.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ft(e,t,n){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(y.a)(_.a.mark((function e(t,n,r){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e){return qt.apply(this,arguments)}function qt(){return(qt=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(y.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Object(y.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(e){return en.apply(this,arguments)}function en(){return(en=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(e){return nn.apply(this,arguments)}function nn(){return(nn=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(e){return an.apply(this,arguments)}function an(){return(an=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(e){return sn.apply(this,arguments)}function sn(){return(sn=Object(y.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(){return un.apply(this,arguments)}function un(){return(un=Object(y.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.d)("app/INIT_APP_ASYNC",xt);case 2:return e.next=4,Object(T.d)(d.a,ht);case 4:return e.next=6,Object(T.d)(d.b,Ot);case 6:return e.next=8,Object(T.d)(d.c,Et);case 8:return e.next=10,Object(T.d)(l.c,tt);case 10:return e.next=12,Object(T.d)(l.d,ct);case 12:return e.next=14,Object(T.d)(l.a,st);case 14:return e.next=16,Object(T.d)(S.a,ut);case 16:return e.next=18,Object(T.d)(S.c,ut);case 18:return e.next=20,Object(T.d)(S.b,ot);case 20:return e.next=22,Object(T.d)(l.b,rt);case 22:return e.next=24,Object(T.d)(l.e,at);case 24:return e.next=26,Object(T.d)(l.f,nt);case 26:return e.next=28,Object(T.d)(p.b,it);case 28:return e.next=30,Object(T.d)(p.h,lt);case 30:return e.next=32,Object(T.d)(p.f,pt);case 32:return e.next=34,Object(T.d)(p.c,bt);case 34:return e.next=36,Object(T.d)(p.a,dt);case 36:return e.next=38,Object(T.d)(p.e,ft);case 38:return e.next=40,Object(T.d)(p.g,mt);case 40:return e.next=42,Object(T.d)(p.d,gt);case 42:case"end":return e.stop()}}),Se)}var pn=ln,dn=Object(i.c)({profileReducer:l.g,dialogsReducer:p.i,usersReducer:S.d,authReducer:d.e,app:j,form:m.a}),fn=Object(w.a)(),mn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,bn=Object(i.e)(dn,mn(Object(i.a)(f.a,fn)));fn.run(pn);var gn=bn,hn=n(41),On=n(62),En=(n(416),n(50)),xn=n(80),vn=n(59),jn=n(143),Sn=n(144),wn=n(145),yn=n(72),In=n(96),_n=n(3),Tn=n(113),kn=n.n(Tn),Cn=n(480),An=n(481),Nn=n(482),Ln=n(483),Un=n(490),Dn=n(476),Rn=n(34),Pn=n(66),Mn=n.n(Pn),Fn=n(31),Gn=n(468),zn=n(434),Wn=n(470),Yn=n(493),Hn=n(473),Bn=n(474),qn=n(77),Kn=n(13),Vn=n(228),Qn=n(11),Xn=Object(Vn.a)((function(e){return{list:Object(Kn.a)({padding:0},e.breakpoints.up("sm"),{display:"flex",justifyContent:"flex-end",marginRight:20}),listItem:Object(Kn.a)({padding:"0 8px",width:"auto"},e.breakpoints.down("xs"),{borderBottom:"1px solid ".concat(e.palette.grey[200])}),link:Object(Kn.a)({color:e.palette.text.primary,alignItems:"center",display:"flex",width:"100%"},e.breakpoints.down("xs"),{padding:"8px 0",color:e.palette.grey[600]}),icon:Object(Kn.a)({padding:e.spacing(1),color:e.palette.common.white,lineHeight:0},e.breakpoints.down("xs"),{color:e.palette.grey[500],marginRight:5}),name:Object(Kn.a)({},e.breakpoints.down("xs"),{fontSize:"1.2rem"}),activeLink:{pointerEvents:"none","& .MuiIconButton-root":{backgroundColor:e.palette.primary.light},"& $icon, & $name":Object(Kn.a)({},e.breakpoints.down("xs"),{color:e.palette.primary.light})},tooltip:{backgroundColor:e.palette.primary.light}}})),Jn=Object(Qn.a)(Xn,{withTheme:!0})((function(e){var t=e.newMessagesCount,n=e.userId,r=e.openLogoutDialog,c=e.isAuth,s=e.classes,o=[{id:1,text:"Profile",url:Rn.a.profile.getPath(n),icon:a.a.createElement(Fn.r,null)},{id:2,text:"Dialogs",url:Rn.a.dialogs.getPath(null),icon:a.a.createElement(Fn.x,null)},{id:3,text:"Users",url:Rn.a.users.path,icon:a.a.createElement(Fn.B,null)}],u=[].concat(o,[{id:4,text:"Settings",url:Rn.a.settings.path,icon:a.a.createElement(Fn.H,null)},{id:5,text:"Logout",url:null,icon:a.a.createElement(Fn.m,null)}]),i=t&&t>0;return a.a.createElement(Gn.a,{className:s.list},a.a.createElement(Un.a,{xsDown:!0},o.map((function(e){var n=e.id,r=e.text,c=e.url,o=e.icon;return a.a.createElement(zn.a,{key:n,className:s.listItem},a.a.createElement(Wn.a,{component:hn.b,to:c,activeClassName:s.activeLink,className:s.link,underline:"none",color:"textSecondary"},a.a.createElement(Yn.a,{title:r,"aria-label":r,classes:{tooltip:s.tooltip}},a.a.createElement(Hn.a,{"aria-label":r,className:s.icon},c===Rn.a.dialogs.getPath(null)&&i?a.a.createElement(Bn.a,{badgeContent:t,max:99,color:"secondary"},o):o))))}))),a.a.createElement(Un.a,{smUp:!0},u.map((function(e){var t=e.id,n=e.text,o=e.url,u=e.icon;return 5!==t||c?a.a.createElement(zn.a,{key:t,className:s.listItem},a.a.createElement(Wn.a,Object.assign({component:o?hn.b:"span"},o?{to:o,activeClassName:s.activeLink}:"",5===t?{onClick:function(){return r(!0)}}:"",{className:s.link,underline:"none",color:"textSecondary"}),a.a.createElement(qn.a,{variant:"body1",component:"span",className:Mn()("MuiListItemIcon-root",s.icon)},o===Rn.a.dialogs.getPath(null)&&i?a.a.createElement(Bn.a,{color:"secondary",variant:"dot"},u):u),a.a.createElement(qn.a,{variant:"body1",component:"span",className:s.name},n))):null}))))})),$n=n(479),Zn=n(494),er=n(140),tr=n.n(er),nr=n(446),rr=n(475),ar=n(477),cr=n(478),sr=Object(Vn.a)((function(e){return{paper:{borderTopLeftRadius:0,borderTopRightRadius:0},list:{padding:0,backgroundColor:e.palette.common.white},menuItemTxt:{lineHeight:1},menuItem:{"&:hover":{backgroundColor:e.palette.primary.light,color:e.palette.common.white,"& .MuiLink-root, & .MuiListItemIcon-root":{color:e.palette.common.white,textDecoration:"none"}}},menuIcon:{minWidth:35},link:{"&:hover":{backgroundColor:e.palette.primary.light,color:e.palette.common.white,"& .MuiLink-root, & .MuiListItemIcon-root":{color:e.palette.common.white,textDecoration:"none"}}}}})),or=Object(Qn.a)(sr,{withTheme:!0})((function(e){var t=e.userId,n=e.handleClose,r=e.anchorEl,c=e.classes,s=e.openLogoutDialog;return a.a.createElement(nr.a,{id:"customized-menu",anchorEl:r,open:Boolean(r),onClose:n,elevation:10,getContentAnchorEl:null,classes:{paper:c.paper,list:c.list},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(rr.a,{component:hn.b,to:Rn.a.profile.getPath(t),className:c.menuItem,onClick:function(){return n()}},a.a.createElement("span",{className:Mn()("MuiListItemIcon-root",c.menuIcon)},a.a.createElement(Fn.E,{fontSize:"small"})),a.a.createElement(qn.a,{variant:"body1",component:"span",className:c.menuItemTxt},"Profile")),a.a.createElement(Dn.a,{orientation:"horizontal",light:!0}),a.a.createElement(rr.a,{component:hn.b,to:Rn.a.settings.path,className:c.menuItem,onClick:function(){return n()}},a.a.createElement("span",{className:Mn()("MuiListItemIcon-root",c.menuIcon)},a.a.createElement(Fn.k,{fontSize:"small"})),a.a.createElement(qn.a,{variant:"body1",component:"span",className:c.menuItemTxt},"Edit Profile")),a.a.createElement(Dn.a,{orientation:"horizontal",light:!0}),a.a.createElement(rr.a,{className:c.menuItem,onClick:function(){s(!0),n()}},a.a.createElement(ar.a,{className:c.menuIcon},a.a.createElement(Fn.m,{fontSize:"small"})),a.a.createElement(cr.a,{classes:{primary:c.menuItemTxt},primary:"Logout"})))})),ur=Object(Vn.a)((function(e){return{avatar:{display:"flex",alignItems:"center",paddingLeft:20,paddingRight:20,textTransform:"none"},avatarRoot:{marginRight:10},loginLink:{paddingLeft:20,paddingRight:20,color:e.palette.common.white},avatarText:{padding:"0 5px"},avatarIcon:{"&.active":{transform:"rotate(180deg)",transition:"0.1s linear"}}}})),ir=Object(Qn.a)(ur,{withTheme:!0})((function(e){var t=e.isAuth,n=e.login,r=e.currentUserInfo,c=e.userId,s=e.openLogoutDialog,o=e.classes,u=a.a.useState(null),i=Object(En.a)(u,2),l=i[0],p=i[1],d=r&&r.photos.small?r.photos.small:tr.a;return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(a.a.Fragment,null,a.a.createElement($n.a,{className:o.avatar,color:"inherit",onClick:function(e){p(e.currentTarget)},"aria-controls":"customized-menu","aria-haspopup":"true"},a.a.createElement(Zn.a,{src:d,alt:n||"avatar",sizes:"40",classes:{root:o.avatarRoot}}),a.a.createElement(Un.a,{smDown:!0},a.a.createElement(qn.a,{variant:"body2",className:o.avatarText},r&&r.fullName?r.fullName:n)),a.a.createElement(Fn.n,{fontSize:"small",className:"".concat(o.avatarIcon," ").concat(l?"active":"")})),a.a.createElement(or,{openLogoutDialog:s,userId:c,handleClose:function(){p(null)},anchorEl:l})),!t&&a.a.createElement(Wn.a,{component:hn.b,to:Rn.a.login.path,className:o.loginLink},"Login"))})),lr=n(491),pr=Object(Vn.a)((function(e){return{list:{width:250},menuButton:{marginRight:0,padding:e.spacing(1)},paper:{backgroundColor:e.palette.common.white},head:{display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1,backgroundColor:e.palette.primary.main,height:49},headImg:{height:30}}})),dr=Object(Qn.a)(pr,{withTheme:!0})((function(e){var t=e.children,n=e.classes,r=a.a.useState(!1),c=Object(En.a)(r,2),s=c[0],o=c[1],u=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o(e)}};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Hn.a,{color:"inherit","aria-label":"open drawer",onClick:u(!0),edge:"end",className:n.menuButton},s?a.a.createElement(Fn.f,{fontSize:"large"}):a.a.createElement(Fn.y,{fontSize:"large"})),a.a.createElement(lr.a,{open:s,onClose:u(!1),onOpen:u(!0),anchor:"left",classes:{paper:n.paper}},a.a.createElement("div",{className:n.list,role:"presentation",onClick:u(!1),onKeyDown:u(!1)},a.a.createElement(hn.b,{to:Rn.a.home.path,className:n.head},a.a.createElement("img",{src:kn.a,alt:"",className:n.headImg})),t)))})),fr=Object(Vn.a)((function(e){return{grid:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,color:e.palette.common.white},content:{flexGrow:1,padding:e.spacing(3)},logo:{display:"flex",alignItems:"center",height:"100%",lineHeight:1},logoImg:Object(Kn.a)({height:30},e.breakpoints.up("sm"),{height:35}),logoutBtn:{padding:e.spacing(1)},logoTxt:{padding:e.spacing(1),color:e.palette.common.white,fontWeight:300},rightColumn:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:"100%"},avatar:{display:"flex",alignItems:"center",paddingLeft:20,paddingRight:20,textTransform:"none"},avatarText:{padding:"0 5px"}}})),mr=Object(Qn.a)(fr,{withTheme:!0})((function(e){var t=e.userId,n=e.login,r=e.isAuth,c=e.newMessagesCount,s=e.currentUserInfo,o=e.openLogoutDialog,u=e.classes;return a.a.createElement(Cn.a,{position:"fixed",component:"header",className:u.appBar},a.a.createElement(An.a,{maxWidth:"lg"},a.a.createElement(Nn.a,{variant:"dense",disableGutters:!0},a.a.createElement(Ln.a,{container:!0,className:u.grid,spacing:0},a.a.createElement(Ln.a,{item:!0,xs:6,sm:4},a.a.createElement("div",{className:u.logo},a.a.createElement(hn.b,{to:Rn.a.home.path},a.a.createElement("img",{src:kn.a,alt:"",className:u.logoImg})))),a.a.createElement(Ln.a,{item:!0,xs:6,sm:8},a.a.createElement("div",{className:u.rightColumn},a.a.createElement(Un.a,{xsDown:!0},a.a.createElement(Jn,{isAuth:r,newMessagesCount:c,userId:s?s.userId:null,openLogoutDialog:o}),a.a.createElement(Dn.a,{orientation:"vertical",flexItem:!0,light:!0}),a.a.createElement(ir,{login:n,openLogoutDialog:o,isAuth:r,currentUserInfo:s,userId:t}),a.a.createElement(Dn.a,{orientation:"vertical",flexItem:!0,light:!0})),a.a.createElement(Un.a,{smUp:!0},a.a.createElement(dr,null,a.a.createElement(Jn,{isAuth:r,openLogoutDialog:o,newMessagesCount:c,userId:s?s.userId:null})))))))))})),br=n(152),gr=d.d.logout,hr=Object(i.d)(Object(On.b)((function(e){return{userId:Object($.b)(e),login:Object($.d)(e),isAuth:Object($.e)(e),newMessagesCount:Object(ne.f)(e),currentUserInfo:Object($.c)(e)}}),{logout:gr}),yn.j)((function(e){var t=e.logout,n=Object(_n.a)(e,["logout"]),c=Object(r.useState)(!1),s=Object(En.a)(c,2),o=s[0],u=s[1],i=Object(yn.g)(),l=function(e){u(e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(mr,Object.assign({},n,{openLogoutDialog:l})),a.a.createElement(br.a,{isOpen:o,openDialog:l,confirmAction:function(){t(i)}},!0))})),Or=function(e){return function(t){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(In.a,{showPreloader:!0})},a.a.createElement(e,t))}},Er=function(e){return e.app.inited},xr=n(489),vr=n(83),jr=[],Sr=function(){var e=Object(On.c)(),t=Object(On.d)((function(e){return e.app.notifications||[]})),n=Object(vr.useSnackbar)(),r=n.enqueueSnackbar,c=n.closeSnackbar;return a.a.useEffect((function(){t.forEach((function(t){var n,a=t.key,s=t.message,o=t.options,u=void 0===o?{}:o,i=t.dismissed;void 0!==i&&i?c(a):jr.includes(a)||(r(s,Object(g.a)({key:a},u,{onClose:function(e,t,n){u.onClose&&u.onClose(e,t,n)},onExited:function(t,n){var r;e(E(n)),r=n,jr=Object(b.a)(jr.filter((function(e){return r!==e})))}})),n=a,jr=[].concat(Object(b.a)(jr),[n]))}))}),[t,c,r,e]),null},wr=function(){return a.a.createElement("footer",{className:"footer",style:{background:"#3d4977"}},a.a.createElement(An.a,{maxWidth:"lg"},a.a.createElement("div",{style:{color:"#fff",padding:"5px 0",fontSize:12}},"Copyright \xa9 2020 Andreeva Alina")))},yr=Object(Vn.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,display:"flex",flexDirection:"column"},toolbar:e.mixins.toolbar}})),Ir=Object(Qn.a)(yr,{withTheme:!0}),_r=n(223),Tr=Object(_r.a)((function(e){return{wrap:{display:"flex",alignItems:"center",fontWeight:400},icon:{marginRight:10}}})),kr=function(e){var t=e.message,n=Tr();return a.a.createElement("div",{className:n.wrap},a.a.createElement(Fn.l,{fontSize:"small",className:n.icon}),a.a.createElement("span",null,t))},Cr=function(e){function t(){var e,n;Object(xn.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(jn.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(c)))).initSocket=function(){var e=n.props,t=e.requestNewMessagesCount,r=e.currentUserInfo;if(r){var c=r.userId,s=r.fullName;Object(te.a)({userId:c,userName:s}),te.d.on("get_new_message",(function(e){n.props.enqueueSnackbar(a.a.createElement(kr,{message:"New message from: ".concat(e.sender.name)}),{variant:"default"}),t()}))}},n.globalError=function(e){n.props.enqueueSnackbar("".concat(e.reason),{variant:"error"})},n}return Object(wn.a)(t,e),Object(vn.a)(t,[{key:"componentDidMount",value:function(){this.props.appInitialize(),window.addEventListener("unhandledrejection",this.globalError)}},{key:"componentDidUpdate",value:function(e){this.props.currentUserInfo!==e.currentUserInfo&&this.initSocket()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.globalError)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes;return t.inited?a.a.createElement(a.a.Fragment,null,a.a.createElement(Sr,null),a.a.createElement(xr.a,null),a.a.createElement(hr,null),a.a.createElement(An.a,{maxWidth:"lg",component:"main",className:n.content},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(yn.d,null,Object.entries(Rn.a).map((function(t){var n=Object(En.a)(t,2),r=n[0],c=n[1],s=c.path,o=c.exact,u=void 0!==o&&o,i=c.redirect,l=void 0===i?null:i,p=c.component,d=l?l(e.props.isAuth):"",f=l?a.a.createElement(yn.a,{to:d}):Or(p);return a.a.createElement(yn.b,{key:r,path:s,exact:u},f)})))),a.a.createElement(wr,null)):a.a.createElement(In.a,{showPreloader:!0})}}]),t}(r.Component),Ar=v,Nr=p.j.requestNewMessagesCount,Lr=Object(i.d)(Ir,vr.withSnackbar,Object(On.b)((function(e){return{inited:Er(e),isAuth:Object($.e)(e),currentUserInfo:Object($.c)(e)}}),{appInitialize:Ar,requestNewMessagesCount:Nr}),yn.j)(Cr),Ur=n(226),Dr=n(488),Rr=n(109),Pr=n(118),Mr=Object(Rr.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),useNextVariants:!0,color:"#333",h2:{fontSize:"3rem"},h3:{fontSize:"2.5rem"},h4:{fontSize:"1.75rem"},subtitle1:{fontWeight:500}},mixins:{toolbar:{minHeight:48}},palette:{type:"light",primary:{main:"#3d4977"},secondary:{main:"#ab003c"},grey:Pr.a,success:{main:"#00B294"},background:"#f5f5f5",error:{main:"#E81123"},contrastThreshold:3,tonalOffset:.2,contrastText:"#fff",text:{primary:"#333"}}}),Fr=n(438),Gr=new Ur.a({uri:"/graphql"});s.a.render(a.a.createElement(hn.a,null,a.a.createElement(Fr.a,{client:Gr},a.a.createElement(On.a,{store:gn},a.a.createElement(vr.SnackbarProvider,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:2e3},a.a.createElement(Dr.a,{theme:Mr},a.a.createElement(Lr,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},44:function(e,t,n){"use strict";var r=n(26),a=n(16),c=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(a.a)({},e,{},r):e}))};n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l}));var s="users/FOLLOW_ASYNC",o="users/UNFOLLOW_ASYNC",u="users/REQUEST_USERS_ASYNC",i={users:[],pageSize:12,totalUsersCount:20,currentPage:1,isLoading:!0,followInProgress:[],searchQuery:null},l={setUsers:function(e){return{type:"users/SET_USERS",users:e}},setPage:function(e){return{type:"users/SET_PAGE",page:e}},setUsersTotalCount:function(e){return{type:"users/SET_TOTAL_COUNT",count:e}},toggleIsLoading:function(e){return{type:"users/TOGGLE_IS_LOADING",isLoading:e}},toggleFollowInProgress:function(e,t){return{type:"users/TOGGLE_FOLLOW_IN_PROGRESS",inProgress:e,userId:t}},setSearchText:function(e){return{type:"users/SET_SEARCH_TEXT",query:e}},requestUsers:function(e,t,n){return{type:u,currentPage:e,pageSize:t,searchText:n}},follow:function(e,t){return{type:s,action:"follow",id:e,updateProfileFollow:t}},unfollow:function(e,t){return{type:o,action:"unfollow",id:e,updateProfileFollow:t}},acceptFollow:function(e){return{type:"users/FOLLOW_ACCEPT",userId:e}},acceptUnfollow:function(e){return{type:"users/UNFOLLOW_ACCEPT",userId:e}}};t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/FOLLOW_ACCEPT":return Object(a.a)({},e,{users:c(e.users,t.userId,"id",{followed:!0})});case"users/UNFOLLOW_ACCEPT":return Object(a.a)({},e,{users:c(e.users,t.userId,"id",{followed:!1})});case"users/SET_USERS":return Object(a.a)({},e,{users:t.users});case"users/SET_PAGE":return Object(a.a)({},e,{currentPage:t.page});case"users/SET_TOTAL_COUNT":return Object(a.a)({},e,{totalUsersCount:t.count});case"users/TOGGLE_IS_LOADING":return Object(a.a)({},e,{isLoading:t.isLoading});case"users/SET_SEARCH_TEXT":return Object(a.a)({},e,{searchQuery:t.query});case"users/TOGGLE_FOLLOW_IN_PROGRESS":return Object(a.a)({},e,{followInProgress:t.inProgress?[].concat(Object(r.a)(e.followInProgress),[t.userId]):e.followInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(16),a="auth/AUTH_ASYNC",c="auth/LOGIN_ASYNC",s="auth/LOGOUT_ASYNC",o={userId:null,login:null,email:null,isAuth:!1,captchaUrl:null,currentUserInfo:null},u={setUserData:function(e,t,n,r){return{type:"auth/SET_USER_DATA",userId:e,login:t,email:n,isAuth:r}},setCaptchaUrl:function(e){return{type:"auth/SET_CAPTCHA_URL",captchaUrl:e}},setCurrentUserInfo:function(e){return{type:"auth/SET_CURRENT_USER_INFO",currentUserInfo:e}},login:function(e,t,n,r){return{type:c,email:e,password:t,rememberMe:n,captcha:r}},logout:function(e){return{type:s,history:e}}};t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":var n=t.userId,a=t.login,c=t.email,s=t.isAuth;return Object(r.a)({},e,{userId:n,login:a,email:c,isAuth:s});case"auth/SET_CURRENT_USER_INFO":var u=t.currentUserInfo;return Object(r.a)({},e,{currentUserInfo:u});case"auth/SET_CAPTCHA_URL":var i=t.captchaUrl;return Object(r.a)({},e,{captchaUrl:i});default:return e}}},58:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var r=function(e){return e.authReducer.userId},a=function(e){return e.authReducer.login},c=function(e){return e.authReducer.isAuth},s=function(e){return e.authReducer.currentUserInfo},o=function(e){return e.authReducer.captchaUrl}},91:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return i}));var r=n(233),a=n.n(r),c=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PORT||"3005",s=a()({port:c}),o=function(e){s.emit("init_user",e)},u=function(e){s.emit("send_message",e)},i=function(e){s.emit("messages_viewed",e)}},96:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(467),s=n(228),o=n(11),u=Object(s.a)((function(e){return{preloader:{position:"absolute",top:0,left:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255, 0.7)",zIndex:2,bottom:0}}})),i=Object(o.a)(u,{withTheme:!0});t.a=i((function(e){var t=e.showPreloader,n=e.classes;return t?a.a.createElement("div",{className:n.preloader},t&&a.a.createElement(c.a,{color:"secondary"})):null}))}},[[301,7,8]]]);
//# sourceMappingURL=main.35128758.chunk.js.map