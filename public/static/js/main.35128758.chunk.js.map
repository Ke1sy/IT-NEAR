{"version":3,"sources":["redux/reducers/dialogs-selectors.ts","assets/images/logo.png","assets/images/user-placeholder.png","components/Profile/Dialogs/simpleDialogStyles.ts","components/Profile/Dialogs/SimpleDialogTemplate.tsx","components/Profile/Dialogs/ConfirmDialog.tsx","redux/reducers/profile-selectors.ts","redux/reducers/dialogs-reducer.ts","components/Icons/MeterialIcons.ts","RouterManager.ts","redux/reducers/profile-reducer.ts","serviceWorker.js","api/api.ts","redux/reducers/app-reducer.ts","redux/sagas/saga.ts","redux/redux-store.ts","components/Header/navbarStyles.ts","components/Header/Navbar.tsx","components/Header/submenuStyles.ts","components/Header/Submenu.tsx","components/Header/authBtnStyles.ts","components/Header/AuthBtn.tsx","components/Header/mobileMenuStyles.ts","components/Header/MobileMenu.tsx","components/Header/headerStyles.ts","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/HOC/Suspense.js","redux/reducers/app-selectors.ts","components/Notifier/Notifier.js","components/Footer/Footer.tsx","appStyles.ts","components/Notifier/NewMessageNoty.tsx","App.tsx","theme.js","index.tsx","utils/helpers.ts","redux/reducers/users-reducer.ts","redux/reducers/auth-reducer.ts","redux/reducers/auth-selectors.ts","utils/socket.ts","components/Preloader/preloaderStyles.ts","components/Preloader/Preloader.tsx"],"names":["getMessagesList","state","dialogsReducer","messages","getDialogsList","dialogs","getLastUserActivityDate","lastUserActivityDate","getDeletedMessages","deletedMessages","getSpamedMessages","spamedMessages","getNewMessagesCount","newMessagesCount","getSelectedFriend","selectedFriend","getMessagesLoading","messagesLoading","module","exports","styles","createStyles","theme","paper","backgroundColor","palette","common","white","title","textAlign","padding","buttons","justifyContent","btn","width","withStyles","withTheme","withSimpleDialogStyles","open","children","submitAction","resetAction","submitName","submitDisabled","classes","rest","Dialog","onClose","fullWidth","maxWidth","DialogTitle","className","DialogContent","DialogActions","disableSpacing","Button","onClick","color","variant","startIcon","disabled","ConfirmDialog","isOpen","openDialog","confirmAction","itemToConfirm","handleClose","id","aria-labelledby","getProfile","profileReducer","profile","getProfileError","profileError","getProfileIsLoading","profileIsLoading","getIsFollowed","isFollowed","getStatus","status","GET_DIALOGS_ASYNC","GET_MESSAGES_ASYNC","SEND_MESSAGE_ASYNC","START_CHAT_ASYNC","GET_NEW_MESSAGES_COUNT_ASYNC","DELETE_MESSAGE_ASYNC","RESTORE_MESSAGE_ASYNC","SPAM_MESSAGE_ASYNC","initialState","dialogActions","setMessagesLoading","type","setDialogs","setSelectedFriend","setMessages","setActivityDate","userId","setNewMessagesCount","count","addMessage","message","addMessageToDeleted","messageId","addMessageToSpam","restoreFromSpamDeleted","startChat","history","sendMessage","reciever","sender","getMessages","deleteMessage","restoreMessage","spamMessage","getDialogs","requestNewMessagesCount","action","filter","selectedUser","find","dialog","Number","undefined","ProfileContainer","React","lazy","RM","home","path","exact","redirect","isAuth","component","getPath","settings","login","users","notFound","GET_STATUS_ASYNC","SET_STATUS_ASYNC","UPDATE_USER_PROFILE_ASYNC","GET_USER_PROFILE_ASYNC","GET_IS_FOLLOWED_ASYNC","LOAD_PHOTO_ASYNC","profileActions","toggleProfileLoading","setUserProfile","setUserProfileError","setPhoto","photos","updateIsFollowed","setStatus","getUserStatus","setUserStatus","updateProfileInfo","info","getUserProfile","updateCurrentUserInfo","loadPhoto","photo","getIsUserFollowed","Boolean","window","location","hostname","match","ResultCodes","ResultCodeForCaptcha","inited","notifications","appActions","notification","key","options","Date","getTime","Math","random","appReducer","instance","axios","create","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","searchText","get","then","response","data","post","delete","authAPI","email","password","rememberMe","captcha","securityAPI","profileAPI","put","photoFile","formData","FormData","append","dialogsAPI","body","getUserProfileAsync","updateProfileInfoAsync","getStatusAsync","setUserStatusAsync","loadPhotoAsync","setUserIsFollowedAsync","requestUsersAsync","toggleFollowAsync","getDialogsAsync","startChatAsync","sendMessageAsync","deleteMessagesAsync","restoreMessagesAsync","spamMessagesAsync","getMessagesAsync","getNewMessagesCountAsync","authenticateAsync","loginAsync","logoutAsync","appInitAsync","mySaga","enqueueSnackbar","setUserData","authActions","setCaptchaUrl","setCurrentUserInfo","acceptFollow","usersActions","acceptUnfollow","setPage","setSearchText","setUsers","setUsersTotalCount","toggleFollowInProgress","toggleIsLoading","select","previousId","call","getProfileById","updateProfile","resultCode","Success","stopSubmit","_error","getCurrentUserId","getUserIsFollowed","requestUsers","items","totalCount","updateProfileFollow","followUser","unfollowUser","requestDialogs","push","reset","emitSendMessage","msg","sameUser","authenticate","AUTH_ASYNC","CaptchaRequired","getCaptcha","url","logout","a","takeEvery","LOGIN_ASYNC","LOGOUT_ASYNC","FOLLOW_ASYNC","UNFOLLOW_ASYNC","REQUEST_USERS_ASYNC","rootReducer","combineReducers","usersReducer","authReducer","app","form","formReducer","sagaMiddleware","createSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","run","list","breakpoints","up","display","marginRight","listItem","down","borderBottom","grey","link","text","primary","alignItems","icon","spacing","lineHeight","name","fontSize","activeLink","pointerEvents","light","tooltip","withNavbarStyles","openLogoutDialog","LINKS","MOBILE_LINKS","areNewMessages","List","Hidden","xsDown","map","ListItem","Link","NavLink","to","activeClassName","underline","Tooltip","aria-label","IconButton","Badge","badgeContent","max","smUp","Typography","classNames","borderTopLeftRadius","borderTopRightRadius","menuItemTxt","menuItem","textDecoration","menuIcon","minWidth","withSubmenuStyles","anchorEl","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","Divider","orientation","ListItemIcon","ListItemText","avatar","paddingLeft","paddingRight","textTransform","avatarRoot","loginLink","avatarText","avatarIcon","transform","transition","withAuthBtnStyles","currentUserInfo","useState","setAnchorEl","small","userPlaceholder","event","currentTarget","aria-controls","aria-haspopup","Avatar","src","alt","sizes","root","smDown","fullName","menuButton","head","main","height","headImg","withMobileMenuStyles","setOpen","toggleDrawer","edge","SwipeableDrawer","onOpen","anchor","role","onKeyDown","logoImg","grid","appBar","zIndex","drawer","content","flexGrow","logo","logoutBtn","logoTxt","fontWeight","rightColumn","withHeaderStyles","AppBar","position","Container","Toolbar","disableGutters","Grid","container","item","xs","sm","flexItem","connect","getCurrentUserLogin","getIsAuth","getCurrentUserInfo","withRouter","props","logoutDialogIsOpen","setLogoutDialogIsOpen","useHistory","withSuspense","WrappedComponent","fallback","Preloader","showPreloader","getAppInited","displayed","Notifier","dispatch","useDispatch","useSelector","useSnackbar","closeSnackbar","useEffect","forEach","dismissed","includes","reason","myKey","onExited","Footer","style","background","flexDirection","toolbar","mixins","useStyles","makeStyles","wrap","NewMessageNoty","App","initSocket","emitInitUser","userName","socket","on","globalError","e","this","appInitialize","addEventListener","prevProps","removeEventListener","CssBaseline","Object","entries","route","Cmp","redirectPath","RouteComponent","Component","withAppStyles","withSnackbar","createMuiTheme","typography","fontFamily","join","useNextVariants","h2","h3","h4","subtitle1","minHeight","secondary","success","error","contrastThreshold","tonalOffset","contrastText","client","ApolloClient","uri","ReactDOM","render","maxSnack","autoHideDuration","ThemeProvider","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","updateObjectInArray","itemId","objPropName","objNewProps","totalUsersCount","isLoading","followInProgress","searchQuery","page","inProgress","query","follow","unfollow","followed","captchaUrl","getCaptchaUrl","port","process","PORT","io","user","emit","msgInfo","emitWatchMessages","chatUsers","preloader","top","left","right","bottom","withPreloaderStyles","CircularProgress"],"mappings":"0GAEA,gRAAO,IAAMA,EAAkB,SAACC,GAC5B,OAAOA,EAAMC,eAAeC,UAGnBC,EAAiB,SAACH,GAC3B,OAAOA,EAAMC,eAAeG,SAGnBC,EAA0B,SAACL,GACpC,OAAOA,EAAMC,eAAeK,sBAGnBC,EAAqB,SAACP,GAC/B,OAAOA,EAAMC,eAAeO,iBAGnBC,EAAoB,SAACT,GAC9B,OAAOA,EAAMC,eAAeS,gBAGnBC,EAAsB,SAACX,GAChC,OAAOA,EAAMC,eAAeW,kBAGnBC,EAAoB,SAACb,GAC9B,OAAOA,EAAMC,eAAea,gBAGnBC,EAAqB,SAACf,GAC/B,OAAOA,EAAMC,eAAee,kB,oBC/BhCC,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,8C,0HCErCC,EAASC,aAAa,SAACC,GAAD,MAAmB,CAC3CC,MAAO,CACHC,gBAAiBF,EAAMG,QAAQC,OAAOC,OAE1CC,MAAO,CACHC,UAAW,SACXC,QAAS,iBAEbC,QAAS,CACLC,eAAgB,gBAChBF,QAAS,iBAEbG,IAAK,CACDC,MAAO,WAIAC,cAAWf,EAAQ,CAACgB,WAAW,I,QC2C/BC,OAxCwD,SAAC,GAAsG,IAArGC,EAAoG,EAApGA,KAAMV,EAA8F,EAA9FA,MAAOW,EAAuF,EAAvFA,SAAUC,EAA6E,EAA7EA,aAAcC,EAA+D,EAA/DA,YAAaC,EAAkD,EAAlDA,WAAYC,EAAsC,EAAtCA,eAAgBC,EAAsB,EAAtBA,QAAYC,EAAU,gHACzK,OACI,kBAACC,EAAA,EAAD,eACIR,KAAMA,EACNS,QAASN,EACTO,WAAS,EACTC,SAAS,MACLJ,EALR,CAMID,QAAS,CACLrB,MAAOqB,EAAQrB,SAEnB,kBAAC2B,EAAA,EAAD,CAAaC,UAAWP,EAAQhB,OAAQA,GACxC,kBAACwB,EAAA,EAAD,KACKb,GAEL,kBAACc,EAAA,EAAD,CAAeF,UAAWP,EAAQb,QAASuB,gBAAc,GACrD,kBAACC,EAAA,EAAD,eACIC,QAAShB,EACTW,UAAWP,EAAQX,IACnBwB,MAAM,UACNC,QAAQ,YACRC,UAAW,kBAAC,IAAD,OACNhB,EAAiB,CAACiB,SAASjB,GAAkB,IAElDD,GAA0B,WAE9B,kBAACa,EAAA,EAAD,CACIC,QAASf,EACTU,UAAWP,EAAQX,IACnBwB,MAAM,YACNC,QAAQ,YACRC,UAAW,kBAAC,IAAD,OALf,gB,iCChDhB,qCAwCeE,IA3BsB,SAAC,GAAkE,IAAjEC,EAAgE,EAAhEA,OAAQC,EAAwD,EAAxDA,WAAYC,EAA4C,EAA5CA,cAAeC,EAA6B,EAA7BA,cAAe1B,EAAc,EAAdA,SAC/E2B,EAAc,WAChBH,GAAW,EAAO,UAAW,OAOjC,OACI,kBAAC,IAAD,CACIzB,KAAMwB,EACNrB,YAAayB,EACb1B,aARoB,WACxByB,EAAgBD,EAAcC,EAAcE,IAAMH,IAClDE,KAOIE,kBAAgB,qBAChBxC,MAAM,iBAELW,GACG,kBAAC,IAAD,CAAYmB,QAAQ,SACfnB,GAAsB,wE,iCC9B3C,0KAAO,IAAM8B,EAAa,SAACpE,GACvB,OAAOA,EAAMqE,eAAeC,SAGnBC,EAAkB,SAACvE,GAC5B,OAAOA,EAAMqE,eAAeG,cAGnBC,EAAsB,SAACzE,GAChC,OAAOA,EAAMqE,eAAeK,kBAGnBC,EAAgB,SAAC3E,GAC1B,OAAOA,EAAMqE,eAAeO,YAGnBC,EAAY,SAAC7E,GACtB,OAAOA,EAAMqE,eAAeS,S,sWChBnBC,EAAoB,4BACpBC,EAAqB,6BACrBC,EAAqB,6BACrBC,EAAmB,2BACnBC,EAA+B,uCAC/BC,EAAuB,+BACvBC,EAAwB,gCACxBC,EAAqB,6BAa5BC,EAAe,CACjBnF,QAAS,GACTF,SAAU,GACVU,iBAAkB,KAClBN,qBAAsB,KACtBE,gBAAiB,GACjBE,eAAgB,GAChBI,eAAgB,KAChBE,iBAAiB,GA8CRwE,EAAgB,CACzBC,mBAAoB,SAACzE,GAAD,MAA+B,CAAC0E,KAzDpB,+BAyDgD1E,oBAChF2E,WAAY,SAACvF,GAAD,MAAkC,CAACsF,KAnExB,sBAmE2CtF,YAClEwF,kBAAmB,SAAC9E,GAAD,MAAkC,CAAC4E,KA5DvB,8BA4DkD5E,mBACjF+E,YAAa,SAAC3F,GAAD,MAAoC,CAACwF,KApE1B,uBAoE8CxF,aACtE4F,gBAAiB,SAACC,GAAD,MAAqB,CAACL,KAnEV,4BAmEmCK,WAChEC,oBAAqB,SAACC,GAAD,MAAoB,CAACP,KArER,iCAqEsCO,UACxEC,WAAY,SAACC,GAAD,MAA4B,CAACT,KApElB,sBAoEqCS,YAC5DC,oBAAqB,SAACC,GAAD,MAAwB,CAACX,KApEZ,iCAoE0CW,cAC5EC,iBAAkB,SAACD,GAAD,MAAwB,CAACX,KAnEZ,8BAmEuCW,cACtEE,uBAAwB,SAACF,GAAD,MAAwB,CAACX,KArEZ,oCAqE6CW,cAClFG,UAAW,SAACT,EAAgBU,GAAjB,MAAmC,CAACf,KAAMR,EAAkBa,SAAQU,YAC/EC,YAAa,SAACC,EAAkBC,EAAoCT,GAAvD,MAA4E,CAACT,KAAMT,EAAoB0B,WAAUC,SAAQT,YACtIU,YAAa,SAACd,GAAD,MAAqB,CAACL,KAAMV,EAAoBe,WAC7De,cAAe,SAACT,GAAD,MAAwB,CAACX,KAAMN,EAAsBiB,cACpEU,eAAgB,SAACV,GAAD,MAAwB,CAACX,KAAML,EAAuBgB,cACtEW,YAAa,SAACX,GAAD,MAAwB,CAACX,KAAMJ,EAAoBe,cAChEY,WAAY,iBAAO,CAACvB,KAAMX,IAC1BmC,wBAAyB,iBAAO,CAACxB,KAAMP,KAG5BlF,IA9DQ,WAGC,IAFpBD,EAEmB,uDAFXuF,EACR4B,EACmB,uCAEnB,OAAQA,EAAOzB,MACX,IA9BmB,sBA+Bf,OAAO,eAAI1F,EAAX,CAAkBI,QAAS+G,EAAO/G,UACtC,IA/BoB,uBAgChB,OAAO,eAAIJ,EAAX,CAAkBE,SAAUiH,EAAOjH,WACvC,IAzB4B,+BA0BxB,OAAO,eAAIF,EAAX,CAAkBgB,gBAAiBmG,EAAOnG,kBAC9C,IA5B2B,8BA6BvB,OAAO,eAAIhB,EAAX,CAAkBc,eAAgBqG,EAAOrG,iBAC7C,IAlCmB,sBAmCf,OAAO,eAAId,EAAX,CAAkBE,SAAS,GAAD,mBAAMF,EAAME,UAAZ,CAAsBiH,EAAOhB,YAC3D,IAnC8B,iCAoC1B,OAAO,eAAInG,EAAX,CAAkBQ,gBAAgB,GAAD,mBAAMR,EAAMQ,iBAAZ,CAA6B2G,EAAOd,cACzE,IAnC2B,8BAoCvB,OAAO,eAAIrG,EAAX,CAAkBU,eAAe,GAAD,mBAAMV,EAAMU,gBAAZ,CAA4ByG,EAAOd,cACvE,IAtCiC,oCAuC7B,OAAO,eACArG,EADP,CAEIQ,gBAAiB,YAAIR,EAAMQ,iBAAiB4G,QAAO,SAAAlD,GAAE,OAAIA,IAAOiD,EAAOd,aACvE3F,eAAgB,YAAIV,EAAMU,gBAAgB0G,QAAO,SAAAlD,GAAE,OAAIA,IAAOiD,EAAOd,eAE7E,IAhD8B,iCAiD1B,OAAO,eAAIrG,EAAX,CAAkBY,iBAAkBuG,EAAOlB,QAC/C,IAjDyB,4BAkDrB,IAAIoB,EAAe,YAAIrH,EAAMI,SAASkH,MAAK,SAAAC,GAAM,OAAIA,EAAOrD,KAAOsD,OAAOL,EAAOpB,WACjF,YAAqB0B,IAAjBJ,EACO,eAAIrH,EAAX,CAAkBM,qBAAsB+G,EAAa/G,uBAE9CN,EAEf,QACI,OAAOA,K,sECxEnB,mlE,gCCAA,oBACM0H,EAAmBC,IAAMC,MAAK,kBAAM,8DAkBpCC,EAAe,CACjBC,KAAM,CACFC,KAAM,IACNC,OAAO,EACPC,SAAU,SAACC,GACP,OAAOA,EAAM,WAAgB,WAGrC5D,QAAS,CACLyD,KAAM,gBACNI,UAAWT,EACXM,OAAO,EACPI,QAAS,SAAClE,GACN,OAAOA,EAAE,mBAAeA,GAAO,aAGvCmE,SAAU,CACNN,KAAM,YACNC,OAAO,EACPG,UAAWT,GAEftH,QAAS,CACL2H,KAAM,gBACNI,UAxCkBR,IAAMC,MAAK,kBAAM,+DAyCnCQ,QAAS,SAAClE,GACN,OAAOA,EAAE,mBAAeA,GAAO,aAGvCoE,MAAO,CACHP,KAAM,SACNC,OAAO,EACPG,UA/CeR,IAAMC,MAAK,kBAAM,wDAiDpCW,MAAO,CACHR,KAAM,SACNC,OAAO,EACPG,UAnDeR,IAAMC,MAAK,kBAAM,gEAqDpCY,SAAU,CACNT,KAAM,IACNC,OAAO,EACPG,UAvDSR,IAAMC,MAAK,kBAAM,mCA2DnBC,O,8SC7DFY,EAAmB,2BACnBC,EAAmB,2BACnBC,EAA4B,oCAC5BC,EAAyB,iCACzBC,EAAwB,gCAIxBC,EAAmB,2BAK1BvD,EAAe,CACjBjB,QAAS,KACTE,aAAc,KACdM,OAAQ,GACRJ,kBAAkB,EAClBE,YAAY,GA0BHmE,EAAiB,CAC1BC,qBAAsB,SAACtE,GAAD,MAAgC,CAACgB,KAnCrB,iCAmCmDhB,qBACrFuE,eAAgB,SAAC3E,GAAD,MAA2B,CAACoB,KAxChB,2BAwCwCpB,YACpE4E,oBAAqB,SAAC1E,GAAD,MAA2B,CAACkB,KAxCd,kCAwC6ClB,iBAChF2E,SAAU,SAACC,GAAD,MAAyB,CAAC1D,KAvCf,oBAuCgC0D,WACrDC,iBAAkB,SAACzE,GAAD,MAA0B,CAACc,KAtClB,0BAsCyCd,eACpE0E,UAAW,SAACxE,GAAD,MAAqB,CAACY,KA7CR,wBA6C6BZ,WACtDyE,cAAe,SAACrF,GAAD,MAAiB,CAACwB,KAAM+C,EAAkBvE,OACzDsF,cAAe,SAAC1E,GAAD,MAAqB,CAACY,KAAMgD,EAAkB5D,WAC7D2E,kBAAmB,SAACC,EAAmB3D,GAApB,MAAwC,CAACL,KAAMiD,EAA2Be,OAAM3D,WACnG4D,eAAgB,SAACzF,GAAD,IAAa0F,EAAb,8DAAyD,CAAClE,KAAMkD,EAAwB1E,KAAI0F,0BAC5GC,UAAW,SAACC,GAAD,MAAiB,CAACpE,KAAMoD,EAAkBgB,UACrDC,kBAAmB,SAAC7F,GAAD,MAAiB,CAACwB,KAAMmD,EAAuB3E,QAGvDG,IApCQ,WAA0E,IAAzErE,EAAwE,uDAAhEuF,EAAc4B,EAAkD,uCAC5F,OAAQA,EAAOzB,MACX,IAnBwB,2BAoBpB,OAAO,eAAI1F,EAAX,CAAkBsE,QAAS6C,EAAO7C,QAASE,aAAc,OAC7D,IAjB8B,iCAkB1B,OAAO,eAAIxE,EAAX,CAAkB0E,iBAAkByC,EAAOzC,mBAC/C,IAtB+B,kCAuB3B,OAAO,eAAI1E,EAAX,CAAkBsE,QAAS,KAAME,aAAc2C,EAAO3C,eAC1D,IA1BqB,wBA2BjB,OAAO,eAAIxE,EAAX,CAAkB8E,OAAQqC,EAAOrC,SACrC,IAxBiB,oBAyBb,OAAO,eAAI9E,EAAX,CAAkBsE,QAAQ,eAAKtE,EAAMsE,QAAZ,CAAqB8E,OAAQjC,EAAOiC,WACjE,IAxBuB,0BAyBnB,OAAO,eAAIpJ,EAAX,CAAkB4E,WAAYuC,EAAOvC,aACzC,QACI,OAAO5E,K,mGC7BCgK,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,ICLMC,EAKAC,E,kECNN/E,EAAiC,CACnCgF,QAAQ,EACRC,cAAe,IAiCNC,EACQ,SAACC,GACd,IAAMC,EAAMD,EAAaE,SAAWF,EAAaE,QAAQD,IACzD,MAAO,CACHjF,KAhDoB,uBAiDpBgF,aAAa,eAAKA,EAAN,CAAoBC,IAAKA,IAAO,IAAIE,MAAOC,UAAYC,KAAKC,aALvEP,EAQO,SAACE,GAAD,MAAe,CAACjF,KAnDL,sBAmD4BiF,QAR9CF,EASO,iBAAO,CAAC/E,KAnDT,mBA0CN+E,EAUM,iBAAO,CAAC/E,KAvDG,uBA0DfuF,EA3CI,WAAsE,IAArEjL,EAAoE,uDAA5DuF,EAAc4B,EAA8C,uCACpF,OAAQA,EAAOzB,MACX,IAdW,iBAeP,OAAO,eACA1F,EADP,CAEIuK,QAAQ,IAEhB,IArBwB,uBAsBpB,OAAO,eACAvK,EADP,CAEIwK,cAAc,GAAD,mBACNxK,EAAMwK,eADA,gBAGFrD,EAAOuD,kBAI1B,IA9BuB,sBA+BnB,OAAO,eACA1K,EADP,CAEIwK,cAAexK,EAAMwK,cAAcpD,QAC/B,SAAAsD,GAAY,OAAIA,EAAaC,MAAQxD,EAAOwD,SAGxD,QACI,OAAO3K,I,yDDvCbkL,E,OAAWC,EAAMC,OAAO,CAC1BC,QAAS,gDACTC,iBAAiB,EACjBC,QAAS,CACL,UAAW,2C,SAMPlB,O,qBAAAA,I,kBAAAA,M,cAKAC,O,uCAAAA,M,KA2BL,IAAMkB,EACC,SAACC,EAAqBC,EAAkBC,GAC9C,OAAOT,EAASU,IAAT,qBAA2BH,EAA3B,kBAAgDC,EAAhD,iBAAiEC,IACnEE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAH1BP,EAMO,SAACtH,GACb,OAAOgH,EAASU,IAAT,iBAA+B1H,IACjC2H,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAR1BP,EAWG,SAACtH,GACT,OAAOgH,EAASc,KAAT,iBAAiD9H,IACnD2H,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAb1BP,EAgBK,SAACtH,GACX,OAAOgH,EAASe,OAAT,iBAAmD/H,IACrD2H,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAM1BG,EACH,WACF,OAAOhB,EAASU,IAAsB,WACjCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAH1BG,EAMF,SAACC,EAAeC,EAAkBC,GAAwD,IAAnCC,EAAkC,uDAAT,KACnF,OAAOpB,EAASc,KAAwB,cAAe,CAACG,QAAOC,WAAUC,aAAYC,YAChFT,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAR1BG,EAWD,WACJ,OAAOhB,EAASe,OAAgC,eAC3CJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ1BQ,EACG,WACR,OAAOrB,EAASU,IAAyB,4BACpCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAY1BS,EACG,SAACtI,GACT,OAAOgH,EAASU,IAAT,kBAAqC1H,IACvC2H,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAH1BS,EAME,SAACtI,GACR,OAAOgH,EAASU,IAAT,yBAAuC1H,IACzC2H,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAR1BS,EAWE,SAAC1H,GACR,OAAOoG,EAASuB,IAAT,iBAAwD,CAAC3H,WAC3D+G,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAb1BS,EAgBE,SAACE,GACR,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBxB,EAASuB,IAAT,gBAAqDE,EAAU,CAClEpB,QAAS,CACL,eAAgB,yBAGnBM,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAxB1BS,EA2BU,SAAC9C,GAChB,OAAOwB,EAASuB,IAAT,UAAiD/C,GACnDmC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB1Be,EACG,WACR,OAAO5B,EAASU,IAAwB,WACnCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAH1Be,EAME,SAAC/G,GACR,OAAOmF,EAASuB,IAAT,kBAAiD1G,IACnD8F,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAR1Be,EAWI,SAAC/G,EAAgBI,GAC1B,OAAO+E,EAASc,KAAT,kBAAkDjG,EAAlD,aAAqE,CAACgH,KAAM5G,IAC9E0F,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAb1Be,EAgBI,SAAC/G,GACV,OAAOmF,EAASU,IAAT,kBAAiD7F,EAAjD,oDACF8F,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAlB1Be,EAqBI,SAACzG,GACV,OAAO6E,EAASc,KAAT,2BAA2D3F,EAA3D,UACFwF,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAvB1Be,EA0BM,SAACzG,GACZ,OAAO6E,EAASe,OAAT,2BAA6D5F,IAC/DwF,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SA5B1Be,EAgCO,SAACzG,GACb,OAAO6E,EAASuB,IAAT,2BAA0DpG,EAA1D,aACFwF,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAlC1Be,EAqCS,WACd,OAAO5B,EAASU,IAAY,8BACvBC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,S,yDE5H7BiB,I,YAuBAC,I,YAgBAC,I,YAWAC,I,YAcAC,I,YAkBAC,I,YAWAC,I,YAgBAC,I,YAmBAC,I,YAUAC,I,YAaAC,I,YAeAC,I,YAaAC,I,YAaAC,I,YAaAC,I,YAoBAC,I,YAUAC,I,YAgBAC,I,YAmBAC,I,YAYAC,I,YA+FAC,IAvZHC,GAAmB5D,EACnB6D,GAAkDC,IAAlDD,YAAaE,GAAqCD,IAArCC,cAAeC,GAAsBF,IAAtBE,mBAC5BxF,GAAuIF,IAAvIE,eAAgBC,GAAuHH,IAAvHG,oBAAqBF,GAAkGD,IAAlGC,qBAAsBG,GAA4EJ,IAA5EI,SAAUY,GAAkEhB,IAAlEgB,kBAAmBV,GAA+CN,IAA/CM,iBAAkBM,GAA6BZ,IAA7BY,eAAgBL,GAAaP,IAAbO,UAE7HoF,GAQAC,IARAD,aACAE,GAOAD,IAPAC,eACAC,GAMAF,IANAE,QACAC,GAKAH,IALAG,cACAC,GAIAJ,IAJAI,SACAC,GAGAL,IAHAK,mBACAC,GAEAN,IAFAM,uBACAC,GACAP,IADAO,gBAGAhI,GAWA1B,IAXA0B,wBACAhB,GAUAV,IAVAU,WACAE,GASAZ,IATAY,oBACAE,GAQAd,IARAc,iBACAC,GAOAf,IAPAe,uBACAT,GAMAN,IANAM,gBACAH,GAKAH,IALAG,WACAE,GAIAL,IAJAK,YACAJ,GAGAD,IAHAC,mBACAO,GAEAR,IAFAQ,oBACAJ,GACAJ,IADAI,kBAMJ,SAAUoH,GAAV,oFAEsB,OAFS9I,EAA/B,EAA+BA,GAAI0F,EAAnC,EAAmCA,sBAAnC,kBAE4BuF,cAF5B,UAEcnP,EAFd,QAGcoP,EAHd,UAG2BhL,YAAWpE,UAHtC,aAG2B,EAAmB+F,UAEnB7B,EAL3B,gBAMY,OANZ,SAMkBuI,YAAIzD,IAAqB,IAN3C,OAQqB,OARrB,UAQ2BqG,YAAKC,GAAgBpL,GARhD,WAQc6H,EARd,QASYnC,EATZ,iBAUY,OAVZ,UAUkB6C,YAAIgC,GAAmB1C,IAVzC,QAYQ,OAZR,UAYcU,YAAIxD,GAAe8C,IAZjC,WAaYqD,IAAelL,EAb3B,iBAcY,OAdZ,UAckBuI,YAAIzD,IAAqB,IAd3C,gCAiBQ,OAjBR,oCAiBcyD,YAAIvD,GAAoB,KAAE/C,UAjBxC,uDAuBA,SAAU8G,GAAV,kFAEuC,OAFLvD,EAAlC,EAAkCA,KAAM3D,EAAxC,EAAwCA,OAAxC,kBAE6CsJ,YAAKE,GAAe7F,GAFjE,mBAEe8F,EAFf,EAEeA,WAAYtP,EAF3B,EAE2BA,SACfsP,IAAenF,EAAYoF,QAHvC,iBAIY,OAJZ,UAIkBhD,YAAI9C,GAAe5D,GAAQ,IAJ7C,QAKY,OALZ,UAKkB0G,YAAI4B,GAAgB,CAAClI,QAAS,gCAAiCyE,QAAS,CAACnH,QAAS,cALpG,gCAOY,OAPZ,UAOkBgJ,YAAIiD,aAAW,WAAY,CAACC,OAAQzP,KAPtD,gCAUQ,OAVR,oCAUcuM,YAAIvD,GAAoB,KAAE/C,UAVxC,uDAgBA,SAAU+G,GAAV,4EAEqB,OAFKhJ,EAA1B,EAA0BA,GAA1B,kBAE2BmL,YAAK9F,GAAerF,GAF/C,OAGQ,OADM6H,EAFd,gBAGcU,YAAInD,GAAUyC,IAH5B,8BAKQ,OALR,mCAKcU,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAL1E,sDAWA,SAAU0J,GAAV,4EAE6B,OAFCrI,EAA9B,EAA8BA,OAA9B,kBAEmCuK,YAAK7F,GAAe1E,GAFvD,qBAEe0K,aACYnF,EAAYoF,QAHvC,iBAIY,OAJZ,SAIkBhD,YAAInD,GAAUxE,IAJhC,OAKY,OALZ,UAKkB2H,YAAI4B,GAAgB,CAAClI,QAAS,kBAAmByE,QAAS,CAACnH,QAAS,cALtF,gCAQQ,OARR,oCAQcgJ,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAR1E,uDAcA,SAAU2J,GAAV,oFAE6C,OAFnBtD,EAA1B,EAA0BA,MAA1B,kBAEmDuF,YAAKxF,GAAWC,GAFnE,mBAEeiC,EAFf,EAEeA,KAAMyD,EAFrB,EAEqBA,WAAYtP,EAFjC,EAEiCA,SACrBsP,IAAenF,EAAYoF,QAHvC,iBAI0B,OAJ1B,UAIgCN,cAJhC,QAKY,OADMnP,EAJlB,iBAKkByM,YAAItD,GAAS4C,EAAK3C,SALpC,QAMY,OANZ,UAMkBqD,YAAI,CAAC/G,KAAMkD,IAAwB1E,GAAI0L,YAAiB5P,GAAQ4J,uBAAuB,IANzG,gCAQY,OARZ,UAQkB6C,YAAI4B,GAAgB,CAAClI,QAASjG,EAAU0K,QAAS,CAACnH,QAAS,YAR7E,gCAWQ,OAXR,oCAWcgJ,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAX1E,uDAkBA,SAAU4J,GAAV,4EAE2B,OAFOnJ,EAAlC,EAAkCA,GAAlC,kBAEiCmL,YAAKQ,GAAmB3L,GAFzD,OAGQ,OADMU,EAFd,gBAGc6H,YAAIpD,GAAiBzE,IAHnC,8BAKQ,OALR,mCAKc6H,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAL1E,sDAWA,SAAU6J,GAAV,oFAEQ,OAFqB7B,EAA7B,EAA6BA,YAAaC,EAA1C,EAA0CA,SAAUC,EAApD,EAAoDA,WAApD,kBAEcc,YAAIqC,GAAcnD,IAFhC,OAGQ,OAHR,SAGcc,YAAIoC,GAAQpD,IAH1B,OAIQ,OAJR,SAIcgB,YAAIyC,IAAgB,IAJlC,OAKoC,OALpC,UAK0CG,YAAKS,GAAcrE,EAAaC,EAAUC,GALpF,QAMQ,OANR,SAKeoE,EALf,EAKeA,MAAOC,EALtB,EAKsBA,WALtB,UAMcvD,YAAIyC,IAAgB,IANlC,QAOQ,OAPR,UAOczC,YAAIsC,GAASgB,IAP3B,QAQQ,OARR,UAQctD,YAAIuC,GAAmBgB,IARrC,gCAUQ,OAVR,oCAUcvD,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAV1E,uDAgBA,SAAU8J,GAAV,oFAEQ,OAFqBpG,EAA7B,EAA6BA,OAAQjD,EAArC,EAAqCA,GAAI+L,EAAzC,EAAyCA,oBAAzC,kBAEcxD,YAAIwC,IAAuB,EAAM/K,IAF/C,UAGkD,WAAXiD,EAHvC,iBAG6D,OAH7D,SAGmEkI,YAAKa,GAAYhM,GAHpF,2CAG0F,OAH1F,UAGgGmL,YAAKc,GAAcjM,GAHnH,sCAGesL,EAHf,EAGeA,WAAYtP,EAH3B,EAG2BA,SACfsP,IAAenF,EAAYoF,QAJvC,oBAKuB,WAAXtI,EALZ,iBAKkC,OALlC,UAKwCsF,YAAIiC,GAAaxK,IALzD,gCAKgE,OALhE,UAKsEuI,YAAImC,GAAe1K,IALzF,YAMgB+L,EANhB,iBAOgB,OAPhB,UAOsBxD,YAAI1C,GAAkB7F,IAP5C,gCAUY,OAVZ,UAUkBuI,YAAI4B,GAAgB,CAAClI,QAASjG,EAAU0K,QAAS,CAACnH,QAAS,YAV7E,QAYQ,OAZR,UAYcgJ,YAAIwC,IAAuB,EAAO/K,IAZhD,gCAcQ,OAdR,oCAccuI,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAd1E,uDAmBA,SAAU+J,KAAV,uEAEyB,OAFzB,kBAE+B6B,YAAKe,IAFpC,OAGQ,OADMtE,EAFd,gBAGcW,YAAI9G,GAAWmG,IAH7B,8BAKQ,OALR,mCAKcW,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAL1E,sDAUA,SAAUgK,GAAV,8EAE6B,OAFH1H,EAA1B,EAA0BA,OAAQU,EAAlC,EAAkCA,QAAlC,kBAEmC4I,YAAK7I,GAAWT,GAFnD,kBAEeyJ,aACYnF,EAAYoF,SAC3BhJ,EAAQ4J,KAAR,mBAAyBtK,IAJrC,uBAOQ,OAPR,mCAOc0G,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAP1E,sDAaA,SAAUiK,GAAV,kFAEmC,OAFP/G,EAA5B,EAA4BA,SAAUC,EAAtC,EAAsCA,OAAQT,EAA9C,EAA8CA,QAA9C,kBAEyCkJ,YAAK3I,GAAaC,EAAUR,GAFrE,mBAEe4F,EAFf,EAEeA,KAFf,EAEqByD,aACMnF,EAAYoF,QAHvC,iBAIY,OAJZ,UAIkBhD,YAAIvG,GAAW6F,EAAK5F,UAJtC,QAKY,OALZ,UAKkBsG,YAAI6D,aAAM,YAL5B,QAMYC,aAAgB,CAAC3J,SAAQD,WAAU6J,IAAKrK,IANpD,gCASQ,OATR,oCAScsG,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAT1E,uDAeA,SAAUkK,GAAV,4EAE6B,OAFEtH,EAA/B,EAA+BA,UAA/B,kBAEmCgJ,YAAKvI,GAAeT,GAFvD,qBAEemJ,aACYnF,EAAYoF,QAHvC,gBAIY,OAJZ,SAIkBhD,YAAIrG,GAAoBC,IAJ1C,+BAOQ,OAPR,oCAOcoG,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAP1E,uDAaA,SAAUmK,GAAV,4EAE6B,OAFGvH,EAAhC,EAAgCA,UAAhC,kBAEmCgJ,YAAKtI,GAAgBV,GAFxD,qBAEemJ,aACYnF,EAAYoF,QAHvC,gBAIY,OAJZ,SAIkBhD,YAAIlG,GAAuBF,IAJ7C,+BAOQ,OAPR,oCAOcoG,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAP1E,uDAaA,SAAUoK,GAAV,4EAE6B,OAFAxH,EAA7B,EAA6BA,UAA7B,kBAEmCgJ,YAAKrI,GAAaX,GAFrD,qBAEemJ,aACYnF,EAAYoF,QAHvC,gBAIY,OAJZ,SAIkBhD,YAAInG,GAAiBD,IAJvC,+BAOQ,OAPR,oCAOcoG,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAP1E,uDAaA,SAAUqK,GAAV,oFAEsB,OAFM/H,EAA5B,EAA4BA,OAA5B,kBAE4BoJ,cAF5B,UAEcnP,EAFd,OAGcyQ,GAAW,UAAA5P,aAAkBb,UAAlB,eAA0B+F,UAAWA,EAH9D,gBAKY,OALZ,SAKkB0G,YAAIhH,IAAmB,IALzC,OAOsB,OAPtB,UAO4B4J,YAAKxI,GAAad,GAP9C,QAQqB,OADPgK,EAPd,iBAQ2BV,YAAKC,GAAgBvJ,GARhD,QASQ,OADMgG,EARd,iBAScU,YAAI5G,GAAYkK,IAT9B,QAUQ,OAVR,UAUctD,YAAI3G,GAAgBC,IAVlC,QAWQ,OAXR,UAWc0G,YAAI7G,GAAkBmG,IAXpC,WAYa0E,EAZb,iBAaY,OAbZ,UAakBhE,YAAIhH,IAAmB,IAbzC,gCAgBQ,OAhBR,oCAgBcgH,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAhB1E,uDAoBA,SAAUsK,KAAV,uEAEqB,OAFrB,kBAE2BsB,YAAKzO,IAFhC,OAGQ,OADMmL,EAFd,gBAGcU,YAAIzG,GAAoB+F,IAHtC,8BAKQ,OALR,mCAKcU,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAL1E,sDAUA,SAAUuK,KAAV,+EAEmC,OAFnC,kBAEyCqB,YAAKqB,IAF9C,mBAEe3E,EAFf,EAEeA,KAFf,EAEqByD,aACMnF,EAAYoF,QAHvC,iBAKY,OADOvL,EAAoB6H,EAApB7H,GAAIoE,EAAgByD,EAAhBzD,MAAO6D,EAASJ,EAATI,MAJ9B,UAKkBM,YAAI6B,GAAYpK,EAAIoE,EAAO6D,GAAO,IALpD,QAMY,OANZ,UAMkBM,YAAI9C,GAAezF,GAAI,IANzC,QAOY,OAPZ,UAOkBuI,YAAIvF,MAPtB,gCAUQ,OAVR,oCAUcuF,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAV1E,uDAgBA,SAAUwK,GAAV,0FAEuC,OAFjB9B,EAAtB,EAAsBA,MAAOC,EAA7B,EAA6BA,SAAUC,EAAvC,EAAuCA,WAAYC,EAAnD,EAAmDA,QAAnD,kBAE6C+C,YAAK/G,GAAO6D,EAAOC,EAAUC,EAAYC,GAFtF,mBAEekD,EAFf,EAEeA,WAAYtP,EAF3B,EAE2BA,SACfsP,IAAenF,EAAYoF,QAHvC,iBAIY,OAJZ,UAIkBhD,YAAI,CAAC/G,KAAMiL,MAJ7B,mCAMgBnB,IAAelF,EAAqBsG,gBANpD,iBAO8B,OAP9B,UAOoCvB,YAAKwB,IAPzC,QAQgB,OARhB,SAOuBC,EAPvB,EAOuBA,IAPvB,UAQsBrE,YAAI+B,GAAcsC,IARxC,QAUY,OAVZ,UAUkBrE,YAAIiD,aAAW,QAAS,CAACC,OAAQzP,KAVnD,gCAaQ,OAbR,oCAacuM,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAb1E,uDAmBA,SAAUyK,GAAV,4EAE6B,OAFNzH,EAAvB,EAAuBA,QAAvB,kBAEmC4I,YAAK0B,IAFxC,qBAEevB,aACYnF,EAAYoF,QAHvC,iBAIY,OAJZ,SAIkBhD,YAAI6B,GAAY,KAAM,KAAM,MAAM,IAJpD,OAKY7H,EAAQ4J,KAAK,UALzB,gCAQQ,OARR,oCAQc5D,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAR1E,uDAYA,SAAU0K,KAAV,iEAEQ,OAFR,kBAEc1B,YAAI,CAAC/G,KAAMiL,MAFzB,OAGQ,OAHR,SAGclE,YAAIhC,KAHlB,8BAKQ,OALR,mCAKcgC,YAAI4B,GAAgB,CAAClI,QAAS,KAAEA,QAASyE,QAAS,CAACnH,QAAS,YAL1E,sD,SAUeiN,K,8EAAf,sBAAAM,EAAA,sEACiB9E,IADjB,oF,+BAIe5D,G,uFAAf,WAAqB6D,EAAeC,EAAkBC,EAAqBC,GAA3E,SAAA0E,EAAA,sEACiB9E,EAAcC,EAAOC,EAAUC,EAAYC,GAD5D,oF,+BAIeyE,K,8EAAf,sBAAAC,EAAA,sEACiB9E,IADjB,oF,+BAIe2E,K,8EAAf,sBAAAG,EAAA,sEACiBzE,IADjB,oF,+BAIehD,G,iFAAf,WAA6BrF,GAA7B,SAAA8M,EAAA,sEACiBxE,EAAqBtI,GADtC,oF,+BAIe2F,G,iFAAf,WAAyBC,GAAzB,SAAAkH,EAAA,sEACiBxE,EAAqB1C,GADtC,oF,+BAIeN,G,iFAAf,WAA6B1E,GAA7B,SAAAkM,EAAA,sEACiBxE,EAAqB1H,GADtC,oF,+BAIewK,G,iFAAf,WAA8BpL,GAA9B,SAAA8M,EAAA,sEACiBxE,EAAsBtI,GADvC,oF,+BAIeqL,G,iFAAf,WAA6B7F,GAA7B,SAAAsH,EAAA,sEACiBxE,EAA6B9C,GAD9C,oF,+BAIeoG,G,qFAAf,WAA4BrE,EAAqBC,EAAkBC,GAAnE,SAAAqF,EAAA,sEACiBxF,EAAkBC,EAAaC,EAAUC,GAD1D,oF,+BAIekE,G,iFAAf,WAAiC3L,GAAjC,SAAA8M,EAAA,sEACiBxF,EAAwBtH,GADzC,oF,+BAIegM,G,iFAAf,WAA0BhM,GAA1B,SAAA8M,EAAA,sEACiBxF,EAAoBtH,GADrC,oF,+BAIeiM,G,iFAAf,WAA4BjM,GAA5B,SAAA8M,EAAA,sEACiBxF,EAAsBtH,GADvC,oF,+BAIekM,K,8EAAf,sBAAAY,EAAA,sEACiBlE,IADjB,oF,+BAIetG,G,iFAAf,WAAyBT,GAAzB,SAAAiL,EAAA,sEACiBlE,EAAqB/G,GADtC,oF,+BAIeW,G,mFAAf,WAA2BX,EAAgBI,GAA3C,SAAA6K,EAAA,sEACiBlE,EAAuB/G,EAAQI,GADhD,oF,+BAIeU,G,iFAAf,WAA2Bd,GAA3B,SAAAiL,EAAA,sEACiBlE,EAAuB/G,GADxC,oF,+BAIee,G,iFAAf,WAA6BT,GAA7B,SAAA2K,EAAA,sEACiBlE,EAAyBzG,GAD1C,oF,+BAIeU,G,iFAAf,WAA8BV,GAA9B,SAAA2K,EAAA,sEACiBlE,EAA0BzG,GAD3C,oF,+BAIeW,G,iFAAf,WAA2BX,GAA3B,SAAA2K,EAAA,sEACiBlE,EAAuBzG,GADxC,oF,+BAIezF,K,8EAAf,sBAAAoQ,EAAA,sEACiBlE,IADjB,oF,sBAKA,SAAUsB,KAAV,iEACI,OADJ,SACU6C,YD3boB,qBC2bM9C,IADpC,OAEI,OAFJ,SAEU8C,YAAUN,IAAY3C,IAFhC,OAGI,OAHJ,SAGUiD,YAAUC,IAAajD,IAHjC,OAII,OAJJ,SAIUgD,YAAUE,IAAcjD,IAJlC,OAKI,OALJ,UAKU+C,YAAUrI,IAAwBoE,IAL5C,QAMI,OANJ,UAMUiE,YAAUnI,IAAkBsE,IANtC,QAOI,OAPJ,UAOU6D,YAAUpI,IAAuBwE,IAP3C,QAQI,OARJ,UAQU4D,YAAUG,IAAc7D,IARlC,QASI,OATJ,UASU0D,YAAUI,IAAgB9D,IATpC,QAUI,OAVJ,UAUU0D,YAAUK,IAAqBhE,IAVzC,QAWI,OAXJ,UAWU2D,YAAUxI,IAAkByE,IAXtC,QAYI,OAZJ,UAYU+D,YAAUvI,IAAkByE,IAZtC,QAaI,OAbJ,UAaU8D,YAAUtI,IAA2BsE,IAb/C,QAcI,OAdJ,UAcUgE,YAAUlM,IAAmByI,IAdvC,QAeI,OAfJ,UAeUyD,YAAU/L,IAAkBuI,IAftC,QAgBI,OAhBJ,UAgBUwD,YAAUhM,IAAoByI,IAhBxC,QAiBI,OAjBJ,UAiBUuD,YAAUjM,IAAoB8I,IAjBxC,QAkBI,OAlBJ,UAkBUmD,YAAU7L,IAAsBuI,IAlB1C,QAmBI,OAnBJ,UAmBUsD,YAAU5L,IAAuBuI,IAnB3C,QAoBI,OApBJ,UAoBUqD,YAAU3L,IAAoBuI,IApBxC,QAqBI,OArBJ,UAqBUoD,YAAU9L,IAA8B4I,IArBlD,yCAwBeK,UCzcTmD,GAAcC,YAAgB,CAChCnN,mBACApE,mBACAwR,iBACAC,gBACAC,IAAK1G,EACL2G,KAAMC,MAKJC,GAAiBC,cAMjBC,GAAsC,qBAAX/H,QAA0BA,OAAOgI,sCAAyCC,IACrGC,GAAQC,YAAYb,GAAaS,GACnCK,YACIC,IACAR,MAIRA,GAAeS,IAAInE,IAEJ+D,U,sUCpCThR,GAASC,cAAa,SAACC,GAAD,MAAmB,CAC3CmR,KAAK,cACD3Q,QAAS,GACRR,EAAMoR,YAAYC,GAAG,MAAQ,CAC1BC,QAAS,OACT5Q,eAAgB,WAChB6Q,YAAa,KAGrBC,SAAS,cACLhR,QAAS,QACTI,MAAO,QACNZ,EAAMoR,YAAYK,KAAK,MAAQ,CAC5BC,aAAa,aAAD,OAAe1R,EAAMG,QAAQwR,KAAK,QAGtDC,KAAK,cACDzP,MAAOnC,EAAMG,QAAQ0R,KAAKC,QAC1BC,WAAY,SACZT,QAAS,OACT1Q,MAAO,QACNZ,EAAMoR,YAAYK,KAAK,MAAQ,CAC5BjR,QAAS,QACT2B,MAAOnC,EAAMG,QAAQwR,KAAK,OAGlCK,KAAK,cACDxR,QAASR,EAAMiS,QAAQ,GACvB9P,MAAOnC,EAAMG,QAAQC,OAAOC,MAC5B6R,WAAY,GACXlS,EAAMoR,YAAYK,KAAK,MAAQ,CAC5BtP,MAAOnC,EAAMG,QAAQwR,KAAK,KAC1BJ,YAAa,IAGrBY,KAAK,gBACAnS,EAAMoR,YAAYK,KAAK,MAAQ,CAC5BW,SAAU,WAGlBC,WAAY,CACRC,cAAe,OACf,wBAAyB,CACrBpS,gBAAiBF,EAAMG,QAAQ2R,QAAQS,OAE3C,mBAAmB,gBACdvS,EAAMoR,YAAYK,KAAK,MAAQ,CAC5BtP,MAAOnC,EAAMG,QAAQ2R,QAAQS,SAIzCC,QAAS,CACLtS,gBAAiBF,EAAMG,QAAQ2R,QAAQS,WCgEhCE,GD5DA5R,aAAWf,GAAQ,CAACgB,WAAW,GC4D/B2R,EAhG4B,SAAC,GAAmE,IAAlElT,EAAiE,EAAjEA,iBAAkBmF,EAA+C,EAA/CA,OAAQgO,EAAuC,EAAvCA,iBAAkB7L,EAAqB,EAArBA,OAAQvF,EAAa,EAAbA,QACvFqR,EAAQ,CACV,CACI9P,GAAI,EACJgP,KAAM,UACNpC,IAAKjJ,KAAGvD,QAAQ8D,QAAQrC,GACxBsN,KAAM,kBAAC,KAAD,OACP,CACCnP,GAAI,EACJgP,KAAM,UACNpC,IAAKjJ,KAAGzH,QAAQgI,QAAQ,MACxBiL,KAAM,kBAAC,KAAD,OACP,CACCnP,GAAI,EACJgP,KAAM,QACNpC,IAAKjJ,KAAGU,MAAMR,KACdsL,KAAM,kBAAC,KAAD,QAIRY,EAAY,UACXD,EADW,CAEd,CACI9P,GAAI,EACJgP,KAAM,WACNpC,IAAKjJ,KAAGQ,SAASN,KACjBsL,KAAM,kBAAC,KAAD,OAEV,CACInP,GAAI,EACJgP,KAAM,SACNpC,IAAK,KACLuC,KAAM,kBAAC,KAAD,SAIVa,EAAiBtT,GAAoBA,EAAmB,EAE5D,OACI,kBAACuT,GAAA,EAAD,CAAMjR,UAAWP,EAAQ6P,MACrB,kBAAC4B,GAAA,EAAD,CAAQC,QAAM,GACTL,EAAMM,KAAI,gBAAEpQ,EAAF,EAAEA,GAAIgP,EAAN,EAAMA,KAAMpC,EAAZ,EAAYA,IAAKuC,EAAjB,EAAiBA,KAAjB,OACP,kBAACkB,GAAA,EAAD,CAAU5J,IAAKzG,EAAIhB,UAAWP,EAAQkQ,UAClC,kBAAC2B,GAAA,EAAD,CAAMrM,UAAWsM,KAASC,GAAI5D,EAAK6D,gBAAiBhS,EAAQ+Q,WAAYxQ,UAAWP,EAAQsQ,KACrF2B,UAAU,OAAOpR,MAAM,iBACzB,kBAACqR,GAAA,EAAD,CAASlT,MAAOuR,EAAM4B,aAAY5B,EAAMvQ,QAAS,CAACkR,QAASlR,EAAQkR,UAC/D,kBAACkB,GAAA,EAAD,CAAYD,aAAY5B,EAAMhQ,UAAWP,EAAQ0Q,MAC5CvC,IAAQjJ,KAAGzH,QAAQgI,QAAQ,OAAS8L,EACjC,kBAACc,GAAA,EAAD,CAAOC,aAAcrU,EAAkBsU,IAAK,GAAI1R,MAAM,aACjD6P,GACMA,UASvC,kBAACe,GAAA,EAAD,CAAQe,MAAI,GACPlB,EAAaK,KAAI,YAA4B,IAA1BpQ,EAAyB,EAAzBA,GAAIgP,EAAqB,EAArBA,KAAMpC,EAAe,EAAfA,IAAKuC,EAAU,EAAVA,KAC3B,OAAW,IAAPnP,GAAagE,EAEb,kBAACqM,GAAA,EAAD,CAAU5J,IAAKzG,EAAIhB,UAAWP,EAAQkQ,UAClC,kBAAC2B,GAAA,EAAD,eAAMrM,UAAW2I,EAAM2D,KAAU,QACvB3D,EAAM,CACN4D,GAAI5D,EACJ6D,gBAAiBhS,EAAQ+Q,YACzB,GACO,IAAPxP,EAAW,CAACX,QAAS,kBAAMwQ,GAAiB,KAAS,GAL/D,CAMM7Q,UAAWP,EAAQsQ,KACnB2B,UAAU,OACVpR,MAAM,kBAER,kBAAC4R,GAAA,EAAD,CAAY3R,QAAQ,QAAQ0E,UAAU,OAC1BjF,UAAWmS,KAAW,uBAAwB1S,EAAQ0Q,OAC7DvC,IAAQjJ,KAAGzH,QAAQgI,QAAQ,OAAS8L,EACjC,kBAACc,GAAA,EAAD,CAAOxR,MAAM,YAAYC,QAAQ,OAC5B4P,GACMA,GAGnB,kBAAC+B,GAAA,EAAD,CAAY3R,QAAQ,QAAQ0E,UAAU,OAAOjF,UAAWP,EAAQ6Q,MAC3DN,KAtBe,a,iFCjFlD/R,GAASC,cAAa,SAACC,GAAD,MAAmB,CAC3CC,MAAO,CACHgU,oBAAqB,EACrBC,qBAAsB,GAE1B/C,KAAM,CACF3Q,QAAS,EACTN,gBAAiBF,EAAMG,QAAQC,OAAOC,OAE1C8T,YAAa,CACTjC,WAAY,GAEhBkC,SAAU,CACN,UAAW,CACPlU,gBAAiBF,EAAMG,QAAQ2R,QAAQS,MACvCpQ,MAAQnC,EAAMG,QAAQC,OAAOC,MAE7B,2CAA4C,CACxC8B,MAAQnC,EAAMG,QAAQC,OAAOC,MAC7BgU,eAAgB,UAI5BC,SAAU,CACRC,SAAU,IAEZ3C,KAAM,CACF,UAAW,CACP1R,gBAAiBF,EAAMG,QAAQ2R,QAAQS,MACvCpQ,MAAQnC,EAAMG,QAAQC,OAAOC,MAE7B,2CAA4C,CACxC8B,MAAQnC,EAAMG,QAAQC,OAAOC,MAC7BgU,eAAgB,cCmCjBG,GD5BA3T,aAAWf,GAAQ,CAACgB,WAAW,GC4B/B0T,EA/C6B,SAAC,GAAgE,IAA/D9P,EAA8D,EAA9DA,OAAQ9B,EAAsD,EAAtDA,YAAa6R,EAAyC,EAAzCA,SAAUnT,EAA+B,EAA/BA,QAASoR,EAAsB,EAAtBA,iBAClF,OACI,kBAACgC,GAAA,EAAD,CACI7R,GAAG,kBACH4R,SAAUA,EACVzT,KAAM2H,QAAQ8L,GACdhT,QAASmB,EACT+R,UAAW,GACXC,mBAAoB,KACpBtT,QAAS,CACLrB,MAAOqB,EAAQrB,MACfkR,KAAM7P,EAAQ6P,MAElB0D,aAAc,CACVC,SAAU,SACVC,WAAY,UAEhBC,gBAAiB,CACbF,SAAU,MACVC,WAAY,WAGhB,kBAACE,GAAA,EAAD,CAAUnO,UAAWsM,KAASC,GAAI7M,KAAGvD,QAAQ8D,QAAQrC,GAAS7C,UAAWP,EAAQ8S,SAAUlS,QAAS,kBAAMU,MAClG,0BAAMf,UAAWmS,KAAW,uBAAwB1S,EAAQgT,WACxD,kBAAC,KAAD,CAAmBlC,SAAS,WAEpC,kBAAC2B,GAAA,EAAD,CAAY3R,QAAQ,QAAQ0E,UAAU,OAAOjF,UAAWP,EAAQ6S,aAAhE,YAEJ,kBAACe,GAAA,EAAD,CAASC,YAAY,aAAa5C,OAAO,IACzC,kBAAC0C,GAAA,EAAD,CAAUnO,UAAWsM,KAASC,GAAI7M,KAAGQ,SAASN,KAAM7E,UAAWP,EAAQ8S,SAAUlS,QAAS,kBAAMU,MACvF,0BAAMf,UAAWmS,KAAW,uBAAwB1S,EAAQgT,WACzD,kBAAC,KAAD,CAAiBlC,SAAS,WAElC,kBAAC2B,GAAA,EAAD,CAAY3R,QAAQ,QAAQ0E,UAAU,OAAOjF,UAAWP,EAAQ6S,aAAhE,iBAEJ,kBAACe,GAAA,EAAD,CAASC,YAAY,aAAa5C,OAAO,IAEzC,kBAAC0C,GAAA,EAAD,CAAUpT,UAAWP,EAAQ8S,SAAUlS,QAAS,WAAOwQ,GAAiB,GAAO9P,MAC3E,kBAACwS,GAAA,EAAD,CAAcvT,UAAWP,EAAQgT,UAC7B,kBAAC,KAAD,CAAelC,SAAS,WAE5B,kBAACiD,GAAA,EAAD,CAAc/T,QAAS,CAACwQ,QAASxQ,EAAQ6S,aAAcrC,QAAQ,gBC9DzEhS,GAASC,cAAa,SAACC,GAAD,MAAmB,CAC3CsV,OAAQ,CACJhE,QAAS,OACTS,WAAY,SACZwD,YAAa,GACbC,aAAc,GACdC,cAAe,QAEnBC,WAAY,CACRnE,YAAa,IAEjBoE,UAAW,CACPJ,YAAa,GACbC,aAAc,GACdrT,MAAOnC,EAAMG,QAAQC,OAAOC,OAGhCuV,WAAY,CACRpV,QAAS,SAGbqV,WAAY,CACR,WAAY,CACRC,UAAW,iBACXC,WAAY,oBCuCTC,GDlCAnV,aAAWf,GAAQ,CAACgB,WAAW,GCkC/BkV,EA/C6B,SAAC,GAAyE,IAAxEnP,EAAuE,EAAvEA,OAAQI,EAA+D,EAA/DA,MAAOgP,EAAwD,EAAxDA,gBAAiBvR,EAAuC,EAAvCA,OAAQgO,EAA+B,EAA/BA,iBAAkBpR,EAAa,EAAbA,QAAa,EACjFgF,IAAM4P,SAA6B,MAD8C,oBAC1GzB,EAD0G,KAChG0B,EADgG,KAE3Gb,EAASW,GAAoBA,EAAgBlO,OAAOqO,MAAQH,EAAgBlO,OAAOqO,MAAQC,KAUjG,OACI,oCAEQxP,GACA,oCACI,kBAAC5E,GAAA,EAAD,CACIJ,UAAWP,EAAQgU,OACnBnT,MAAM,UACND,QAhBA,SAACoU,GACjBH,EAAYG,EAAMC,gBAgBFC,gBAAc,kBACdC,gBAAc,QAEd,kBAACC,GAAA,EAAD,CAAQC,IAAKrB,EAAQsB,IAAK3P,GAAgB,SAAU4P,MAAM,KAAKvV,QAAS,CAACwV,KAAMxV,EAAQoU,cACvF,kBAAC3C,GAAA,EAAD,CAAQgE,QAAM,GACV,kBAAChD,GAAA,EAAD,CAAY3R,QAAQ,QAAQP,UAAWP,EAAQsU,YAC1CK,GAAmBA,EAAgBe,SAAWf,EAAgBe,SAAW/P,IAGlF,kBAAC,KAAD,CAAuBmL,SAAS,QAAQvQ,UAAS,UAAKP,EAAQuU,WAAb,YAA2BpB,EAAW,SAAU,OAErG,kBAAC,GAAD,CAAS/B,iBAAkBA,EAAkBhO,OAAQA,EAAQ9B,YAxBzD,WAChBuT,EAAY,OAuBuF1B,SAAUA,MAKpG5N,GACD,kBAACsM,GAAA,EAAD,CAAMrM,UAAWsM,KAASC,GAAI7M,KAAGS,MAAMP,KAAM7E,UAAWP,EAAQqU,WAAhE,a,UCtDV7V,GAASC,cAAa,SAACC,GAAD,MAAmB,CAC3CmR,KAAM,CACFvQ,MAAO,KAEXqW,WAAY,CACR1F,YAAa,EACb/Q,QAASR,EAAMiS,QAAQ,IAE3BhS,MAAO,CACHC,gBAAiBF,EAAMG,QAAQC,OAAOC,OAE1C6W,KAAM,CACF5F,QAAS,OACTS,WAAY,SACZrR,eAAgB,SAChBwR,WAAY,EACZhS,gBAAiBF,EAAMG,QAAQ2R,QAAQqF,KACvCC,OAAQ,IAEZC,QAAS,CACLD,OAAQ,QCiCDE,GD7BAzW,aAAWf,GAAQ,CAACgB,WAAW,GC6B/BwW,EA/CmB,SAAC,GAAyB,IAAxBrW,EAAuB,EAAvBA,SAAUK,EAAa,EAAbA,QAAa,EAC/BgF,IAAM4P,UAAS,GADgB,oBAChDlV,EADgD,KAC1CuW,EAD0C,KAGjDC,EAAe,SAACxW,GAAD,OAAmB,SAACsV,KACjCA,GAAwB,YAAfA,EAAMjS,MAA8D,QAAtCiS,EAA8BhN,KAAwD,UAAtCgN,EAA8BhN,MAGzHiO,EAAQvW,KAGZ,OACI,oCACI,kBAAC0S,GAAA,EAAD,CACIvR,MAAM,UACNsR,aAAW,cACXvR,QAASsV,GAAa,GACtBC,KAAK,MACL5V,UAAWP,EAAQ2V,YAElBjW,EAAO,kBAAC,KAAD,CAAkBoR,SAAS,UAAY,kBAAC,KAAD,CAAUA,SAAS,WAGtE,kBAACsF,GAAA,EAAD,CACI1W,KAAMA,EACNS,QAAS+V,GAAa,GACtBG,OAAQH,GAAa,GACrBI,OAAO,OACPtW,QAAS,CACLrB,MAAOqB,EAAQrB,QAGnB,yBACI4B,UAAWP,EAAQ6P,KACnB0G,KAAK,eACL3V,QAASsV,GAAa,GACtBM,UAAWN,GAAa,IAExB,kBAAC,KAAD,CAASnE,GAAI7M,KAAGC,KAAKC,KAAM7E,UAAWP,EAAQ4V,MAC1C,yBAAKP,IAAKoB,KAASnB,IAAI,GAAG/U,UAAWP,EAAQ+V,WAEhDpW,QC9CfnB,GAASC,cAAa,SAACC,GAAD,MAAmB,CAC3CgY,KAAM,CACF1G,QAAS,QAEb2G,OAAQ,CACJC,OAAQlY,EAAMkY,OAAOC,OAAS,EAC9BhW,MAAOnC,EAAMG,QAAQC,OAAOC,OAEhC+X,QAAS,CACLC,SAAU,EACV7X,QAASR,EAAMiS,QAAQ,IAE3BqG,KAAM,CACFhH,QAAS,OACTS,WAAY,SACZqF,OAAQ,OACRlF,WAAY,GAEhB6F,QAAQ,cACJX,OAAQ,IACPpX,EAAMoR,YAAYC,GAAG,MAAQ,CAC1B+F,OAAQ,KAGhBmB,UAAW,CACP/X,QAASR,EAAMiS,QAAQ,IAE3BuG,QAAS,CACLhY,QAASR,EAAMiS,QAAQ,GACvB9P,MAAOnC,EAAMG,QAAQC,OAAOC,MAC5BoY,WAAY,KAEhBC,YAAa,CACTpH,QAAS,OACTS,WAAY,SACZrR,eAAgB,WAChB0W,OAAQ,QAEZ9B,OAAQ,CACJhE,QAAS,OACTS,WAAY,SACZwD,YAAa,GACbC,aAAc,GACdC,cAAe,QAEnBG,WAAY,CACRpV,QAAS,aC4BFmY,GDxBA9X,aAAWf,GAAQ,CAACgB,WAAW,GCwB/B6X,EAlD4B,SAAC,GAA2F,IAA1FjU,EAAyF,EAAzFA,OAAQuC,EAAiF,EAAjFA,MAAOJ,EAA0E,EAA1EA,OAAQtH,EAAkE,EAAlEA,iBAAkB0W,EAAgD,EAAhDA,gBAAiBvD,EAA+B,EAA/BA,iBAAkBpR,EAAa,EAAbA,QACrH,OACI,kBAACsX,GAAA,EAAD,CAAQC,SAAS,QAAQ/R,UAAU,SAASjF,UAAWP,EAAQ2W,QAC3D,kBAACa,GAAA,EAAD,CAAWnX,SAAS,MAChB,kBAACoX,GAAA,EAAD,CAAS3W,QAAQ,QAAQ4W,gBAAc,GACnC,kBAACC,GAAA,EAAD,CAAMC,WAAS,EAACrX,UAAWP,EAAQ0W,KAAM/F,QAAS,GAC9C,kBAACgH,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,GAClB,yBAAKxX,UAAWP,EAAQgX,MACpB,kBAAC,KAAD,CAASjF,GAAI7M,KAAGC,KAAKC,MACb,yBAAKiQ,IAAKoB,KAASnB,IAAI,GAAG/U,UAAWP,EAAQyW,aAI7D,kBAACkB,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,GAClB,yBAAKxX,UAAWP,EAAQoX,aACpB,kBAAC3F,GAAA,EAAD,CAAQC,QAAM,GACV,kBAAC,GAAD,CACInM,OAAQA,EACRtH,iBAAkBA,EAClBmF,OAAQuR,EAAkBA,EAAgBvR,OAAS,KACnDgO,iBAAkBA,IAEtB,kBAACwC,GAAA,EAAD,CACIC,YAAY,WACZmE,UAAQ,EACR/G,OAAO,IACX,kBAAC,GAAD,CAAStL,MAAOA,EAAOyL,iBAAkBA,EAAkB7L,OAAQA,EAC1DoP,gBAAiBA,EAAiBvR,OAAQA,IACnD,kBAACwQ,GAAA,EAAD,CAASC,YAAY,WAAWmE,UAAQ,EAAC/G,OAAO,KAGpD,kBAACQ,GAAA,EAAD,CAAQe,MAAI,GACR,kBAAC,GAAD,KACI,kBAAC,GAAD,CACIjN,OAAQA,EACR6L,iBAAkBA,EAClBnT,iBAAkBA,EAClBmF,OAAQuR,EAAkBA,EAAgBvR,OAAS,kB,UCGxFgL,GAAUxC,IAAVwC,OAEQmB,eACX0I,cAboB,SAAC5a,GACrB,MAAO,CACH+F,OAAQ6J,YAAiB5P,GACzBsI,MAAOuS,YAAoB7a,GAC3BkI,OAAQ4S,YAAU9a,GAClBY,iBAAkBD,aAAoBX,GACtCsX,gBAAiByD,YAAmB/a,MAO6D,CAAC+Q,YACtGiK,KAFW9I,EArCwB,SAAC,GAAwB,IAAvBnB,EAAsB,EAAtBA,OAAWkK,EAAW,6BACP1D,oBAAS,GADF,oBACpD2D,EADoD,KAChCC,EADgC,KAEvD1U,EAAU2U,eAERrH,EAAmB,SAAC1R,GACtB8Y,EAAsB9Y,IAO1B,OACI,oCACI,kBAAC,GAAD,iBAAY4Y,EAAZ,CAAmBlH,iBAAkBA,KACrC,kBAACnQ,GAAA,EAAD,CACIC,OAAQqX,EACRpX,WAAYiQ,EACZhQ,cAVU,WAClBgN,EAAOtK,MAUE,OCrCF4U,GAVM,SAACC,GAClB,OAAO,SAACL,GACJ,OACI,kBAAC,WAAD,CAAUM,SAAU,kBAACC,GAAA,EAAD,CAAWC,eAAe,KAC3C,kBAACH,EAAqBL,MCLxBS,GAAe,SAAC1b,GACzB,OAAOA,EAAM2R,IAAIpH,Q,mBCEjBoR,GAAY,GAkDDC,GAhDE,WACb,IAAMC,EAAWC,eACXtR,EAAgBuR,cAAY,SAAA5J,GAAK,OAAIA,EAAMR,IAAInH,eAAiB,MAFnD,EAGsBwR,yBAAlC3N,EAHY,EAGZA,gBAAiB4N,EAHL,EAGKA,cA0CxB,OAhCAtU,IAAMuU,WAAU,WACZ1R,EAAc2R,SAAQ,YAAsD,IATxDjY,EASIyG,EAAmD,EAAnDA,IAAKxE,EAA8C,EAA9CA,QAA8C,IAArCyE,eAAqC,MAA3B,GAA2B,MAAvBwR,eAAuB,SAGnEH,EAActR,GAKdgR,GAAUU,SAAS1R,KAGvB0D,EAAgBlI,EAAD,aACXwE,OACGC,EAFQ,CAGX9H,QAAS,SAAC6U,EAAO2E,EAAQC,GACjB3R,EAAQ9H,SACR8H,EAAQ9H,QAAQ6U,EAAO2E,EAAQC,IAGvCC,SAAU,SAAC7E,EAAO4E,GAxBN,IAACrY,EA0BT2X,EAASpR,EAA0B8R,IA1B1BrY,EA2BOqY,EA1B5BZ,GAAS,YAAOA,GAAUvU,QAAO,SAAAuD,GAAG,OAAIzG,IAAOyG,UAL3BzG,EAoCDyG,EAnCnBgR,GAAS,sBAAOA,IAAP,CAAkBzX,UAqC5B,CAACsG,EAAeyR,EAAe5N,EAAiBwN,IAE5C,MCvCIY,GAVA,WACb,OAAO,4BAAQvZ,UAAU,SAASwZ,MAAO,CAACC,WAAY,YACpD,kBAACxC,GAAA,EAAD,CAAWnX,SAAS,MAClB,yBAAK0Z,MAAO,CAAClZ,MAAO,OAAQ3B,QAAS,QAAS4R,SAAU,KAAxD,yCCJAtS,GAASC,cAAa,SAACC,GAAD,MAAmB,CAC3C8W,KAAM,CACFxF,QAAS,QAEb8G,QAAS,CACLC,SAAU,EACV/G,QAAS,OACTiK,cAAe,UAGnBC,QAASxb,EAAMyb,OAAOD,YAGX3a,gBAAWf,GAAQ,CAACgB,WAAW,I,UCXxC4a,GAAYC,cAAW,SAAA3b,GAAK,MAAK,CACnC4b,KAAM,CACFtK,QAAS,OACTS,WAAY,SACZ0G,WAAY,KAEhBzG,KAAM,CACFT,YAAa,QAgBNsK,GAZQ,SAAC,GAAoC,IAAnC/W,EAAkC,EAAlCA,QACfxD,EAAUoa,KAChB,OACI,yBAAK7Z,UAAWP,EAAQsa,MACpB,kBAAC,KAAD,CAAkBxJ,SAAS,QAAQvQ,UAAWP,EAAQ0Q,OACtD,8BACKlN,KCcXgX,G,8MAYFC,WAAa,WAAO,IAAD,EACoC,EAAKnC,MAAjD/T,EADQ,EACRA,wBAAyBoQ,EADjB,EACiBA,gBAChC,GAAKA,EAAL,CAFe,IAGRvR,EAAoBuR,EAApBvR,OAAQsS,EAAYf,EAAZe,SACfgF,aAAa,CAACtX,SAAQuX,SAAUjF,IAChCkF,KAAOC,GAAG,mBAAmB,SAAChN,GAC1B,EAAKyK,MAAM5M,gBACP,kBAAC,GAAD,CAAgBlI,QAAO,4BAAuBqK,EAAI5J,OAAO4M,QAAW,CAAC/P,QAAS,YAElFyD,S,EAIRuW,YAAc,SAACC,GACX,EAAKzC,MAAM5M,gBAAX,UAA8BqP,EAAEpB,QAAU,CAAC7Y,QAAS,W,qFAxBpDka,KAAK1C,MAAM2C,gBACX3T,OAAO4T,iBAAiB,qBAAsBF,KAAKF,e,yCAGpCK,GACXH,KAAK1C,MAAM3D,kBAAoBwG,EAAUxG,iBACzCqG,KAAKP,e,6CAsBTnT,OAAO8T,oBAAoB,qBAAsBJ,KAAKF,e,+BAGhD,IAAD,SACqBE,KAAK1C,MAAxBtY,EADF,EACEA,QACP,OAFK,EACW4H,OAKZ,oCACI,kBAAC,GAAD,MACA,kBAACyT,GAAA,EAAD,MACA,kBAAC,GAAD,MACA,kBAAC7D,GAAA,EAAD,CAAWnX,SAAS,KAAKmF,UAAU,OAAOjF,UAAWP,EAAQ8W,SACzD,yBAAKvW,UAAWP,EAAQka,UACxB,kBAAC,KAAD,KACKoB,OAAOC,QAAQrW,MAAIyM,KAAI,YAAmB,IAAD,oBAAhB3J,EAAgB,KAAXwT,EAAW,KAC/BpW,EAAwDoW,EAAxDpW,KAD+B,EACyBoW,EAAlDnW,aADyB,WACyBmW,EAAnClW,gBADU,MACC,KADD,EACkBmW,EAAOD,EAAlBhW,UACvCkW,EAAepW,EAAWA,EAAS,EAAKgT,MAAM/S,QAAU,GACxDoW,EAAiBrW,EAAW,kBAAC,KAAD,CAAUyM,GAAI2J,IAAkBhD,GAAa+C,GAC/E,OACI,kBAAC,KAAD,CACIzT,IAAKA,EACL5C,KAAMA,EACNC,MAAOA,GAENsW,QAMrB,kBAAC,GAAD,OA1BG,kBAAC9C,GAAA,EAAD,CAAWC,eAAe,Q,GApC3B8C,aA4EXX,GAAiBnT,EACjBvD,GAA2B1B,IAA3B0B,wBAEQgL,eACXsM,GACAC,gBACA7D,cAdoB,SAAC5a,GACrB,MAAO,CACHuK,OAAQmR,GAAa1b,GACrBkI,OAAQ4S,YAAU9a,GAClBsX,gBAAiByD,YAAmB/a,MAU2D,CAC/F4d,iBACA1W,6BAEJ8T,KAPW9I,CAQbiL,I,wCCvHauB,gBAAe,CAC1BC,WAAY,CACRC,WAAY,CACR,gBACA,qBACA,aACA,SACA,mBACA,QACA,aACA,sBACA,mBACA,qBACFC,KAAK,KACPC,iBAAiB,EACjBtb,MAAO,OACPub,GAAI,CACAtL,SAAU,QAEduL,GAAI,CACAvL,SAAU,UAEdwL,GAAI,CACAxL,SAAU,WAEdyL,UAAW,CACPpF,WAAY,MAIpBgD,OAAQ,CACJD,QAAS,CACLsC,UAAW,KAGnB3d,QAAS,CACLkE,KAAM,QACNyN,QAAS,CACLqF,KAAM,WAEV4G,UAAW,CACP5G,KAAM,WAEVxF,KAAMA,KACNqM,QAAS,CACL7G,KAAM,WAEVmE,WAAY,UACZ2C,MAAO,CACH9G,KAAM,WAEV+G,kBAAmB,EACnBC,YAAa,GACbC,aAAc,OACdvM,KAAM,CACFC,QAAS,W,UC5CfuM,GAAS,IAAIC,KAAa,CAC5BC,IAAK,aAITC,IAASC,OACL,kBAAC,KAAD,KACI,kBAAC,KAAD,CAAqBJ,OAAQA,IACzB,kBAAC,KAAD,CAAUvN,MAAOA,IACb,kBAAC,oBAAD,CAAkB4N,SAAU,EAAG7J,aAAc,CAACC,SAAU,SAAUC,WAAY,SAAW4J,iBAAkB,KACvG,kBAACC,GAAA,EAAD,CAAe5e,MAAOA,IAClB,kBAAC,GAAD,WAKT6e,SAASC,eAAe,SxBqGjC,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBzU,MAAK,SAAA0U,GACJA,EAAaC,gBAEdC,OAAM,SAAAnB,GACLoB,QAAQpB,MAAMA,EAAMnZ,a,oDyBzIfwa,EAAsB,SAAC5Q,EAAmB6Q,EAAiBC,EAAqBC,GACzF,OAAO/Q,EAAMuE,KAAI,SAAAkG,GACb,OAAIA,EAAKqG,KAAiBD,EACf,eAAIpG,EAAX,GAAoBsG,GAEjBtG,M,wICDR,IAAMpJ,EAAe,qBACfC,EAAiB,uBACjBC,EAAsB,4BAU7B/L,EAAe,CACjBgD,MAAO,GACPmD,SAAU,GACVqV,gBAAiB,GACjBtV,YAAa,EACbuV,WAAW,EACXC,iBAAkB,GAClBC,YAAa,MAyCJvS,EAAe,CACzBI,SAAU,SAACxG,GAAD,MAA6B,CAAC7C,KAxDlB,kBAwDmC6C,UACzDsG,QAAS,SAACsS,GAAD,MAAmB,CAACzb,KAxDR,iBAwDwByb,SAC7CnS,mBAAoB,SAAC/I,GAAD,MAAoB,CAACP,KAxDb,wBAwDoCO,UAChEiJ,gBAAiB,SAAC8R,GAAD,MAAyB,CAACtb,KAxDb,0BAwDsCsb,cACpE/R,uBAAwB,SAACmS,EAAqBrb,GAAtB,MAA0C,CAACL,KAxD7B,kCAwD8D0b,aAAYrb,WAChH+I,cAAe,SAACuS,GAAD,MAAoB,CAAC3b,KAxDR,wBAwD+B2b,UAC3DvR,aAAc,SAACrE,EAAqBC,EAAkBC,GAAxC,MAAgE,CAACjG,KAAM4L,EAAqB7F,cAAaC,WAAUC,eACjI2V,OAAQ,SAACpd,EAAY+L,GAAb,MAA+C,CAACvK,KAAM0L,EAAcjK,OAAQ,SAAUjD,KAAI+L,wBAClGsR,SAAU,SAACrd,EAAY+L,GAAb,MAA+C,CAACvK,KAAM2L,EAAgBlK,OAAQ,WAAYjD,KAAI+L,wBACxGvB,aAAc,SAAC3I,GAAD,MAAqB,CAACL,KAnEV,sBAmE+BK,WACzD6I,eAAgB,SAAC7I,GAAD,MAAqB,CAACL,KAnEV,wBAmEiCK,YAGjD0L,IAlDM,WAAwE,IAAvEzR,EAAsE,uDAA9DuF,EAAc4B,EAAgD,uCACxF,OAAQA,EAAOzB,MACX,IAvBqB,sBAwBjB,OAAO,eACA1F,EADP,CAEIuI,MAAOoY,EAAoB3gB,EAAMuI,MAAOpB,EAAOpB,OAAQ,KAAM,CAACyb,UAAU,MAEhF,IA3BuB,wBA4BnB,OAAO,eACAxhB,EADP,CAEIuI,MAAOoY,EAAoB3gB,EAAMuI,MAAOpB,EAAOpB,OAAQ,KAAM,CAACyb,UAAU,MAEhF,IA/BiB,kBAgCb,OAAO,eAAIxhB,EAAX,CAAkBuI,MAAOpB,EAAOoB,QACpC,IAhCgB,iBAiCZ,OAAO,eAAIvI,EAAX,CAAkByL,YAAatE,EAAOga,OAC1C,IAjCuB,wBAkCnB,OAAO,eAAInhB,EAAX,CAAkB+gB,gBAAiB5Z,EAAOlB,QAC9C,IAlCyB,0BAmCrB,OAAO,eAAIjG,EAAX,CAAkBghB,UAAW7Z,EAAO6Z,YACxC,IAlCuB,wBAmCnB,OAAO,eAAIhhB,EAAX,CAAkBkhB,YAAa/Z,EAAOka,QAC1C,IArCiC,kCAsC7B,OAAO,eACArhB,EADP,CAEIihB,iBAAkB9Z,EAAOia,WAAP,sBACVphB,EAAMihB,kBADI,CACc9Z,EAAOpB,SACnC/F,EAAMihB,iBAAiB7Z,QAAO,SAAAlD,GAAE,OAAIA,IAAOiD,EAAOpB,YAE9D,QACI,OAAO/F,K,oLCvDN2Q,EAAa,kBACbO,EAAc,mBACdC,EAAe,oBAKtB5L,EAAe,CACjBQ,OAAQ,KACRuC,MAAO,KACP6D,MAAO,KACPjE,QAAQ,EACRuZ,WAAY,KACZnK,gBAAiB,MAsBR/I,EAAc,CACvBD,YAAa,SAACvI,EAAuBuC,EAAsB6D,EAAsBjE,GAApE,MAAyF,CAClGxC,KAlCc,qBAkCOK,SAAQuC,QAAO6D,QAAOjE,WAE/CsG,cAAe,SAACiT,GAAD,MAAyB,CAAC/b,KAnCrB,uBAmC4C+b,eAChEhT,mBAAoB,SAAC6I,GAAD,MAA0C,CAAC5R,KAnCrC,6BAmCkE4R,oBAC5FhP,MAAO,SAAC6D,EAAeC,EAAkBC,EAAqBC,GAAvD,MAAmF,CAAC5G,KAAMwL,EAAa/E,QAAOC,WAAUC,aAAYC,YAC3IyE,OAAQ,SAACtK,GAAD,MAAmB,CAACf,KAAMyL,EAAc1K,aAErCiL,IA1BK,WAAuE,IAAtE1R,EAAqE,uDAA7DuF,EAAc4B,EAA+C,uCACtF,OAAQA,EAAOzB,MACX,IAjBc,qBAiBd,IACWK,EAAgCoB,EAAhCpB,OAAQuC,EAAwBnB,EAAxBmB,MAAO6D,EAAiBhF,EAAjBgF,MAAOjE,EAAUf,EAAVe,OAC7B,OAAO,eAAIlI,EAAX,CAAkB+F,SAAQuC,QAAO6D,QAAOjE,WAC5C,IAlBsB,6BAkBtB,IACWoP,EAAmBnQ,EAAnBmQ,gBACP,OAAO,eAAItX,EAAX,CAAkBsX,oBACtB,IAtBgB,uBAsBhB,IACWmK,EAActa,EAAdsa,WACP,OAAO,eAAIzhB,EAAX,CAAkByhB,eACtB,QACI,OAAOzhB,K,gCC/BnB,0KAAO,IAAM4P,EAAmB,SAAC5P,GAC7B,OAAOA,EAAM0R,YAAY3L,QAGhB8U,EAAsB,SAAC7a,GAChC,OAAOA,EAAM0R,YAAYpJ,OAGhBwS,EAAY,SAAC9a,GACtB,OAAOA,EAAM0R,YAAYxJ,QAGhB6S,EAAqB,SAAC/a,GAC/B,OAAOA,EAAM0R,YAAY4F,iBAGhBoK,EAAgB,SAAC1hB,GAC1B,OAAOA,EAAM0R,YAAY+P,a,gCCnB7B,8JAEME,EAAOC,mHAAYC,MAAQ,OACpBtE,EAASuE,IAAG,CAACH,KAAMA,IAOnBtE,EAAe,SAAC0E,GACzBxE,EAAOyE,KAAK,YAAaD,IAYhBxR,EAAkB,SAAC0R,GAC5B1E,EAAOyE,KAAK,eAAgBC,IAQnBC,EAAoB,SAACC,GAC9B5E,EAAOyE,KAAK,kBAAmBG,K,8EC/B7BhhB,EAASC,aAAa,SAACC,GAAD,MAAmB,CAC3C+gB,UAAW,CACPlI,SAAU,WACVmI,IAAK,EACLC,KAAM,EACNC,MAAO,EACP5P,QAAS,OACTS,WAAY,SACZrR,eAAgB,SAChB4a,WAAY,yBACZpD,OAAQ,EACRiJ,OAAQ,OAIDtgB,cAAWf,EAAQ,CAACgB,WAAW,ICK/BsgB,OAb+B,SAAC,GAA8B,IAA7BhH,EAA4B,EAA5BA,cAAe9Y,EAAa,EAAbA,QAC3D,OAAK8Y,EAID,yBAAKvY,UAAWP,EAAQyf,WACnB3G,GACG,kBAACiH,EAAA,EAAD,CAAkBlf,MAAM,eALzB,U","file":"static/js/main.35128758.chunk.js","sourcesContent":["import {AppStateType} from \"../redux-store\";\n\nexport const getMessagesList = (state: AppStateType) => {\n    return state.dialogsReducer.messages\n};\n\nexport const getDialogsList = (state: AppStateType) => {\n    return state.dialogsReducer.dialogs\n};\n\nexport const getLastUserActivityDate = (state: AppStateType) => {\n    return state.dialogsReducer.lastUserActivityDate\n};\n\nexport const getDeletedMessages = (state: AppStateType) => {\n    return state.dialogsReducer.deletedMessages\n};\n\nexport const getSpamedMessages = (state: AppStateType) => {\n    return state.dialogsReducer.spamedMessages\n};\n\nexport const getNewMessagesCount = (state: AppStateType) => {\n    return state.dialogsReducer.newMessagesCount\n};\n\nexport const getSelectedFriend = (state: AppStateType) => {\n    return state.dialogsReducer.selectedFriend\n};\n\nexport const getMessagesLoading = (state: AppStateType) => {\n    return state.dialogsReducer.messagesLoading\n};\n","module.exports = __webpack_public_path__ + \"static/media/logo.0a470749.png\";","module.exports = __webpack_public_path__ + \"static/media/user-placeholder.f4e91123.png\";","import {withStyles, createStyles, Theme} from '@material-ui/core/styles';\n\nconst styles = createStyles((theme: Theme) => ({\n    paper: {\n        backgroundColor: theme.palette.common.white,\n    },\n    title: {\n        textAlign: 'center',\n        padding: '16px 24px 8px'\n    },\n    buttons: {\n        justifyContent: 'space-between',\n        padding: '8px 24px 16px'\n    },\n    btn: {\n        width: '48%'\n    }\n}));\n\nexport default withStyles(styles, {withTheme: true})\n","import React, {FC} from 'react';\nimport {\n    DialogTitle,\n    Dialog,\n    DialogContent,\n    DialogActions,\n    DialogProps,\n    Button, WithStyles,\n} from '@material-ui/core';\nimport withSimpleDialogStyles from \"./simpleDialogStyles\";\nimport {CheckCircleOutlineOutlinedIcon, CancelOutlinedIcon} from \"../../Icons/MeterialIcons\";\n\ntype PropsType = {\n    open: boolean,\n    title: string,\n    resetAction: () => void,\n    submitAction: any,\n    submitName?: string,\n    submitDisabled?: boolean,\n    rest?: any\n}\n\nconst SimpleDialogTemplate: FC<DialogProps & PropsType & WithStyles> = ({open, title, children, submitAction, resetAction, submitName, submitDisabled, classes, ...rest}) => {\n    return (\n        <Dialog\n            open={open}\n            onClose={resetAction}\n            fullWidth\n            maxWidth=\"xs\"\n            {...rest}\n            classes={{\n                paper: classes.paper\n            }}>\n            <DialogTitle className={classes.title}>{title}</DialogTitle>\n            <DialogContent>\n                {children}\n            </DialogContent>\n            <DialogActions className={classes.buttons} disableSpacing>\n                <Button\n                    onClick={submitAction}\n                    className={classes.btn}\n                    color=\"primary\"\n                    variant=\"contained\"\n                    startIcon={<CheckCircleOutlineOutlinedIcon/>}\n                    {...(submitDisabled ? {disabled:submitDisabled} : {})}\n                >\n                   {submitName ? submitName : 'Confirm'}\n                </Button>\n                <Button\n                    onClick={resetAction}\n                    className={classes.btn}\n                    color=\"secondary\"\n                    variant=\"contained\"\n                    startIcon={<CancelOutlinedIcon/>}\n                >\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default withSimpleDialogStyles(SimpleDialogTemplate);","import React, {FC} from 'react';\nimport {Typography} from '@material-ui/core';\nimport {PostsData_posts} from \"../../../server/types/PostsData\";\nimport {OpenPostDialogType} from \"../../../redux/reducers/types\";\nimport SimpleDialogTemplate from './SimpleDialogTemplate';\n\ntype PropsType = {\n    isOpen: boolean,\n    openDialog: (isOpen: boolean,  type: OpenPostDialogType, selectedItem: PostsData_posts | null) => void,\n    itemToConfirm?: PostsData_posts,\n    confirmAction: any,\n}\n\nconst ConfirmDialog: FC<PropsType> = ({isOpen, openDialog, confirmAction, itemToConfirm, children}) => {\n    const handleClose = () => {\n        openDialog(false, 'confirm', null);\n    };\n\n    const confirmActionSubmit = () => {\n        itemToConfirm ? confirmAction(itemToConfirm.id) : confirmAction();\n        handleClose();\n    };\n    return (\n        <SimpleDialogTemplate\n            open={isOpen}\n            resetAction={handleClose}\n            submitAction={confirmActionSubmit}\n            aria-labelledby=\"delete-post-dialog\"\n            title=\"Are you sure?\"\n        >\n            {children ? children :\n                <Typography variant=\"body2\">\n                    {children ? children : 'If you click \\'CONFIRM\\' the element will be removed from database.'}\n                </Typography>\n            }\n\n        </SimpleDialogTemplate>\n    );\n};\n\nexport default ConfirmDialog;","import {AppStateType} from \"../redux-store\";\n\nexport const getProfile = (state: AppStateType) => {\n    return state.profileReducer.profile\n};\n\nexport const getProfileError = (state: AppStateType) => {\n    return state.profileReducer.profileError\n};\n\nexport const getProfileIsLoading = (state: AppStateType) => {\n    return state.profileReducer.profileIsLoading\n};\n\nexport const getIsFollowed = (state: AppStateType) => {\n    return state.profileReducer.isFollowed\n};\n\nexport const getStatus = (state: AppStateType) => {\n    return state.profileReducer.status\n};\n","import {DialogsType, MessagesType, ProfileType} from \"./types\";\nimport {InferActionsTypes} from \"../redux-store\";\n\nexport const GET_DIALOGS_ASYNC = 'dialogs/GET_DIALOGS_ASYNC';\nexport const GET_MESSAGES_ASYNC = 'dialogs/GET_MESSAGES_ASYNC';\nexport const SEND_MESSAGE_ASYNC = 'dialogs/SEND_MESSAGE_ASYNC';\nexport const START_CHAT_ASYNC = 'dialogs/START_CHAT_ASYNC';\nexport const GET_NEW_MESSAGES_COUNT_ASYNC = 'dialogs/GET_NEW_MESSAGES_COUNT_ASYNC';\nexport const DELETE_MESSAGE_ASYNC = 'dialogs/DELETE_MESSAGE_ASYNC';\nexport const RESTORE_MESSAGE_ASYNC = 'dialogs/RESTORE_MESSAGE_ASYNC';\nexport const SPAM_MESSAGE_ASYNC = 'dialogs/SPAM_MESSAGE_ASYNC';\n\nexport const SET_DIALOGS = 'dialogs/SET_DIALOGS';\nexport const SET_MESSAGES = 'dialogs/SET_MESSAGES';\nexport const SET_NEW_MESSAGES_COUNT = 'dialogs/SET_NEW_MESSAGES_COUNT';\nexport const SET_ACTIVITY_DATE = 'dialogs/SET_ACTIVITY_DATE';\nexport const ADD_MESSAGE = 'dialogs/ADD_MESSAGE';\nexport const ADD_MESSAGE_TO_DELETED = 'dialogs/ADD_MESSAGE_TO_DELETED';\nexport const RESTORE_FROM_SPAM_DELETED = 'dialogs/RESTORE_FROM_SPAM_DELETED';\nexport const ADD_MESSAGE_TO_SPAM = 'dialogs/ADD_MESSAGE_TO_SPAM';\nexport const SET_SELECTED_FRIEND = 'dialogs/SET_SELECTED_FRIEND';\nexport const SET_MESSAGES_LOADING = 'dialogs/SET_MESSAGES_LOADING';\n\nconst initialState = {\n    dialogs: [] as Array<DialogsType>,\n    messages: [] as Array<MessagesType>,\n    newMessagesCount: null as number | null,\n    lastUserActivityDate: null as string | null,\n    deletedMessages: [] as Array<string>,\n    spamedMessages: [] as Array<string>,\n    selectedFriend: null as ProfileType | null,\n    messagesLoading: false\n};\n\nexport type InitialStateType = typeof initialState;\n\nconst dialogsReducer = (\n    state = initialState,\n    action: DialogsActionsTypes\n): InitialStateType => {\n\n    switch (action.type) {\n        case SET_DIALOGS:\n            return {...state, dialogs: action.dialogs};\n        case SET_MESSAGES:\n            return {...state, messages: action.messages};\n        case SET_MESSAGES_LOADING:\n            return {...state, messagesLoading: action.messagesLoading};\n        case SET_SELECTED_FRIEND:\n            return {...state, selectedFriend: action.selectedFriend};\n        case ADD_MESSAGE:\n            return {...state, messages: [...state.messages, action.message]};\n        case ADD_MESSAGE_TO_DELETED:\n            return {...state, deletedMessages: [...state.deletedMessages, action.messageId]};\n        case ADD_MESSAGE_TO_SPAM:\n            return {...state, spamedMessages: [...state.spamedMessages, action.messageId]};\n        case RESTORE_FROM_SPAM_DELETED:\n            return {\n                ...state,\n                deletedMessages: [...state.deletedMessages].filter(id => id !== action.messageId),\n                spamedMessages: [...state.spamedMessages].filter(id => id !== action.messageId)\n            };\n        case SET_NEW_MESSAGES_COUNT:\n            return {...state, newMessagesCount: action.count};\n        case SET_ACTIVITY_DATE:\n            let selectedUser = [...state.dialogs].find(dialog => dialog.id === Number(action.userId));\n            if (selectedUser !== undefined) {\n                return {...state, lastUserActivityDate: selectedUser.lastUserActivityDate};\n            } else {\n                return state;\n            }\n        default:\n            return state;\n    }\n};\n\nexport type DialogsActionsTypes = InferActionsTypes<typeof dialogActions>;\nexport const dialogActions = {\n    setMessagesLoading: (messagesLoading: boolean) => ({type: SET_MESSAGES_LOADING, messagesLoading} as const),\n    setDialogs: (dialogs: Array<DialogsType>) => ({type: SET_DIALOGS, dialogs} as const),\n    setSelectedFriend: (selectedFriend: ProfileType) => ({type: SET_SELECTED_FRIEND, selectedFriend} as const),\n    setMessages: (messages: Array<MessagesType>) => ({type: SET_MESSAGES, messages} as const),\n    setActivityDate: (userId: number) => ({type: SET_ACTIVITY_DATE, userId} as const),\n    setNewMessagesCount: (count: number) => ({type: SET_NEW_MESSAGES_COUNT, count} as const),\n    addMessage: (message: MessagesType) => ({type: ADD_MESSAGE, message} as const),\n    addMessageToDeleted: (messageId: string) => ({type: ADD_MESSAGE_TO_DELETED, messageId} as const),\n    addMessageToSpam: (messageId: string) => ({type: ADD_MESSAGE_TO_SPAM, messageId} as const),\n    restoreFromSpamDeleted: (messageId: string) => ({type: RESTORE_FROM_SPAM_DELETED, messageId} as const),\n    startChat: (userId: number, history: any) => ({type: START_CHAT_ASYNC, userId, history} as const),\n    sendMessage: (reciever: number, sender: {id: number, name: string}, message: string) => ({type: SEND_MESSAGE_ASYNC, reciever, sender, message} as const),\n    getMessages: (userId: number) => ({type: GET_MESSAGES_ASYNC, userId} as const),\n    deleteMessage: (messageId: string) => ({type: DELETE_MESSAGE_ASYNC, messageId} as const),\n    restoreMessage: (messageId: string) => ({type: RESTORE_MESSAGE_ASYNC, messageId} as const),\n    spamMessage: (messageId: string) => ({type: SPAM_MESSAGE_ASYNC, messageId} as const),\n    getDialogs: () => ({type: GET_DIALOGS_ASYNC} as const),\n    requestNewMessagesCount: () => ({type: GET_NEW_MESSAGES_COUNT_ASYNC} as const),\n};\n\nexport default dialogsReducer;","export {default as MailIcon} from '@material-ui/icons/Mail';\nexport {default as PeopleAltIcon} from '@material-ui/icons/PeopleAlt';\nexport {default as HomeIcon} from '@material-ui/icons/Home';\nexport {default as SettingsIcon} from '@material-ui/icons/Settings';\nexport {default as ExitToAppIcon} from '@material-ui/icons/ExitToApp';\nexport {default as PersonRoundedIcon} from '@material-ui/icons/PersonRounded';\nexport {default as EditRoundedIcon} from '@material-ui/icons/EditRounded';\nexport {default as DeleteIcon} from '@material-ui/icons/Delete';\nexport {default as EditIcon} from '@material-ui/icons/Edit';\nexport {default as FacebookIcon} from '@material-ui/icons/Facebook';\nexport {default as LanguageIcon} from '@material-ui/icons/Language';\nexport {default as TwitterIcon} from '@material-ui/icons/Twitter';\nexport {default as InstagramIcon} from '@material-ui/icons/Instagram';\nexport {default as YouTubeIcon} from '@material-ui/icons/YouTube';\nexport {default as GitHubIcon} from '@material-ui/icons/GitHub';\nexport {default as AddAPhotoIcon} from '@material-ui/icons/AddAPhoto';\nexport {default as CheckCircleOutlineOutlinedIcon} from '@material-ui/icons/CheckCircleOutlineOutlined';\nexport {default as CancelOutlinedIcon} from '@material-ui/icons/CancelOutlined';\nexport {default as MoreVertIcon} from '@material-ui/icons/MoreVert';\nexport {default as FavoriteIcon} from '@material-ui/icons/Favorite';\nexport {default as PersonAddDisabledRoundedIcon} from '@material-ui/icons/PersonAddDisabledRounded';\nexport {default as PersonAddRoundedIcon} from '@material-ui/icons/PersonAddRounded';\nexport {default as EmailRoundedIcon} from '@material-ui/icons/EmailRounded';\nexport {default as SendIcon} from '@material-ui/icons/Send';\nexport {default as NotInterestedIcon} from '@material-ui/icons/NotInterested';\nexport {default as DoneOutlineIcon} from '@material-ui/icons/DoneOutline';\nexport {default as KeyboardBackspaceIcon} from '@material-ui/icons/KeyboardBackspace';\nexport {default as InputIcon} from '@material-ui/icons/Input';\nexport {default as ExpandMoreRoundedIcon} from '@material-ui/icons/ExpandMoreRounded';\nexport {default as AccountCircleIcon} from '@material-ui/icons/AccountCircle';\nexport {default as SearchIcon} from '@material-ui/icons/Search';\nexport {default as ListAltOutlinedIcon} from '@material-ui/icons/ListAltOutlined';\nexport {default as AssignmentOutlinedIcon} from '@material-ui/icons/AssignmentOutlined';\nexport {default as MenuIcon} from '@material-ui/icons/Menu';\nexport {default as CloseRoundedIcon} from '@material-ui/icons/CloseRounded';\nexport {default as CreateOutlinedIcon} from '@material-ui/icons/CreateOutlined';","import React, {ComponentType} from \"react\";\nconst ProfileContainer = React.lazy(() => import(/* webpackChunkName: \"ProfileContainer\" */\"./components/Profile/ProfileContainer\"));\nconst MessagesContainer = React.lazy(() => import(/* webpackChunkName: \"MessagesContainer\" */\"./components/Messages/MessagesContainer\"));\nconst LoginContainer = React.lazy(() => import(/* webpackChunkName: \"LoginContainer\" */\"./components/Login/LoginContainer\"));\nconst UsersContainer = React.lazy(() => import(/* webpackChunkName: \"UsersContainer\" */\"./components/Users/UsersContainer\"));\nconst NotFound = React.lazy(() => import(/* webpackChunkName: \"Music\" */\"./components/NotFound/NotFound\"));\n\ntype RouteValueType = {\n    path: string,\n    redirect?:  (isAuth?: boolean) => string,\n    component?: ComponentType,\n    getPath?: any\n    exact?: boolean\n}\n\ntype RouteType = {\n    [key: string]: RouteValueType\n};\n\nconst RM:RouteType = {\n    home: {\n        path: '/',\n        exact: true,\n        redirect: (isAuth?: boolean) => {\n            return isAuth ? `/profile` : '/login'\n        },\n    },\n    profile: {\n        path: '/profile/:id?',\n        component: ProfileContainer,\n        exact: false,\n        getPath: (id: number | null) => {\n            return id ? `/profile/${id}` : '/profile'\n        },\n    },\n    settings: {\n        path: '/settings',\n        exact: true,\n        component: ProfileContainer,\n    },\n    dialogs: {\n        path: '/dialogs/:id?',\n        component: MessagesContainer,\n        getPath: (id: number | null) => {\n            return id ? `/dialogs/${id}` : '/dialogs'\n        }\n    },\n    login: {\n        path: '/login',\n        exact: true,\n        component: LoginContainer,\n    },\n    users: {\n        path: '/users',\n        exact: true,\n        component: UsersContainer,\n    },\n    notFound: {\n        path: '*',\n        exact: false,\n        component: NotFound,\n    },\n};\n\nexport default RM;","import {PhotosType, ProfileType} from \"./types\";\nimport {InferActionsTypes} from \"../redux-store\";\n\nexport const GET_STATUS_ASYNC = 'profile/GET_STATUS_ASYNC';\nexport const SET_STATUS_ASYNC = 'profile/SET_STATUS_ASYNC';\nexport const UPDATE_USER_PROFILE_ASYNC = 'profile/UPDATE_USER_PROFILE_ASYNC';\nexport const GET_USER_PROFILE_ASYNC = 'profile/GET_USER_PROFILE_ASYNC';\nexport const GET_IS_FOLLOWED_ASYNC = 'profile/GET_IS_FOLLOWED_ASYNC';\nexport const UPDATE_STATUS = 'profile/UPDATE_STATUS';\nexport const SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\nexport const SET_USER_PROFILE_FAILED = 'profile/SET_USER_PROFILE_FAILED';\nexport const LOAD_PHOTO_ASYNC = 'profile/LOAD_PHOTO_ASYNC';\nexport const SET_PHOTO = 'profile/SET_PHOTO';\nexport const TOGGLE_PROFILE_LOADING = 'profile/TOGGLE_PROFILE_LOADING';\nexport const SET_IS_FOLLOWED = 'profile/SET_IS_FOLLOWED';\n\nconst initialState = {\n    profile: null as ProfileType | null,\n    profileError: null as string | null,\n    status: '',\n    profileIsLoading: false,\n    isFollowed: false\n};\n\nexport type InitialStateType = typeof initialState;\n\nconst profileReducer = (state = initialState, action: ProfileActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case SET_USER_PROFILE:\n            return {...state, profile: action.profile, profileError: null};\n        case TOGGLE_PROFILE_LOADING:\n            return {...state, profileIsLoading: action.profileIsLoading};\n        case SET_USER_PROFILE_FAILED:\n            return {...state, profile: null, profileError: action.profileError};\n        case UPDATE_STATUS:\n            return {...state, status: action.status};\n        case SET_PHOTO:\n            return {...state, profile: {...state.profile, photos: action.photos} as ProfileType};\n        case SET_IS_FOLLOWED:\n            return {...state, isFollowed: action.isFollowed};\n        default:\n            return state;\n    }\n};\n\nexport type ProfileActionsTypes = InferActionsTypes<typeof profileActions>;\n\nexport const profileActions = {\n    toggleProfileLoading: (profileIsLoading: boolean) => ({type: TOGGLE_PROFILE_LOADING, profileIsLoading} as const),\n    setUserProfile: (profile: ProfileType) => ({type: SET_USER_PROFILE, profile} as const),\n    setUserProfileError: (profileError: string) => ({type: SET_USER_PROFILE_FAILED, profileError} as const),\n    setPhoto: (photos: PhotosType) => ({type: SET_PHOTO, photos} as const),\n    updateIsFollowed: (isFollowed: boolean) => ({type: SET_IS_FOLLOWED, isFollowed} as const),\n    setStatus: (status: string) => ({type: UPDATE_STATUS, status} as const),\n    getUserStatus: (id: number) => ({type: GET_STATUS_ASYNC, id} as const),\n    setUserStatus: (status: string) => ({type: SET_STATUS_ASYNC, status} as const),\n    updateProfileInfo: (info: ProfileType, userId: number) => ({type: UPDATE_USER_PROFILE_ASYNC, info, userId} as const),\n    getUserProfile: (id: number, updateCurrentUserInfo: boolean = false) => ({type: GET_USER_PROFILE_ASYNC, id, updateCurrentUserInfo} as const),\n    loadPhoto: (photo: any) => ({type: LOAD_PHOTO_ASYNC, photo} as const),\n    getIsUserFollowed: (id: number) => ({type: GET_IS_FOLLOWED_ASYNC, id} as const),\n};\n\nexport default profileReducer;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import axios from \"axios\";\nimport {DialogsType, MessagesType, PhotosType, ProfileType} from \"../redux/reducers/types\";\n\nconst instance = axios.create({\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n    withCredentials: true,\n    headers: {\n        \"API-KEY\": \"0cd66f02-e607-46e0-aed7-5f9c57c49533\",\n        // \"API-KEY\": \"307f2912-e9c0-4353-94d4-d2c9532f00e0\"\n    }\n});\n\n\nexport enum ResultCodes {\n    Success = 0,\n    Error = 1\n}\n\nexport enum ResultCodeForCaptcha {\n    CaptchaRequired = 10\n}\n\ntype AuthResponseType = {\n    resultCode: ResultCodes\n    messages: Array<string>,\n    data: {\n        id: number,\n        email: string,\n        login: string\n    }\n}\ntype LoginResponseType = {\n    resultCode: ResultCodes | ResultCodeForCaptcha\n    messages: Array<string>,\n    data: {\n        userId: number,\n    }\n}\n\ntype WithoutDataResponseType = {\n    resultCode: ResultCodes\n    messages: Array<string>,\n    data: {}\n}\n\nexport const usersAPI = {\n    getUsers: (currentPage: number, pageSize: number, searchText: string) => {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}&term=${searchText}`)\n            .then(response => response.data);\n    },\n\n    isUserFollowed: (id: number) => {\n        return instance.get<string>(`follow/${id}`)\n            .then(response => response.data)\n    },\n\n    followUser: (id: number) => {\n        return instance.post<WithoutDataResponseType>(`follow/${id}`)\n            .then(response => response.data)\n    },\n\n    unfollowUser: (id: number) => {\n        return instance.delete<WithoutDataResponseType>(`follow/${id}`)\n            .then(response => response.data)\n    },\n\n};\n\n\nexport const authAPI = {\n    auth: () => {\n        return instance.get<AuthResponseType>('auth/me')\n            .then(response => response.data)\n    },\n\n    login: (email: string, password: string, rememberMe: boolean, captcha: null | string = null) => {\n        return instance.post<LoginResponseType>('/auth/login', {email, password, rememberMe, captcha})\n            .then(response => response.data)\n    },\n\n    logout: () => {\n        return instance.delete<WithoutDataResponseType>('/auth/login')\n            .then(response => response.data)\n    }\n};\n\ntype CaptchaResponseType = {\n    url: string\n}\n\nexport const securityAPI = {\n    getCaptcha: () => {\n        return instance.get<CaptchaResponseType>('security/get-captcha-url')\n            .then(response => response.data)\n    }\n};\n\ntype LoadPhotoResponseType = {\n    data: {\n        photos: PhotosType,\n    }\n    resultCode: ResultCodes\n    messages: Array<string>,\n}\n\nexport const profileAPI = {\n    getProfile: (id: number) => {\n        return instance.get<ProfileType>(`profile/${id}`)\n            .then(response => response.data);\n    },\n\n    getStatus: (id: number) => {\n        return instance.get<string>(`profile/status/${id}`)\n            .then(response => response.data);\n    },\n\n    setStatus: (status: string) => {\n        return instance.put<WithoutDataResponseType>(`profile/status`, {status})\n            .then(response => response.data);\n    },\n\n    loadPhoto: (photoFile: any) => {\n        const formData = new FormData();\n        formData.append(\"image\", photoFile);\n        return instance.put<LoadPhotoResponseType>(`profile/photo`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n            .then(response => response.data);\n    },\n\n    updateProfileInfo: (info: ProfileType) => {\n        return instance.put<WithoutDataResponseType>(`profile`, info)\n            .then(response => response.data);\n    }\n};\n\ntype SendMessageResponseType = {\n    data: {\n        message: MessagesType\n    }\n    messages: Array<string>\n    resultCode: ResultCodes\n}\n\ntype GetMessagesResponseType = {\n    items: Array<MessagesType>\n    totalCount: number\n    error: null | string\n}\n\nexport const dialogsAPI = {\n    getDialogs: () => {\n        return instance.get<Array<DialogsType>>('dialogs')\n            .then(response => response.data)\n    },\n\n    startChat: (userId: number) => {\n        return instance.put<WithoutDataResponseType>(`dialogs/${userId}`)\n            .then(response => response.data)\n    },\n\n    sendMessage: (userId: number, message: string) => {\n        return instance.post<SendMessageResponseType>(`dialogs/${userId}/messages`, {body: message})\n            .then(response => response.data)\n    },\n\n    getMessages: (userId: number) => {\n        return instance.get<GetMessagesResponseType>(`dialogs/${userId}/messages/new?newerThen=2018-05-11T18:11:43.737`)\n            .then(response => response.data)\n    },\n\n    spamMessage: (messageId: string) => {\n        return instance.post<WithoutDataResponseType>(`dialogs/messages/${messageId}/spam`)\n            .then(response => response.data)\n    },\n\n    deleteMessage: (messageId: string) => {\n        return instance.delete<WithoutDataResponseType>(`dialogs/messages/${messageId}`)\n            .then(response => response.data)\n    },\n\n    //from deleted and spam\n    restoreMessage: (messageId: string) => {\n        return instance.put<WithoutDataResponseType>(`dialogs/messages/${messageId}/restore`)\n            .then(response => response.data)\n    },\n\n    newMessagesCount: () => {\n        return instance.get<number>('dialogs/messages/new/count')\n            .then(response => response.data)\n    }\n};","import {InferActionsTypes} from \"../redux-store\";\n\nexport const INIT_APP_ASYNC = 'app/INIT_APP_ASYNC';\nexport const ENQUEUE_SNACKBAR = 'app/ENQUEUE_SNACKBAR';\nexport const REMOVE_SNACKBAR = 'app/REMOVE_SNACKBAR';\nconst SET_INITED = 'app/SET_INITED';\n\ntype InitialStateType = {\n    inited: boolean,\n    notifications: any[],\n};\n\nconst initialState: InitialStateType = {\n    inited: false,\n    notifications: [],\n};\n\nconst appReducer = (state = initialState, action: AppActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case SET_INITED:\n            return {\n                ...state,\n                inited: true\n            };\n        case ENQUEUE_SNACKBAR:\n            return {\n                ...state,\n                notifications: [\n                    ...state.notifications,\n                    {\n                        ...action.notification,\n                    },\n                ],\n            };\n        case REMOVE_SNACKBAR:\n            return {\n                ...state,\n                notifications: state.notifications.filter(\n                    notification => notification.key !== action.key,\n                ),\n            };\n        default:\n            return state;\n    }\n};\n\nexport type AppActionsTypes = InferActionsTypes<typeof appActions>;\nexport const appActions = {\n    enqueueSnackbar: (notification: any) => {\n        const key = notification.options && notification.options.key;\n        return {\n            type: ENQUEUE_SNACKBAR,\n            notification: {...notification, key: key || new Date().getTime() + Math.random()}\n        } as const;\n    },\n    removeSnackbar: (key: any) => ({type: REMOVE_SNACKBAR, key} as const),\n    setAppIsInited: () => ({type: SET_INITED} as const),\n    appInitialize: () => ({type: INIT_APP_ASYNC} as const),\n};\n\nexport default appReducer;","import {takeEvery, put, call, select} from 'redux-saga/effects';\nimport {authAPI, dialogsAPI, profileAPI, ResultCodeForCaptcha, ResultCodes, securityAPI, usersAPI} from \"../../api/api\";\nimport {\n    GET_USER_PROFILE_ASYNC,\n    LOAD_PHOTO_ASYNC,\n    GET_IS_FOLLOWED_ASYNC,\n    GET_STATUS_ASYNC,\n    SET_STATUS_ASYNC,\n    UPDATE_USER_PROFILE_ASYNC,\n    profileActions\n} from \"../reducers/profile-reducer\";\nimport {AUTH_ASYNC, authActions, LOGIN_ASYNC, LOGOUT_ASYNC,} from \"../reducers/auth-reducer\";\nimport {appActions, INIT_APP_ASYNC,} from \"../reducers/app-reducer\";\nimport {getCurrentUserId} from \"../reducers/auth-selectors\";\nimport {getProfile} from \"../reducers/profile-selectors\";\nimport {\n    FOLLOW_ASYNC,\n    REQUEST_USERS_ASYNC,\n    UNFOLLOW_ASYNC,\n    usersActions,\n} from \"../reducers/users-reducer\";\nimport {ProfileType} from \"../reducers/types\";\nimport {reset, stopSubmit} from \"redux-form\";\nimport {\n    DELETE_MESSAGE_ASYNC,\n    GET_DIALOGS_ASYNC,\n    GET_MESSAGES_ASYNC,\n    GET_NEW_MESSAGES_COUNT_ASYNC,\n    RESTORE_MESSAGE_ASYNC,\n    SEND_MESSAGE_ASYNC,\n    SPAM_MESSAGE_ASYNC,\n    START_CHAT_ASYNC,\n    dialogActions\n} from \"../reducers/dialogs-reducer\";\nimport {emitSendMessage} from \"../../utils/socket\";\nimport {getSelectedFriend} from \"../reducers/dialogs-selectors\";\n\nconst {enqueueSnackbar} = appActions;\nconst {setUserData, setCaptchaUrl, setCurrentUserInfo} = authActions;\nconst {setUserProfile, setUserProfileError, toggleProfileLoading, setPhoto, getIsUserFollowed, updateIsFollowed, getUserProfile, setStatus} = profileActions;\nconst {\n    acceptFollow,\n    acceptUnfollow,\n    setPage,\n    setSearchText,\n    setUsers,\n    setUsersTotalCount,\n    toggleFollowInProgress,\n    toggleIsLoading\n} = usersActions;\nconst {\n    requestNewMessagesCount,\n    addMessage,\n    addMessageToDeleted,\n    addMessageToSpam,\n    restoreFromSpamDeleted,\n    setActivityDate,\n    setDialogs,\n    setMessages,\n    setMessagesLoading,\n    setNewMessagesCount,\n    setSelectedFriend\n} = dialogActions;\n\n//PROFILE\ntype GetUserProfileType = ReturnType<typeof profileActions.getUserProfile>;\n\nfunction* getUserProfileAsync({id, updateCurrentUserInfo}: GetUserProfileType) {\n    try {\n        const state = yield select();\n        const previousId = getProfile(state)?.userId;\n\n        if (previousId !== id) {\n            yield put(toggleProfileLoading(true));\n        }\n        const data = yield call(getProfileById, id);\n        if (updateCurrentUserInfo) {\n            yield put(setCurrentUserInfo(data));\n        }\n        yield put(setUserProfile(data));\n        if (previousId !== id) {\n            yield put(toggleProfileLoading(false));\n        }\n    } catch (e) {\n        yield put(setUserProfileError(e.message));\n    }\n}\n\ntype UpdateProfileInfoType = ReturnType<typeof profileActions.updateProfileInfo>;\n\nfunction* updateProfileInfoAsync({info, userId}: UpdateProfileInfoType) {\n    try {\n        const {resultCode, messages} = yield call(updateProfile, info);\n        if (resultCode === ResultCodes.Success) {\n            yield put(getUserProfile(userId, true));\n            yield put(enqueueSnackbar({message: 'Profile successfully updated!', options: {variant: 'success'}}))\n        } else {\n            yield put(stopSubmit(\"settings\", {_error: messages}));\n        }\n    } catch (e) {\n        yield put(setUserProfileError(e.message));\n    }\n}\n\ntype GetStatusType = ReturnType<typeof profileActions.getUserStatus>;\n\nfunction* getStatusAsync({id}: GetStatusType) {\n    try {\n        const data = yield call(getUserStatus, id);\n        yield put(setStatus(data));\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype SetUserStatusType = ReturnType<typeof profileActions.setUserStatus>;\n\nfunction* setUserStatusAsync({status}: SetUserStatusType) {\n    try {\n        const {resultCode} = yield call(setUserStatus, status);\n        if (resultCode === ResultCodes.Success) {\n            yield put(setStatus(status));\n            yield put(enqueueSnackbar({message: 'Status updated!', options: {variant: 'success'}}))\n        }\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype loadPhotoType = ReturnType<typeof profileActions.loadPhoto>;\n\nfunction* loadPhotoAsync({photo}: loadPhotoType) {\n    try {\n        const {data, resultCode, messages} = yield call(loadPhoto, photo);\n        if (resultCode === ResultCodes.Success) {\n            const state = yield select();\n            yield put(setPhoto(data.photos));\n            yield put({type: GET_USER_PROFILE_ASYNC, id: getCurrentUserId(state), updateCurrentUserInfo: true});\n        } else {\n            yield put(enqueueSnackbar({message: messages, options: {variant: 'error'}}))\n        }\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\n//USERS\ntype setUserIsFollowedType = ReturnType<typeof profileActions.getIsUserFollowed>;\n\nfunction* setUserIsFollowedAsync({id}: setUserIsFollowedType) {\n    try {\n        const isFollowed = yield call(getUserIsFollowed, id);\n        yield put(updateIsFollowed(isFollowed));\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype RequestUsersType = ReturnType<typeof usersActions.requestUsers>;\n\nfunction* requestUsersAsync({currentPage, pageSize, searchText}: RequestUsersType) {\n    try {\n        yield put(setSearchText(searchText));\n        yield put(setPage(currentPage));\n        yield put(toggleIsLoading(true));\n        const {items, totalCount} = yield call(requestUsers, currentPage, pageSize, searchText);\n        yield put(toggleIsLoading(false));\n        yield put(setUsers(items));\n        yield put(setUsersTotalCount(totalCount));\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype FollowActionType = ReturnType<typeof usersActions.follow | typeof usersActions.unfollow>;\n\nfunction* toggleFollowAsync({action, id, updateProfileFollow}: FollowActionType) {\n    try {\n        yield put(toggleFollowInProgress(true, id));\n        const {resultCode, messages} = action === 'follow' ? yield call(followUser, id) : yield call(unfollowUser, id);\n        if (resultCode === ResultCodes.Success) {\n            action === 'follow' ? yield put(acceptFollow(id)) : yield put(acceptUnfollow(id));\n            if (updateProfileFollow) {\n                yield put(getIsUserFollowed(id));\n            }\n        } else {\n            yield put(enqueueSnackbar({message: messages, options: {variant: 'error'}}))\n        }\n        yield put(toggleFollowInProgress(false, id));\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\n//DIALOGS\nfunction* getDialogsAsync() {\n    try {\n        const response = yield call(requestDialogs);\n        yield put(setDialogs(response));\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype StartChatAsyncType = ReturnType<typeof dialogActions.startChat>;\nfunction* startChatAsync({userId, history}: StartChatAsyncType) {\n    try {\n        const {resultCode} = yield call(startChat, userId);\n        if (resultCode === ResultCodes.Success) {\n            history.push(`/dialogs/${userId}`)\n        }\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype SendMessageType = ReturnType<typeof dialogActions.sendMessage>;\n\nfunction* sendMessageAsync({reciever, sender, message}: SendMessageType) {\n    try {\n        const {data, resultCode} = yield call(sendMessage, reciever, message);\n        if (resultCode === ResultCodes.Success) {\n            yield put(addMessage(data.message));\n            yield put(reset('message'));\n            emitSendMessage({sender, reciever, msg: message});\n        }\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype DeleteMessagesType = ReturnType<typeof dialogActions.deleteMessage>;\n\nfunction* deleteMessagesAsync({messageId}: DeleteMessagesType) {\n    try {\n        const {resultCode} = yield call(deleteMessage, messageId);\n        if (resultCode === ResultCodes.Success) {\n            yield put(addMessageToDeleted(messageId));\n        }\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype RestoreMessagesType = ReturnType<typeof dialogActions.restoreMessage>;\n\nfunction* restoreMessagesAsync({messageId}: RestoreMessagesType) {\n    try {\n        const {resultCode} = yield call(restoreMessage, messageId);\n        if (resultCode === ResultCodes.Success) {\n            yield put(restoreFromSpamDeleted(messageId));\n        }\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype SpamMessagesType = ReturnType<typeof dialogActions.spamMessage>;\n\nfunction* spamMessagesAsync({messageId}: SpamMessagesType) {\n    try {\n        const {resultCode} = yield call(spamMessage, messageId);\n        if (resultCode === ResultCodes.Success) {\n            yield put(addMessageToSpam(messageId));\n        }\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype GetMessagesType = ReturnType<typeof dialogActions.getMessages>;\n\nfunction* getMessagesAsync({userId}: GetMessagesType) {\n    try {\n        const state = yield select();\n        const sameUser = getSelectedFriend(state)?.userId === userId;\n        if (!sameUser) {\n            yield put(setMessagesLoading(true));\n        }\n        const items = yield call(getMessages, userId);\n        const data = yield call(getProfileById, userId);\n        yield put(setMessages(items));\n        yield put(setActivityDate(userId));\n        yield put(setSelectedFriend(data));\n        if (!sameUser) {\n            yield put(setMessagesLoading(false));\n        }\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\nfunction* getNewMessagesCountAsync() {\n    try {\n        const data = yield call(newMessagesCount);\n        yield put(setNewMessagesCount(data));\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\n//AUTH\nfunction* authenticateAsync() {\n    try {\n        const {data, resultCode} = yield call(authenticate);\n        if (resultCode === ResultCodes.Success) {\n            const {id, login, email} = data;\n            yield put(setUserData(id, login, email, true));\n            yield put(getUserProfile(id, true));\n            yield put(requestNewMessagesCount());\n        }\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype LoginType = ReturnType<typeof authActions.login>;\n\nfunction* loginAsync({email, password, rememberMe, captcha}: LoginType) {\n    try {\n        const {resultCode, messages} = yield call(login, email, password, rememberMe, captcha);\n        if (resultCode === ResultCodes.Success) {\n            yield put({type: AUTH_ASYNC});\n        } else {\n            if (resultCode === ResultCodeForCaptcha.CaptchaRequired) {\n                const {url} = yield call(getCaptcha);\n                yield put(setCaptchaUrl(url));\n            }\n            yield put(stopSubmit(\"login\", {_error: messages}));\n        }\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\ntype LogoutType = ReturnType<typeof authActions.logout>;\n\nfunction* logoutAsync({history}: LogoutType) {\n    try {\n        const {resultCode} = yield call(logout);\n        if (resultCode === ResultCodes.Success) {\n            yield put(setUserData(null, null, null, false));\n            history.push('/login')\n        }\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\nfunction* appInitAsync() {\n    try {\n        yield put({type: AUTH_ASYNC});\n        yield put(appActions.setAppIsInited());\n    } catch (e) {\n        yield put(enqueueSnackbar({message: e.message, options: {variant: 'error'}}))\n    }\n}\n\n// API REQUESTS\nasync function authenticate() {\n    return await authAPI.auth();\n}\n\nasync function login(email: string, password: string, rememberMe: boolean, captcha: string | null) {\n    return await authAPI.login(email, password, rememberMe, captcha)\n}\n\nasync function logout() {\n    return await authAPI.logout();\n}\n\nasync function getCaptcha() {\n    return await securityAPI.getCaptcha();\n}\n\nasync function getUserStatus(id: number) {\n    return await profileAPI.getStatus(id);\n}\n\nasync function loadPhoto(photo: any) {\n    return await profileAPI.loadPhoto(photo);\n}\n\nasync function setUserStatus(status: string) {\n    return await profileAPI.setStatus(status)\n}\n\nasync function getProfileById(id: number) {\n    return await profileAPI.getProfile(id);\n}\n\nasync function updateProfile(info: ProfileType) {\n    return await profileAPI.updateProfileInfo(info);\n}\n\nasync function requestUsers(currentPage: number, pageSize: number, searchText: string) {\n    return await usersAPI.getUsers(currentPage, pageSize, searchText)\n}\n\nasync function getUserIsFollowed(id: number) {\n    return await usersAPI.isUserFollowed(id);\n}\n\nasync function followUser(id: number) {\n    return await usersAPI.followUser(id)\n}\n\nasync function unfollowUser(id: number) {\n    return await usersAPI.unfollowUser(id)\n}\n\nasync function requestDialogs() {\n    return await dialogsAPI.getDialogs();\n}\n\nasync function startChat(userId: number) {\n    return await dialogsAPI.startChat(userId);\n}\n\nasync function sendMessage(userId: number, message: string) {\n    return await dialogsAPI.sendMessage(userId, message);\n}\n\nasync function getMessages(userId: number) {\n    return await dialogsAPI.getMessages(userId);\n}\n\nasync function deleteMessage(messageId: string) {\n    return await dialogsAPI.deleteMessage(messageId)\n}\n\nasync function restoreMessage(messageId: string) {\n    return await dialogsAPI.restoreMessage(messageId)\n}\n\nasync function spamMessage(messageId: string) {\n    return await dialogsAPI.spamMessage(messageId);\n}\n\nasync function newMessagesCount() {\n    return await dialogsAPI.newMessagesCount()\n}\n\n//SAGA\nfunction* mySaga() {\n    yield takeEvery(INIT_APP_ASYNC, appInitAsync);\n    yield takeEvery(AUTH_ASYNC, authenticateAsync);\n    yield takeEvery(LOGIN_ASYNC, loginAsync);\n    yield takeEvery(LOGOUT_ASYNC, logoutAsync);\n    yield takeEvery(GET_USER_PROFILE_ASYNC, getUserProfileAsync);\n    yield takeEvery(LOAD_PHOTO_ASYNC, loadPhotoAsync);\n    yield takeEvery(GET_IS_FOLLOWED_ASYNC, setUserIsFollowedAsync);\n    yield takeEvery(FOLLOW_ASYNC, toggleFollowAsync);\n    yield takeEvery(UNFOLLOW_ASYNC, toggleFollowAsync);\n    yield takeEvery(REQUEST_USERS_ASYNC, requestUsersAsync);\n    yield takeEvery(GET_STATUS_ASYNC, getStatusAsync);\n    yield takeEvery(SET_STATUS_ASYNC, setUserStatusAsync);\n    yield takeEvery(UPDATE_USER_PROFILE_ASYNC, updateProfileInfoAsync);\n    yield takeEvery(GET_DIALOGS_ASYNC, getDialogsAsync);\n    yield takeEvery(START_CHAT_ASYNC, startChatAsync);\n    yield takeEvery(SEND_MESSAGE_ASYNC, sendMessageAsync);\n    yield takeEvery(GET_MESSAGES_ASYNC, getMessagesAsync);\n    yield takeEvery(DELETE_MESSAGE_ASYNC, deleteMessagesAsync);\n    yield takeEvery(RESTORE_MESSAGE_ASYNC, restoreMessagesAsync);\n    yield takeEvery(SPAM_MESSAGE_ASYNC, spamMessagesAsync);\n    yield takeEvery(GET_NEW_MESSAGES_COUNT_ASYNC, getNewMessagesCountAsync);\n}\n\nexport default mySaga;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./reducers/profile-reducer\";\nimport dialogsReducer from \"./reducers/dialogs-reducer\";\nimport authReducer from \"./reducers/auth-reducer\";\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./reducers/app-reducer\";\nimport usersReducer from \"./reducers/users-reducer\";\nimport createSagaMiddleware from 'redux-saga'\nimport mySaga from \"./sagas/saga\";\n\nconst rootReducer = combineReducers({\n    profileReducer,\n    dialogsReducer,\n    usersReducer,\n    authReducer,\n    app: appReducer,\n    form: formReducer\n});\n\ntype RootReducerType = typeof rootReducer;\nexport type AppStateType =  ReturnType<RootReducerType>;\nconst sagaMiddleware = createSagaMiddleware();\n\ntype PropertiesTypes<T> = T extends {[key: string]: infer U} ? U : never;\nexport type InferActionsTypes<T extends {[key: string]: (...args: any[]) => any}> = ReturnType<PropertiesTypes<T>>;\n\n// @ts-ignore\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\nconst store = createStore(rootReducer, composeEnhancers(\n    applyMiddleware(\n        thunkMiddleware,\n        sagaMiddleware\n    )\n));\n\nsagaMiddleware.run(mySaga);\n\nexport default store;","import {withStyles, createStyles, Theme} from '@material-ui/core/styles';\n\nconst styles = createStyles((theme: Theme) => ({\n    list: {\n        padding: 0,\n        [theme.breakpoints.up('sm')]: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            marginRight: 20,\n        },\n    },\n    listItem: {\n        padding: '0 8px',\n        width: 'auto',\n        [theme.breakpoints.down('xs')]: {\n            borderBottom: `1px solid ${theme.palette.grey[200]}`,\n        },\n    },\n    link: {\n        color: theme.palette.text.primary,\n        alignItems: 'center',\n        display: 'flex',\n        width: '100%',\n        [theme.breakpoints.down('xs')]: {\n            padding: '8px 0',\n            color: theme.palette.grey[600]\n        },\n    },\n    icon: {\n        padding: theme.spacing(1),\n        color: theme.palette.common.white,\n        lineHeight: 0,\n        [theme.breakpoints.down('xs')]: {\n            color: theme.palette.grey[500],\n            marginRight: 5\n        },\n    },\n    name: {\n        [theme.breakpoints.down('xs')]: {\n            fontSize: '1.2rem'\n        },\n    },\n    activeLink: {\n        pointerEvents: 'none',\n        \"& .MuiIconButton-root\": {\n            backgroundColor: theme.palette.primary.light\n        },\n        '& $icon, & $name': {\n            [theme.breakpoints.down('xs')]: {\n                color: theme.palette.primary.light,\n            },\n        }\n    },\n    tooltip: {\n        backgroundColor: theme.palette.primary.light,\n    },\n}));\n\nexport default withStyles(styles, {withTheme: true})\n","import React, {FC} from 'react';\nimport {NavLink} from \"react-router-dom\";\nimport RM from \"../../RouterManager\";\nimport classNames from \"classnames\";\nimport {MailIcon, PeopleAltIcon, HomeIcon, SettingsIcon, ExitToAppIcon} from \"../Icons/MeterialIcons\";\nimport {\n    List,\n    ListItem,\n    Link,\n    IconButton,\n    Tooltip,\n    Badge, Hidden, Typography, WithStyles,\n} from \"@material-ui/core\";\nimport withNavbarStyles from \"./navbarStyles\";\n\ntype PropsType = {\n    newMessagesCount: null | number,\n    userId: number | null,\n    openLogoutDialog: (open: boolean) => void,\n    isAuth: boolean\n};\n\nconst Navbar: FC<PropsType & WithStyles> = ({newMessagesCount, userId, openLogoutDialog, isAuth, classes}) => {\n    const LINKS = [\n        {\n            id: 1,\n            text: 'Profile',\n            url: RM.profile.getPath(userId),\n            icon: <HomeIcon/>\n        }, {\n            id: 2,\n            text: 'Dialogs',\n            url: RM.dialogs.getPath(null),\n            icon: <MailIcon/>\n        }, {\n            id: 3,\n            text: 'Users',\n            url: RM.users.path,\n            icon: <PeopleAltIcon/>\n        }\n    ];\n\n    const MOBILE_LINKS = [\n        ...LINKS,\n        {\n            id: 4,\n            text: 'Settings',\n            url: RM.settings.path,\n            icon: <SettingsIcon/>\n        },\n        {\n            id: 5,\n            text: 'Logout',\n            url: null,\n            icon: <ExitToAppIcon/>\n        }\n    ];\n\n    let areNewMessages = newMessagesCount && newMessagesCount > 0;\n\n    return (\n        <List className={classes.list}>\n            <Hidden xsDown>\n                {LINKS.map(({id, text, url, icon}) => (\n                    <ListItem key={id} className={classes.listItem}>\n                        <Link component={NavLink} to={url} activeClassName={classes.activeLink} className={classes.link}\n                              underline=\"none\" color=\"textSecondary\">\n                            <Tooltip title={text} aria-label={text} classes={{tooltip: classes.tooltip}}>\n                                <IconButton aria-label={text} className={classes.icon}>\n                                    {url === RM.dialogs.getPath(null) && areNewMessages ?\n                                        <Badge badgeContent={newMessagesCount} max={99} color=\"secondary\">\n                                            {icon}\n                                        </Badge> : icon\n                                    }\n                                </IconButton>\n                            </Tooltip>\n                        </Link>\n                    </ListItem>\n                ))}\n            </Hidden>\n\n            <Hidden smUp>\n                {MOBILE_LINKS.map(({id, text, url, icon}) => {\n                        if (id === 5 && !isAuth) return null;\n                        return (\n                            <ListItem key={id} className={classes.listItem}>\n                                <Link component={url ? NavLink : 'span'}\n                                      {...url ? {\n                                          to: url,\n                                          activeClassName: classes.activeLink\n                                      } : ''}\n                                      {...id === 5 ? {onClick: () => openLogoutDialog(true)} : ''}\n                                      className={classes.link}\n                                      underline=\"none\"\n                                      color=\"textSecondary\"\n                                >\n                                    <Typography variant=\"body1\" component=\"span\"\n                                                className={classNames('MuiListItemIcon-root', classes.icon)}>\n                                        {url === RM.dialogs.getPath(null) && areNewMessages ?\n                                            <Badge color=\"secondary\" variant=\"dot\">\n                                                {icon}\n                                            </Badge> : icon\n                                        }\n                                    </Typography>\n                                    <Typography variant=\"body1\" component=\"span\" className={classes.name}>\n                                        {text}\n                                    </Typography>\n                                </Link>\n                            </ListItem>\n                        )\n                    }\n                )}\n            </Hidden>\n        </List>\n    )\n};\n\n\nexport default withNavbarStyles(Navbar);","import {withStyles, createStyles, Theme} from '@material-ui/core/styles';\n\nconst styles = createStyles((theme: Theme) => ({\n    paper: {\n        borderTopLeftRadius: 0,\n        borderTopRightRadius: 0\n    },\n    list: {\n        padding: 0,\n        backgroundColor: theme.palette.common.white\n    },\n    menuItemTxt: {\n        lineHeight: 1\n    },\n    menuItem: {\n        '&:hover': {\n            backgroundColor: theme.palette.primary.light,\n            color:  theme.palette.common.white,\n\n            '& .MuiLink-root, & .MuiListItemIcon-root': {\n                color:  theme.palette.common.white,\n                textDecoration: 'none'\n            }\n        }\n    },\n    menuIcon: {\n      minWidth: 35\n    },\n    link: {\n        '&:hover': {\n            backgroundColor: theme.palette.primary.light,\n            color:  theme.palette.common.white,\n\n            '& .MuiLink-root, & .MuiListItemIcon-root': {\n                color:  theme.palette.common.white,\n                textDecoration: 'none'\n            }\n        }\n    }\n}));\n\n\nexport default withStyles(styles, {withTheme: true})","import React, {FC} from 'react';\nimport {\n    Divider,\n    ListItemIcon,\n    ListItemText,\n    Menu,\n    MenuItem,\n    Typography,\n    WithStyles\n} from '@material-ui/core';\nimport {NavLink} from \"react-router-dom\";\nimport withSubmenuStyles from './submenuStyles'\nimport RM from \"../../RouterManager\";\nimport classNames from \"classnames\";\nimport {EditRoundedIcon, PersonRoundedIcon, ExitToAppIcon} from \"../Icons/MeterialIcons\";\n\ntype PropsType = {\n    userId: number | null,\n    handleClose: () => void\n    anchorEl: null | HTMLElement,\n    openLogoutDialog: (open: boolean) => void\n}\n\nconst Submenu: FC<PropsType & WithStyles> = ({userId, handleClose, anchorEl, classes, openLogoutDialog}) => {\n    return (\n        <Menu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n            elevation={10}\n            getContentAnchorEl={null}\n            classes={{\n                paper: classes.paper,\n                list: classes.list\n            }}\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'center',\n            }}\n            transformOrigin={{\n                vertical: 'top',\n                horizontal: 'center',\n            }}\n        >\n            <MenuItem component={NavLink} to={RM.profile.getPath(userId)} className={classes.menuItem} onClick={() => handleClose()}>\n                    <span className={classNames('MuiListItemIcon-root', classes.menuIcon)}>\n                        <PersonRoundedIcon fontSize=\"small\"/>\n                    </span>\n                <Typography variant=\"body1\" component=\"span\" className={classes.menuItemTxt}>Profile</Typography>\n            </MenuItem>\n            <Divider orientation=\"horizontal\" light={true}/>\n            <MenuItem component={NavLink} to={RM.settings.path} className={classes.menuItem} onClick={() => handleClose()}>\n                     <span className={classNames('MuiListItemIcon-root', classes.menuIcon)}>\n                        <EditRoundedIcon fontSize=\"small\"/>\n                    </span>\n                <Typography variant=\"body1\" component=\"span\" className={classes.menuItemTxt}>Edit Profile</Typography>\n            </MenuItem>\n            <Divider orientation=\"horizontal\" light={true}/>\n\n            <MenuItem className={classes.menuItem} onClick={() => {openLogoutDialog(true); handleClose()}}>\n                <ListItemIcon className={classes.menuIcon}>\n                    <ExitToAppIcon fontSize=\"small\"/>\n                </ListItemIcon>\n                <ListItemText classes={{primary: classes.menuItemTxt}} primary=\"Logout\"/>\n            </MenuItem>\n        </Menu>\n    )\n};\n\nexport default withSubmenuStyles(Submenu);","import {withStyles, createStyles, Theme} from '@material-ui/core/styles';\n\nconst styles = createStyles((theme: Theme) => ({\n    avatar: {\n        display: 'flex',\n        alignItems: 'center',\n        paddingLeft: 20,\n        paddingRight: 20,\n        textTransform: 'none',\n    },\n    avatarRoot: {\n        marginRight: 10\n    },\n    loginLink: {\n        paddingLeft: 20,\n        paddingRight: 20,\n        color: theme.palette.common.white\n    },\n\n    avatarText: {\n        padding: '0 5px'\n    },\n\n    avatarIcon: {\n        '&.active': {\n            transform: 'rotate(180deg)',\n            transition: '0.1s linear'\n        }\n    }\n}));\n\nexport default withStyles(styles, {withTheme: true})\n","import React, {FC} from 'react';\nimport {Avatar, Button, Hidden, Link, Typography, WithStyles} from \"@material-ui/core\";\nimport {NavLink} from \"react-router-dom\";\nimport userPlaceholder from \"../../assets/images/user-placeholder.png\";\nimport {ProfileType} from \"../../redux/reducers/types\";\nimport Submenu from \"./Submenu\";\nimport RM from \"../../RouterManager\";\nimport withAuthBtnStyles from \"./authBtnStyles\";\nimport {ExpandMoreRoundedIcon} from \"../Icons/MeterialIcons\";\n\ntype PropsType = {\n    login: string | null,\n    isAuth: boolean,\n    currentUserInfo: ProfileType | null\n    userId: number | null,\n    openLogoutDialog: (open: boolean) => void\n}\n\nconst AuthBtn: FC<PropsType & WithStyles> = ({isAuth, login, currentUserInfo, userId, openLogoutDialog, classes}) => {\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n    const avatar = currentUserInfo  && currentUserInfo.photos.small ? currentUserInfo.photos.small : userPlaceholder;\n\n    const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <>\n            {\n                isAuth &&\n                <>\n                    <Button\n                        className={classes.avatar}\n                        color=\"inherit\"\n                        onClick={handleClick}\n                        aria-controls=\"customized-menu\"\n                        aria-haspopup=\"true\"\n                    >\n                        <Avatar src={avatar} alt={login ? login : 'avatar'} sizes=\"40\" classes={{root: classes.avatarRoot}}/>\n                        <Hidden smDown>\n                            <Typography variant=\"body2\" className={classes.avatarText}>\n                                {currentUserInfo && currentUserInfo.fullName ? currentUserInfo.fullName : login}\n                            </Typography>\n                        </Hidden>\n                        <ExpandMoreRoundedIcon fontSize=\"small\" className={`${classes.avatarIcon} ${anchorEl ? 'active': ''}`}/>\n                    </Button>\n                    <Submenu openLogoutDialog={openLogoutDialog} userId={userId} handleClose={handleClose} anchorEl={anchorEl}/>\n                </>\n            }\n\n            {\n                !isAuth &&\n                <Link component={NavLink} to={RM.login.path} className={classes.loginLink}>\n                    Login\n                </Link>\n            }\n\n        </>\n    )\n};\n\nexport default withAuthBtnStyles(AuthBtn);","import {withStyles, createStyles, Theme} from '@material-ui/core/styles';\n\nconst styles = createStyles((theme: Theme) => ({\n    list: {\n        width: 250,\n    },\n    menuButton: {\n        marginRight: 0,\n        padding: theme.spacing(1)\n    },\n    paper: {\n        backgroundColor: theme.palette.common.white\n    },\n    head: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        lineHeight: 1,\n        backgroundColor: theme.palette.primary.main,\n        height: 49,\n    },\n    headImg: {\n        height: 30\n    },\n}));\n\nexport default withStyles(styles, {withTheme: true})\n","import React, {FC} from 'react';\nimport {SwipeableDrawer, IconButton, WithStyles} from '@material-ui/core';\nimport {NavLink} from \"react-router-dom\";\nimport RM from \"../../RouterManager\";\nimport logoImg from \"../../assets/images/logo.png\";\nimport withMobileMenuStyles from \"./mobileMenuStyles\";\nimport {CloseRoundedIcon, MenuIcon} from \"../Icons/MeterialIcons\";\n\nconst MobileMenu:FC<WithStyles> = ({children, classes}) => {\n    const [open, setOpen] = React.useState(false);\n\n    const toggleDrawer = (open: boolean) => (event: React.KeyboardEvent | React.MouseEvent,) => {\n        if (event && event.type === 'keydown' && ((event as React.KeyboardEvent).key === 'Tab' || (event as React.KeyboardEvent).key === 'Shift')) {\n            return;\n        }\n        setOpen(open)\n    };\n\n    return (\n        <>\n            <IconButton\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                onClick={toggleDrawer(true)}\n                edge=\"end\"\n                className={classes.menuButton}\n            >\n                {open ? <CloseRoundedIcon fontSize=\"large\"/> : <MenuIcon fontSize=\"large\"/>}\n            </IconButton>\n\n            <SwipeableDrawer\n                open={open}\n                onClose={toggleDrawer(false)}\n                onOpen={toggleDrawer(true)}\n                anchor=\"left\"\n                classes={{\n                    paper: classes.paper\n                }}\n            >\n                <div\n                    className={classes.list}\n                    role=\"presentation\"\n                    onClick={toggleDrawer(false)}\n                    onKeyDown={toggleDrawer(false)}\n                >\n                    <NavLink to={RM.home.path} className={classes.head}>\n                        <img src={logoImg} alt=\"\" className={classes.headImg}/>\n                    </NavLink>\n                    {children}\n                </div>\n            </SwipeableDrawer>\n        </>\n    )\n};\n\nexport default withMobileMenuStyles(MobileMenu);","import {withStyles, createStyles, Theme} from '@material-ui/core/styles';\n\nconst styles = createStyles((theme: Theme) => ({\n    grid: {\n        display: 'flex',\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n        color: theme.palette.common.white,\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3),\n    },\n    logo: {\n        display: 'flex',\n        alignItems: 'center',\n        height: '100%',\n        lineHeight: 1\n    },\n    logoImg: {\n        height: 30,\n        [theme.breakpoints.up('sm')]: {\n            height: 35,\n        },\n    },\n    logoutBtn: {\n        padding: theme.spacing(1),\n    },\n    logoTxt: {\n        padding: theme.spacing(1),\n        color: theme.palette.common.white,\n        fontWeight: 300\n    },\n    rightColumn: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        height: '100%'\n    },\n    avatar: {\n        display: 'flex',\n        alignItems: 'center',\n        paddingLeft: 20,\n        paddingRight: 20,\n        textTransform: 'none'\n    },\n    avatarText: {\n        padding: '0 5px'\n    }\n}));\n\nexport default withStyles(styles, {withTheme: true})\n","import React, {FC} from 'react';\nimport {NavLink} from \"react-router-dom\";\nimport logoImg from '../../assets/images/logo.png';\nimport {\n    AppBar,\n    Toolbar,\n    Grid,\n    Container,\n    Divider, Hidden, WithStyles\n} from '@material-ui/core';\nimport Navbar from \"./Navbar\";\nimport {ProfileType} from \"../../redux/reducers/types\";\nimport AuthBtn from \"./AuthBtn\";\nimport RM from \"../../RouterManager\";\nimport MobileMenu from \"./MobileMenu\";\nimport withHeaderStyles from \"./headerStyles\";\n\ntype PropsType = {\n    userId: number | null,\n    login: string | null,\n    isAuth: boolean,\n    newMessagesCount: number | null\n    currentUserInfo: ProfileType | null,\n    openLogoutDialog: (open: boolean) => void\n}\n\nconst Header: FC<PropsType & WithStyles> = ({userId, login, isAuth, newMessagesCount, currentUserInfo, openLogoutDialog, classes}) => {\n    return (\n        <AppBar position=\"fixed\" component=\"header\" className={classes.appBar}>\n            <Container maxWidth=\"lg\">\n                <Toolbar variant=\"dense\" disableGutters>\n                    <Grid container className={classes.grid} spacing={0}>\n                        <Grid item xs={6} sm={4}>\n                            <div className={classes.logo}>\n                                <NavLink to={RM.home.path} >\n                                        <img src={logoImg} alt=\"\" className={classes.logoImg}/>\n                                </NavLink>\n                            </div>\n                        </Grid>\n                        <Grid item xs={6} sm={8}>\n                            <div className={classes.rightColumn}>\n                                <Hidden xsDown>\n                                    <Navbar\n                                        isAuth={isAuth}\n                                        newMessagesCount={newMessagesCount}\n                                        userId={currentUserInfo ? currentUserInfo.userId : null}\n                                        openLogoutDialog={openLogoutDialog}\n                                      />\n                                    <Divider\n                                        orientation=\"vertical\"\n                                        flexItem\n                                        light={true}/>\n                                    <AuthBtn login={login} openLogoutDialog={openLogoutDialog} isAuth={isAuth}\n                                             currentUserInfo={currentUserInfo} userId={userId}/>\n                                    <Divider orientation=\"vertical\" flexItem light={true}/>\n                                </Hidden>\n\n                                <Hidden smUp>\n                                    <MobileMenu>\n                                        <Navbar\n                                            isAuth={isAuth}\n                                            openLogoutDialog={openLogoutDialog}\n                                            newMessagesCount={newMessagesCount}\n                                            userId={currentUserInfo ? currentUserInfo.userId : null}\n                                        />\n                                    </MobileMenu>\n                                </Hidden>\n                            </div>\n                        </Grid>\n                    </Grid>\n                </Toolbar>\n            </Container>\n        </AppBar>\n    )\n};\n\nexport default withHeaderStyles(Header);","import React, {FC, useState} from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {authActions} from \"../../redux/reducers/auth-reducer\";\nimport {compose} from \"redux\";\nimport {withRouter, RouteComponentProps, useHistory} from \"react-router-dom\";\nimport {\n    getCurrentUserInfo,\n    getCurrentUserId,\n    getCurrentUserLogin,\n    getIsAuth\n} from \"../../redux/reducers/auth-selectors\";\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {getNewMessagesCount} from \"../../redux/reducers/dialogs-selectors\";\nimport {ProfileType} from \"../../redux/reducers/types\";\nimport ConfirmDialog from \"../Profile/Dialogs/ConfirmDialog\";\n\ntype MapStatePropsType = {\n    userId: number | null,\n    login: string | null,\n    isAuth: boolean,\n    newMessagesCount: number | null,\n    currentUserInfo: ProfileType | null\n}\n\ntype MapDispatchPropsType = {\n    logout: (history: any) => void\n}\n\ntype PropsType = MapStatePropsType & MapDispatchPropsType & RouteComponentProps\n\nconst HeaderContainer: FC<PropsType> = ({logout, ...props}) => {\n    const [logoutDialogIsOpen, setLogoutDialogIsOpen] = useState(false);\n    let history = useHistory();\n\n    const openLogoutDialog = (open: boolean) => {\n        setLogoutDialogIsOpen(open);\n    };\n\n     const logoutAction = () => {\n        logout(history);\n    };\n\n    return (\n        <>\n            <Header {...props} openLogoutDialog={openLogoutDialog}/>\n            <ConfirmDialog\n                isOpen={logoutDialogIsOpen}\n                openDialog={openLogoutDialog}\n                confirmAction={logoutAction}>\n                {true}\n            </ConfirmDialog>\n        </>\n    )\n};\n\nconst mapStateToProps = (state: AppStateType) => {\n    return {\n        userId: getCurrentUserId(state),\n        login: getCurrentUserLogin(state),\n        isAuth: getIsAuth(state),\n        newMessagesCount: getNewMessagesCount(state),\n        currentUserInfo: getCurrentUserInfo(state)\n    }\n};\n\nconst {logout} = authActions;\n\nexport default compose(\n    connect<MapStatePropsType, MapDispatchPropsType, RouteComponentProps, AppStateType>(mapStateToProps, {logout}),\n    withRouter\n)(HeaderContainer) as FC;\n","import React, {Suspense} from \"react\";\nimport Preloader from \"../Preloader/Preloader\";\n\nconst withSuspense = (WrappedComponent) => {\n    return (props) => {\n        return (\n            <Suspense fallback={<Preloader showPreloader={true}/>}>\n               <WrappedComponent {...props}/>\n           </Suspense>\n        )\n    }\n};\n\nexport default withSuspense;","import {AppStateType} from \"../redux-store\";\n\nexport const getAppInited = (state: AppStateType) => {\n    return state.app.inited\n};","import React from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {useSnackbar} from 'notistack';\nimport {appActions} from \"../../redux/reducers/app-reducer\";\n\nlet displayed = [];\n\nconst Notifier = () => {\n    const dispatch = useDispatch();\n    const notifications = useSelector(store => store.app.notifications || []);\n    const {enqueueSnackbar, closeSnackbar} = useSnackbar();\n\n    const storeDisplayed = (id) => {\n        displayed = [...displayed, id];\n    };\n\n    const removeDisplayed = (id) => {\n        displayed = [...displayed.filter(key => id !== key)];\n    };\n\n    React.useEffect(() => {\n        notifications.forEach(({key, message, options = {}, dismissed = false}) => {\n            if (dismissed) {\n                // dismiss snackbar using notistack\n                closeSnackbar(key);\n                return;\n            }\n\n            // do nothing if snackbar is already displayed\n            if (displayed.includes(key)) return;\n\n            // display snackbar using notistack\n            enqueueSnackbar(message, {\n                key,\n                ...options,\n                onClose: (event, reason, myKey) => {\n                    if (options.onClose) {\n                        options.onClose(event, reason, myKey);\n                    }\n                },\n                onExited: (event, myKey) => {\n                    // removen this snackbar from redux store\n                    dispatch(appActions.removeSnackbar(myKey));\n                    removeDisplayed(myKey);\n                },\n            });\n\n            // keep track of snackbars that we've displayed\n            storeDisplayed(key);\n        });\n    }, [notifications, closeSnackbar, enqueueSnackbar, dispatch]);\n\n    return null;\n};\n\nexport default Notifier;\n","import React from 'react';\nimport {Container} from \"@material-ui/core\";\n\nconst Footer = () => {\n  return <footer className=\"footer\" style={{background: '#3d4977'}}>\n    <Container maxWidth=\"lg\">\n      <div style={{color: '#fff', padding: '5px 0', fontSize: 12}}>\n            Copyright  2020 Andreeva Alina\n      </div>\n    </Container>\n  </footer>\n};\n\nexport default Footer;\n","import {withStyles, createStyles, Theme} from '@material-ui/core/styles';\n\nconst styles = createStyles((theme: Theme) => ({\n    root: {\n        display: 'flex',\n    },\n    content: {\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column'\n    },\n\n    toolbar: theme.mixins.toolbar,\n}));\n\nexport default withStyles(styles, {withTheme: true})","import {makeStyles} from \"@material-ui/core\";\r\nimport {EmailRoundedIcon} from \"../Icons/MeterialIcons\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    wrap: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        fontWeight: 400\r\n    },\r\n    icon: {\r\n        marginRight: 10\r\n    }\r\n}));\r\n\r\nconst NewMessageNoty = ({message}: { message: string }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.wrap}>\r\n            <EmailRoundedIcon fontSize=\"small\" className={classes.icon}/>\r\n            <span>\r\n                {message}\r\n            </span>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default NewMessageNoty;\r\n","import React, {Component} from 'react';\nimport {Switch, Route, withRouter, Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {appActions} from \"./redux/reducers/app-reducer\";\nimport Preloader from \"./components/Preloader/Preloader\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport withSuspense from \"./components/HOC/Suspense\";\nimport {getAppInited} from \"./redux/reducers/app-selectors\";\nimport {AppStateType} from \"./redux/redux-store\";\nimport {WithStyles, CssBaseline, Container} from \"@material-ui/core\";\nimport Notifier from \"./components/Notifier/Notifier\";\nimport {withSnackbar, WithSnackbarProps} from 'notistack';\nimport RM from \"./RouterManager\";\nimport Footer from \"./components/Footer/Footer\";\nimport {getCurrentUserInfo, getIsAuth} from \"./redux/reducers/auth-selectors\";\nimport withAppStyles from './appStyles'\nimport {GetMessageType, ProfileType} from \"./redux/reducers/types\";\nimport NewMessageNoty from \"./components/Notifier/NewMessageNoty\";\nimport {dialogActions} from \"./redux/reducers/dialogs-reducer\";\nimport {emitInitUser, socket} from \"./utils/socket\";\n\ntype MapStatePropsType = {\n    inited: boolean,\n    isAuth: boolean,\n    currentUserInfo: ProfileType | null\n}\n\ntype MapDispatchPropsType = {\n    appInitialize: () => void,\n    requestNewMessagesCount: () => void,\n}\n\ntype PropsType = MapStatePropsType & MapDispatchPropsType & WithStyles & WithSnackbarProps;\n\nclass App extends Component<PropsType> {\n    componentDidMount() {\n        this.props.appInitialize();\n        window.addEventListener(\"unhandledrejection\", this.globalError);\n    }\n\n    componentDidUpdate(prevProps: PropsType) {\n        if (this.props.currentUserInfo !== prevProps.currentUserInfo) {\n            this.initSocket();\n        }\n    }\n\n    initSocket = () => {\n        const {requestNewMessagesCount, currentUserInfo} = this.props;\n        if (!currentUserInfo) return;\n        const {userId, fullName} = currentUserInfo;\n        emitInitUser({userId, userName: fullName});\n        socket.on('get_new_message', (msg: GetMessageType) => {\n            this.props.enqueueSnackbar(\n                <NewMessageNoty message={`New message from: ${msg.sender.name}`}/>, {variant: 'default'}\n            );\n            requestNewMessagesCount()\n        });\n    };\n\n    globalError = (e: any) => {\n        this.props.enqueueSnackbar(`${e.reason}`, {variant: 'error'});\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\", this.globalError);\n    }\n\n    render() {\n        const {classes, inited} = this.props;\n        if (!inited) {\n            return <Preloader showPreloader={true}/>\n        }\n        return (\n            <>\n                <Notifier/>\n                <CssBaseline/>\n                <HeaderContainer/>\n                <Container maxWidth=\"lg\" component=\"main\" className={classes.content}>\n                    <div className={classes.toolbar}/>\n                    <Switch>\n                        {Object.entries(RM).map(([key, route]) => {\n                            const {path, exact = false, redirect = null, component: Cmp} = route;\n                            const redirectPath = redirect ? redirect(this.props.isAuth) : '';\n                            const RouteComponent = redirect ? <Redirect to={redirectPath}/> : withSuspense(Cmp);\n                            return (\n                                <Route\n                                    key={key}\n                                    path={path}\n                                    exact={exact}\n                                >\n                                    {RouteComponent}\n                                </Route>\n                            )\n                        })}\n                    </Switch>\n                </Container>\n                <Footer/>\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = (state: AppStateType) => {\n    return {\n        inited: getAppInited(state),\n        isAuth: getIsAuth(state),\n        currentUserInfo: getCurrentUserInfo(state)\n    }\n};\n\nconst {appInitialize} = appActions;\nconst {requestNewMessagesCount} = dialogActions;\n\nexport default compose(\n    withAppStyles,\n    withSnackbar,\n    connect<MapStatePropsType, MapDispatchPropsType, WithSnackbarProps, AppStateType>(mapStateToProps, {\n        appInitialize,\n        requestNewMessagesCount\n    }),\n    withRouter\n)(App) as React.ComponentType<any>;\n\n\n\n","import {createMuiTheme} from '@material-ui/core/styles';\nimport {grey} from '@material-ui/core/colors';\n\nexport default createMuiTheme({\n    typography: {\n        fontFamily: [\n            '-apple-system',\n            'BlinkMacSystemFont',\n            '\"Segoe UI\"',\n            'Roboto',\n            '\"Helvetica Neue\"',\n            'Arial',\n            'sans-serif',\n            '\"Apple Color Emoji\"',\n            '\"Segoe UI Emoji\"',\n            '\"Segoe UI Symbol\"',\n        ].join(','),\n        useNextVariants: true,\n        color: '#333',\n        h2: {\n            fontSize: '3rem'\n        },\n        h3: {\n            fontSize: '2.5rem'\n        },\n        h4: {\n            fontSize: '1.75rem'\n        },\n        subtitle1: {\n            fontWeight: 500\n        }\n\n    },\n    mixins: {\n        toolbar: {\n            minHeight: 48\n        }\n    },\n    palette: {\n        type: 'light',\n        primary: {\n            main: '#3d4977'\n        },\n        secondary: {\n            main: '#ab003c',\n        },\n        grey: grey,\n        success: {\n            main: '#00B294',\n        },\n        background: '#f5f5f5',\n        error: {\n            main: '#E81123'\n        },\n        contrastThreshold: 3,\n        tonalOffset: 0.2,\n        contrastText: '#fff',\n        text: {\n            primary: '#333',\n        },\n\n    },\n});","import React from 'react';\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from './serviceWorker';\nimport store from \"./redux/redux-store\";\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport {Provider} from 'react-redux';\nimport './index.scss';\nimport App from './App';\nimport ApolloClient from 'apollo-boost';\nimport {ThemeProvider} from '@material-ui/styles';\nimport theme from './theme'\nimport {ApolloProvider as ApolloHooksProvider} from \"@apollo/react-hooks\";\nimport {SnackbarProvider} from 'notistack';\n\nconst client = new ApolloClient({\n    uri: '/graphql'\n});\n\n\nReactDOM.render(\n    <Router>\n        <ApolloHooksProvider client={client}>\n            <Provider store={store}>\n                <SnackbarProvider maxSnack={3} anchorOrigin={{vertical: 'bottom', horizontal: 'right',}} autoHideDuration={2000}>\n                    <ThemeProvider theme={theme}>\n                        <App/>\n                    </ThemeProvider>\n                </SnackbarProvider>\n            </Provider>\n        </ApolloHooksProvider>\n    </Router>, document.getElementById('root')\n);\n\nserviceWorker.unregister();\n","export const updateObjectInArray = (items: Array<any>, itemId: number,  objPropName: string, objNewProps: any ) => {\n    return items.map(item => {\n        if (item[objPropName] === itemId) {\n            return {...item, ...objNewProps}\n        }\n        return item;\n    })\n};","import {updateObjectInArray} from \"../../utils/helpers\";\nimport {UserType} from \"./types\";\nimport {InferActionsTypes} from \"../redux-store\";\n\nexport const FOLLOW_ASYNC = 'users/FOLLOW_ASYNC';\nexport const UNFOLLOW_ASYNC = 'users/UNFOLLOW_ASYNC';\nexport const REQUEST_USERS_ASYNC = 'users/REQUEST_USERS_ASYNC';\nexport const FOLLOW_ACCEPT = 'users/FOLLOW_ACCEPT';\nexport const UNFOLLOW_ACCEPT = 'users/UNFOLLOW_ACCEPT';\nexport const SET_USERS = 'users/SET_USERS';\nexport const SET_PAGE = 'users/SET_PAGE';\nexport const SET_TOTAL_COUNT = 'users/SET_TOTAL_COUNT';\nexport const TOGGLE_IS_LOADING = 'users/TOGGLE_IS_LOADING';\nexport const TOGGLE_FOLLOW_IN_PROGRESS = 'users/TOGGLE_FOLLOW_IN_PROGRESS';\nexport const SET_SEARCH_TEXT = 'users/SET_SEARCH_TEXT';\n\nconst initialState = {\n    users: [] as Array<UserType>,\n    pageSize: 12 as number,\n    totalUsersCount: 20 as number,\n    currentPage: 1 as number,\n    isLoading: true,\n    followInProgress: [] as Array<number>,\n    searchQuery: null as string | null,\n};\n\nexport type InitialStateType = typeof initialState;\n\nconst usersReducer = (state = initialState, action: UsersActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case FOLLOW_ACCEPT:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\n            };\n        case UNFOLLOW_ACCEPT:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\n            };\n        case SET_USERS:\n            return {...state, users: action.users};\n        case SET_PAGE:\n            return {...state, currentPage: action.page};\n        case SET_TOTAL_COUNT:\n            return {...state, totalUsersCount: action.count};\n        case TOGGLE_IS_LOADING:\n            return {...state, isLoading: action.isLoading};\n        case SET_SEARCH_TEXT:\n            return {...state, searchQuery: action.query};\n        case TOGGLE_FOLLOW_IN_PROGRESS:\n            return {\n                ...state,\n                followInProgress: action.inProgress ?\n                    [...state.followInProgress, action.userId] :\n                    state.followInProgress.filter(id => id !== action.userId)\n            };\n        default:\n            return state;\n    }\n};\n\nexport type UsersActionsTypes = InferActionsTypes<typeof usersActions>;\n\nexport const usersActions = {\n   setUsers: (users: Array<UserType>) => ({type: SET_USERS, users} as const),\n   setPage: (page: number) => ({type: SET_PAGE, page} as const),\n   setUsersTotalCount: (count: number) => ({type: SET_TOTAL_COUNT, count} as const),\n   toggleIsLoading: (isLoading: boolean) => ({type: TOGGLE_IS_LOADING, isLoading} as const),\n   toggleFollowInProgress: (inProgress: boolean, userId: number) => ({type: TOGGLE_FOLLOW_IN_PROGRESS, inProgress, userId} as const),\n   setSearchText: (query: string) => ({type: SET_SEARCH_TEXT, query} as const),\n   requestUsers: (currentPage: number, pageSize: number, searchText: string) => ({type: REQUEST_USERS_ASYNC, currentPage, pageSize, searchText} as const),\n   follow: (id: number, updateProfileFollow: boolean) => ({type: FOLLOW_ASYNC, action: 'follow', id, updateProfileFollow} as const),\n   unfollow: (id: number, updateProfileFollow: boolean) => ({type: UNFOLLOW_ASYNC, action: 'unfollow', id, updateProfileFollow} as const),\n   acceptFollow: (userId: number) => ({type: FOLLOW_ACCEPT, userId} as const),\n   acceptUnfollow: (userId: number) => ({type: UNFOLLOW_ACCEPT, userId} as const),\n};\n\nexport default usersReducer;","import {ProfileType} from \"./types\";\nimport {InferActionsTypes} from \"../redux-store\";\n\nexport const AUTH_ASYNC = 'auth/AUTH_ASYNC';\nexport const LOGIN_ASYNC = 'auth/LOGIN_ASYNC';\nexport const LOGOUT_ASYNC = 'auth/LOGOUT_ASYNC';\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\nconst SET_CAPTCHA_URL = 'auth/SET_CAPTCHA_URL';\nconst SET_CURRENT_USER_INFO = 'auth/SET_CURRENT_USER_INFO';\n\nconst initialState = {\n    userId: null as number | null,\n    login: null as string | null,\n    email: null as string | null,\n    isAuth: false,\n    captchaUrl: null as string | null,\n    currentUserInfo: null as ProfileType | null\n};\n\ntype InitialStateType = typeof initialState;\n\nconst authReducer = (state = initialState, action: AuthActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case SET_USER_DATA:\n            const {userId, login, email, isAuth} = action;\n            return {...state, userId, login, email, isAuth};\n        case SET_CURRENT_USER_INFO:\n            const {currentUserInfo} = action;\n            return {...state, currentUserInfo};\n        case SET_CAPTCHA_URL:\n            const {captchaUrl} = action;\n            return {...state, captchaUrl};\n        default:\n            return state;\n    }\n};\n\nexport type AuthActionsTypes = InferActionsTypes<typeof authActions>;\nexport const authActions = {\n    setUserData: (userId: number | null, login: string | null, email: string | null, isAuth: boolean) => ({\n        type: SET_USER_DATA, userId, login, email, isAuth\n    } as const),\n    setCaptchaUrl: (captchaUrl: string) => ({type: SET_CAPTCHA_URL, captchaUrl} as const),\n    setCurrentUserInfo: (currentUserInfo: ProfileType | null) => ({type: SET_CURRENT_USER_INFO, currentUserInfo} as const),\n    login: (email: string, password: string, rememberMe: boolean, captcha: string | null) => ({type: LOGIN_ASYNC, email, password, rememberMe, captcha} as const),\n    logout: (history: any) => ({type: LOGOUT_ASYNC, history}  as const),\n};\nexport default authReducer;","import {AppStateType} from \"../redux-store\";\n\nexport const getCurrentUserId = (state: AppStateType) => {\n    return state.authReducer.userId\n};\n\nexport const getCurrentUserLogin = (state: AppStateType) => {\n    return state.authReducer.login\n};\n\nexport const getIsAuth = (state: AppStateType) => {\n    return state.authReducer.isAuth\n};\n\nexport const getCurrentUserInfo = (state: AppStateType) => {\n    return state.authReducer.currentUserInfo\n};\n\nexport const getCaptchaUrl = (state: AppStateType) => {\n    return state.authReducer.captchaUrl\n};","import io from \"socket.io-client\";\r\n\r\nconst port = process.env.PORT || '3005';\r\nexport const socket = io({port: port});\r\n\r\ntype EmitInitUserType = {\r\n    userId: number,\r\n    userName: string\r\n};\r\n\r\nexport const emitInitUser = (user: EmitInitUserType) => {\r\n    socket.emit('init_user', user);\r\n};\r\n\r\ntype EmitSendMessageType = {\r\n    sender: {\r\n        id: number,\r\n        name: string\r\n    },\r\n    reciever: number\r\n    msg: string\r\n};\r\n\r\nexport const emitSendMessage = (msgInfo: EmitSendMessageType) => {\r\n    socket.emit('send_message', msgInfo);\r\n};\r\n\r\ntype EmitWatchMessagesType = {\r\n    sender: number\r\n    reciever: number\r\n};\r\n\r\nexport const emitWatchMessages = (chatUsers: EmitWatchMessagesType) => {\r\n    socket.emit('messages_viewed', chatUsers);\r\n};\r\n","import {withStyles, createStyles, Theme} from '@material-ui/core/styles';\n\nconst styles = createStyles((theme: Theme) => ({\n    preloader: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        background: \"rgba(255,255,255, 0.7)\",\n        zIndex: 2,\n        bottom: 0\n    }\n}));\n\nexport default withStyles(styles, {withTheme: true})\n","import React, {FC, ReactNode} from 'react';\nimport {CircularProgress, WithStyles} from \"@material-ui/core\";\nimport withPreloaderStyles from \"./preloaderStyles\";\n\ntype PropsType = {\n    showPreloader: boolean,\n    children?: ReactNode\n}\n\nconst Preloader: FC<PropsType & WithStyles> = ({showPreloader, classes}) => {\n    if (!showPreloader) {\n        return null\n    }\n    return (\n        <div className={classes.preloader}>\n            {showPreloader &&\n                <CircularProgress color=\"secondary\"/>\n            }\n        </div>\n    )\n};\n\nexport default withPreloaderStyles(Preloader);"],"sourceRoot":""}