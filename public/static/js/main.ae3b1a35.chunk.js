(this["webpackJsonpit-near"]=this["webpackJsonpit-near"]||[]).push([[6],{106:function(e,t,n){e.exports=n.p+"static/media/logo.0a470749.png"},128:function(e,t,n){e.exports=n.p+"static/media/user-placeholder.f4e91123.png"},134:function(e,t,n){"use strict";var r=n(3),a=n(0),c=n.n(a),s=n(428),o=n(429),u=n(430),i=n(431),l=n(423),p=n(204),d=n(11),f=Object(p.a)((function(e){return{paper:{backgroundColor:e.palette.common.white},title:{textAlign:"center",padding:"16px 24px 8px"},buttons:{justifyContent:"space-between",padding:"8px 24px 16px"},btn:{width:"48%"}}})),m=Object(d.a)(f,{withTheme:!0}),b=n(33);t.a=m((function(e){var t=e.open,n=e.title,a=e.children,p=e.submitAction,d=e.resetAction,f=e.submitName,m=e.submitDisabled,g=e.classes,h=Object(r.a)(e,["open","title","children","submitAction","resetAction","submitName","submitDisabled","classes"]);return c.a.createElement(s.a,Object.assign({open:t,onClose:d,fullWidth:!0,maxWidth:"xs"},h,{classes:{paper:g.paper}}),c.a.createElement(o.a,{className:g.title},n),c.a.createElement(u.a,null,a),c.a.createElement(i.a,{className:g.buttons,disableSpacing:!0},c.a.createElement(l.a,Object.assign({onClick:p,className:g.btn,color:"primary",variant:"contained",startIcon:c.a.createElement(b.e,null)},m?{disabled:m}:{}),f||"Confirm"),c.a.createElement(l.a,{onClick:d,className:g.btn,color:"secondary",variant:"contained",startIcon:c.a.createElement(b.d,null)},"Cancel")))}))},140:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(76),s=n(134);t.a=function(e){var t=e.isOpen,n=e.openDialog,r=e.confirmAction,o=e.itemToConfirm,u=e.children,i=function(){n(!1,"confirm",null)};return a.a.createElement(s.a,{open:t,resetAction:i,submitAction:function(){o?r(o.id):r(),i()},"aria-labelledby":"delete-post-dialog",title:"Are you sure?"},u||a.a.createElement(c.a,{variant:"body2"},u||"If you click 'CONFIRM' the element will be removed from database."))}},153:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return o}));var r=function(e){return e.profileReducer.profile},a=function(e){return e.profileReducer.profileError},c=function(e){return e.profileReducer.profileIsLoading},s=function(e){return e.profileReducer.isFollowed},o=function(e){return e.profileReducer.status}},197:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return l}));var r=function(e){return e.dialogsReducer.messages},a=function(e){return e.dialogsReducer.dialogs},c=function(e){return e.dialogsReducer.lastUserActivityDate},s=function(e){return e.dialogsReducer.deletedMessages},o=function(e){return e.dialogsReducer.spamedMessages},u=function(e){return e.dialogsReducer.newMessagesCount},i=function(e){return e.dialogsReducer.selectedFriend},l=function(e){return e.dialogsReducer.messagesLoading}},275:function(e,t,n){e.exports=n(373)},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return d})),n.d(t,"j",(function(){return m}));var r=n(26),a=n(16),c="dialogs/GET_DIALOGS_ASYNC",s="dialogs/GET_MESSAGES_ASYNC",o="dialogs/SEND_MESSAGE_ASYNC",u="dialogs/START_CHAT_ASYNC",i="dialogs/GET_NEW_MESSAGES_COUNT_ASYNC",l="dialogs/DELETE_MESSAGE_ASYNC",p="dialogs/RESTORE_MESSAGE_ASYNC",d="dialogs/SPAM_MESSAGE_ASYNC",f={dialogs:[],messages:[],newMessagesCount:null,lastUserActivityDate:null,deletedMessages:[],spamedMessages:[],selectedFriend:null,messagesLoading:!1},m={setMessagesLoading:function(e){return{type:"dialogs/SET_MESSAGES_LOADING",messagesLoading:e}},setDialogs:function(e){return{type:"dialogs/SET_DIALOGS",dialogs:e}},setSelectedFriend:function(e){return{type:"dialogs/SET_SELECTED_FRIEND",selectedFriend:e}},setMessages:function(e){return{type:"dialogs/SET_MESSAGES",messages:e}},setActivityDate:function(e){return{type:"dialogs/SET_ACTIVITY_DATE",userId:e}},setNewMessagesCount:function(e){return{type:"dialogs/SET_NEW_MESSAGES_COUNT",count:e}},addMessage:function(e){return{type:"dialogs/ADD_MESSAGE",message:e}},addMessageToDeleted:function(e){return{type:"dialogs/ADD_MESSAGE_TO_DELETED",messageId:e}},addMessageToSpam:function(e){return{type:"dialogs/ADD_MESSAGE_TO_SPAM",messageId:e}},restoreFromSpamDeleted:function(e){return{type:"dialogs/RESTORE_FROM_SPAM_DELETED",messageId:e}},startChat:function(e,t){return{type:u,userId:e,history:t}},sendMessage:function(e,t){return{type:o,userId:e,message:t}},getMessages:function(e){return{type:s,userId:e}},deleteMessage:function(e){return{type:l,messageId:e}},restoreMessage:function(e){return{type:p,messageId:e}},spamMessage:function(e){return{type:d,messageId:e}},getDialogs:function(){return{type:c}},requestNewMessagesCount:function(){return{type:i}}};t.i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/SET_DIALOGS":return Object(a.a)({},e,{dialogs:t.dialogs});case"dialogs/SET_MESSAGES":return Object(a.a)({},e,{messages:t.messages});case"dialogs/SET_MESSAGES_LOADING":return Object(a.a)({},e,{messagesLoading:t.messagesLoading});case"dialogs/SET_SELECTED_FRIEND":return Object(a.a)({},e,{selectedFriend:t.selectedFriend});case"dialogs/ADD_MESSAGE":return Object(a.a)({},e,{messages:[].concat(Object(r.a)(e.messages),[t.message])});case"dialogs/ADD_MESSAGE_TO_DELETED":return Object(a.a)({},e,{deletedMessages:[].concat(Object(r.a)(e.deletedMessages),[t.messageId])});case"dialogs/ADD_MESSAGE_TO_SPAM":return Object(a.a)({},e,{spamedMessages:[].concat(Object(r.a)(e.spamedMessages),[t.messageId])});case"dialogs/RESTORE_FROM_SPAM_DELETED":return Object(a.a)({},e,{deletedMessages:Object(r.a)(e.deletedMessages).filter((function(e){return e!==t.messageId})),spamedMessages:Object(r.a)(e.spamedMessages).filter((function(e){return e!==t.messageId}))});case"dialogs/SET_NEW_MESSAGES_COUNT":return Object(a.a)({},e,{newMessagesCount:t.count});case"dialogs/SET_ACTIVITY_DATE":var n=Object(r.a)(e.dialogs).find((function(e){return e.id===Number(t.userId)}));return void 0!==n?Object(a.a)({},e,{lastUserActivityDate:n.lastUserActivityDate}):e;default:return e}}},33:function(e,t,n){"use strict";var r=n(159),a=n.n(r);n.d(t,"x",(function(){return a.a}));var c=n(160),s=n.n(c);n.d(t,"B",(function(){return s.a}));var o=n(161),u=n.n(o);n.d(t,"r",(function(){return u.a}));var i=n(162),l=n.n(i);n.d(t,"H",(function(){return l.a}));var p=n(163),d=n.n(p);n.d(t,"m",(function(){return d.a}));var f=n(164),m=n.n(f);n.d(t,"E",(function(){return m.a}));var b=n(165),g=n.n(b);n.d(t,"k",(function(){return g.a}));var h=n(166),O=n.n(h);n.d(t,"h",(function(){return O.a}));var E=n(167),x=n.n(E);n.d(t,"j",(function(){return x.a}));var v=n(168),j=n.n(v);n.d(t,"o",(function(){return j.a}));var S=n(169),y=n.n(S);n.d(t,"v",(function(){return y.a}));var w=n(170),I=n.n(w);n.d(t,"I",(function(){return I.a}));var _=n(171),k=n.n(_);n.d(t,"t",(function(){return k.a}));var T=n(172),A=n.n(T);n.d(t,"J",(function(){return A.a}));var C=n(173),L=n.n(C);n.d(t,"q",(function(){return L.a}));var N=n(174),U=n.n(N);n.d(t,"b",(function(){return U.a}));var D=n(175),R=n.n(D);n.d(t,"e",(function(){return R.a}));var P=n(176),M=n.n(P);n.d(t,"d",(function(){return M.a}));var F=n(177),G=n.n(F);n.d(t,"z",(function(){return G.a}));var z=n(178),W=n.n(z);n.d(t,"p",(function(){return W.a}));var Y=n(179),B=n.n(Y);n.d(t,"C",(function(){return B.a}));var H=n(180),q=n.n(H);n.d(t,"D",(function(){return q.a}));var K=n(181),V=n.n(K);n.d(t,"l",(function(){return V.a}));var Q=n(182),X=n.n(Q);n.d(t,"G",(function(){return X.a}));var J=n(183),$=n.n(J);n.d(t,"A",(function(){return $.a}));var Z=n(184),ee=n.n(Z);n.d(t,"i",(function(){return ee.a}));var te=n(185),ne=n.n(te);n.d(t,"u",(function(){return ne.a}));var re=n(186),ae=n.n(re);n.d(t,"s",(function(){return ae.a}));var ce=n(187),se=n.n(ce);n.d(t,"n",(function(){return se.a}));var oe=n(188),ue=n.n(oe);n.d(t,"a",(function(){return ue.a}));var ie=n(189),le=n.n(ie);n.d(t,"F",(function(){return le.a}));var pe=n(190),de=n.n(pe);n.d(t,"w",(function(){return de.a}));var fe=n(191),me=n.n(fe);n.d(t,"c",(function(){return me.a}));var be=n(192),ge=n.n(be);n.d(t,"y",(function(){return ge.a}));var he=n(193),Oe=n.n(he);n.d(t,"f",(function(){return Oe.a}));var Ee=n(194),xe=n.n(Ee);n.d(t,"g",(function(){return xe.a}))},34:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=a.a.lazy((function(){return Promise.all([n.e(0),n.e(9),n.e(4)]).then(n.bind(null,386))})),s={home:{path:"/",exact:!0,redirect:function(e){return e?"/profile":"/login"}},profile:{path:"/profile/:id?",component:c,exact:!1,getPath:function(e){return e?"/profile/".concat(e):"/profile"}},settings:{path:"/settings",exact:!0,component:c},dialogs:{path:"/dialogs/:id?",component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(11),n.e(2)]).then(n.bind(null,387))})),getPath:function(e){return e?"/dialogs/".concat(e):"/dialogs"}},login:{path:"/login",exact:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,389))}))},users:{path:"/users",exact:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(10),n.e(5)]).then(n.bind(null,388))}))},notFound:{path:"*",exact:!1,component:a.a.lazy((function(){return n.e(3).then(n.bind(null,391))}))}};t.a=s},360:function(e,t,n){},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return p}));var r=n(16),a="profile/GET_STATUS_ASYNC",c="profile/SET_STATUS_ASYNC",s="profile/UPDATE_USER_PROFILE_ASYNC",o="profile/GET_USER_PROFILE_ASYNC",u="profile/GET_IS_FOLLOWED_ASYNC",i="profile/LOAD_PHOTO_ASYNC",l={profile:null,profileError:null,status:"",profileIsLoading:!1,isFollowed:!1},p={toggleProfileLoading:function(e){return{type:"profile/TOGGLE_PROFILE_LOADING",profileIsLoading:e}},setUserProfile:function(e){return{type:"profile/SET_USER_PROFILE",profile:e}},setUserProfileError:function(e){return{type:"profile/SET_USER_PROFILE_FAILED",profileError:e}},setPhoto:function(e){return{type:"profile/SET_PHOTO",photos:e}},updateIsFollowed:function(e){return{type:"profile/SET_IS_FOLLOWED",isFollowed:e}},setStatus:function(e){return{type:"profile/UPDATE_STATUS",status:e}},getUserStatus:function(e){return{type:a,id:e}},setUserStatus:function(e){return{type:c,status:e}},updateProfileInfo:function(e,t){return{type:s,info:e,userId:t}},getUserProfile:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:o,id:e,updateCurrentUserInfo:t}},loadPhoto:function(e){return{type:i,photo:e}},getIsUserFollowed:function(e){return{type:u,id:e}}};t.g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_USER_PROFILE":return Object(r.a)({},e,{profile:t.profile,profileError:null});case"profile/TOGGLE_PROFILE_LOADING":return Object(r.a)({},e,{profileIsLoading:t.profileIsLoading});case"profile/SET_USER_PROFILE_FAILED":return Object(r.a)({},e,{profile:null,profileError:t.profileError});case"profile/UPDATE_STATUS":return Object(r.a)({},e,{status:t.status});case"profile/SET_PHOTO":return Object(r.a)({},e,{profile:Object(r.a)({},e.profile,{photos:t.photos})});case"profile/SET_IS_FOLLOWED":return Object(r.a)({},e,{isFollowed:t.isFollowed});default:return e}}},373:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),s=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,u,i=n(47),l=n(37),p=n(29),d=n(48),f=n(206),m=n(203),b=n(26),g=n(16),h={inited:!1,notifications:[]},O={enqueueSnackbar:function(e){var t=e.options&&e.options.key;return{type:"app/ENQUEUE_SNACKBAR",notification:Object(g.a)({},e,{key:t||(new Date).getTime()+Math.random()})}},removeSnackbar:function(e){return{type:"app/REMOVE_SNACKBAR",key:e}},setAppIsInited:function(){return{type:"app/SET_INITED"}},appInitialize:function(){return{type:"app/INIT_APP_ASYNC"}}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET_INITED":return Object(g.a)({},e,{inited:!0});case"app/ENQUEUE_SNACKBAR":return Object(g.a)({},e,{notifications:[].concat(Object(b.a)(e.notifications),[Object(g.a)({},t.notification)])});case"app/REMOVE_SNACKBAR":return Object(g.a)({},e,{notifications:e.notifications.filter((function(e){return e.key!==t.key}))});default:return e}},x=n(44),v=n(216),j=n(30),S=n(9),y=n.n(S),w=n(5),I=n(208),_=n.n(I).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"0cd66f02-e607-46e0-aed7-5f9c57c49533"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(o||(o={})),function(e){e[e.CaptchaRequired=10]="CaptchaRequired"}(u||(u={}));var k=function(e,t,n){return _.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)).then((function(e){return e.data}))},T=function(e){return _.get("follow/".concat(e)).then((function(e){return e.data}))},A=function(e){return _.post("follow/".concat(e)).then((function(e){return e.data}))},C=function(e){return _.delete("follow/".concat(e)).then((function(e){return e.data}))},L=function(){return _.get("auth/me").then((function(e){return e.data}))},N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _.post("/auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},U=function(){return _.delete("/auth/login").then((function(e){return e.data}))},D=function(){return _.get("security/get-captcha-url").then((function(e){return e.data}))},R=function(e){return _.get("profile/".concat(e)).then((function(e){return e.data}))},P=function(e){return _.get("profile/status/".concat(e)).then((function(e){return e.data}))},M=function(e){return _.put("profile/status",{status:e}).then((function(e){return e.data}))},F=function(e){var t=new FormData;return t.append("image",e),_.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},G=function(e){return _.put("profile",e).then((function(e){return e.data}))},z=function(){return _.get("dialogs").then((function(e){return e.data}))},W=function(e){return _.put("dialogs/".concat(e)).then((function(e){return e.data}))},Y=function(e,t){return _.post("dialogs/".concat(e,"/messages"),{body:t}).then((function(e){return e.data}))},B=function(e){return _.get("dialogs/".concat(e,"/messages")).then((function(e){return e.data}))},H=function(e){return _.post("dialogs/messages/".concat(e,"/spam")).then((function(e){return e.data}))},q=function(e){return _.delete("dialogs/messages/".concat(e)).then((function(e){return e.data}))},K=function(e){return _.put("dialogs/messages/".concat(e,"/restore")).then((function(e){return e.data}))},V=function(){return _.get("dialogs/messages/new/count").then((function(e){return e.data}))},Q=n(63),X=n(153),J=n(83),$=y.a.mark(Xe),Z=y.a.mark(Je),ee=y.a.mark($e),te=y.a.mark(Ze),ne=y.a.mark(et),re=y.a.mark(tt),ae=y.a.mark(nt),ce=y.a.mark(rt),se=y.a.mark(at),oe=y.a.mark(ct),ue=y.a.mark(st),ie=y.a.mark(ot),le=y.a.mark(ut),pe=y.a.mark(it),de=y.a.mark(lt),fe=y.a.mark(pt),me=y.a.mark(dt),be=y.a.mark(ft),ge=y.a.mark(mt),he=y.a.mark(bt),Oe=y.a.mark(an),Ee=O.enqueueSnackbar,xe=d.d.setUserData,ve=d.d.setCaptchaUrl,je=d.d.setCurrentUserInfo,Se=l.h.setUserProfile,ye=l.h.setUserProfileError,we=l.h.toggleProfileLoading,Ie=l.h.setPhoto,_e=l.h.getIsUserFollowed,ke=l.h.updateIsFollowed,Te=l.h.getUserProfile,Ae=l.h.setStatus,Ce=x.e.acceptFollow,Le=x.e.acceptUnfollow,Ne=x.e.setPage,Ue=x.e.setSearchText,De=x.e.setUsers,Re=x.e.setUsersTotalCount,Pe=x.e.toggleFollowInProgress,Me=x.e.toggleIsLoading,Fe=p.j.requestNewMessagesCount,Ge=p.j.addMessage,ze=p.j.addMessageToDeleted,We=p.j.addMessageToSpam,Ye=p.j.restoreFromSpamDeleted,Be=p.j.setActivityDate,He=p.j.setDialogs,qe=p.j.setMessages,Ke=p.j.setMessagesLoading,Ve=p.j.setNewMessagesCount,Qe=p.j.setSelectedFriend;function Xe(e){var t,n,r,a,c,s;return y.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.id,n=e.updateCurrentUserInfo,o.prev=1,o.next=4,Object(w.c)();case 4:if(a=o.sent,(c=null===(r=Object(X.b)(a))||void 0===r?void 0:r.userId)===t){o.next=9;break}return o.next=9,Object(w.b)(we(!0));case 9:return o.next=11,Object(w.a)(At,t);case 11:if(s=o.sent,!n){o.next=15;break}return o.next=15,Object(w.b)(je(s));case 15:return o.next=17,Object(w.b)(Se(s));case 17:if(c===t){o.next=20;break}return o.next=20,Object(w.b)(we(!1));case 20:o.next=26;break;case 22:return o.prev=22,o.t0=o.catch(1),o.next=26,Object(w.b)(ye(o.t0.message));case 26:case"end":return o.stop()}}),$,null,[[1,22]])}function Je(e){var t,n,r,a,c;return y.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.info,n=e.userId,s.prev=1,s.next=4,Object(w.a)(Lt,t);case 4:if(r=s.sent,a=r.resultCode,c=r.messages,a!==o.Success){s.next=14;break}return s.next=10,Object(w.b)(Te(n,!0));case 10:return s.next=12,Object(w.b)(Ee({message:"Profile successfully updated!",options:{variant:"success"}}));case 12:s.next=16;break;case 14:return s.next=16,Object(w.b)(Object(J.b)("settings",{_error:c}));case 16:s.next=22;break;case 18:return s.prev=18,s.t0=s.catch(1),s.next=22,Object(w.b)(ye(s.t0.message));case 22:case"end":return s.stop()}}),Z,null,[[1,18]])}function $e(e){var t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.prev=1,r.next=4,Object(w.a)(yt,t);case 4:return n=r.sent,r.next=7,Object(w.b)(Ae(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(w.b)(Ee({message:r.t0.message,options:{variant:"error"}}));case 13:case"end":return r.stop()}}),ee,null,[[1,9]])}function Ze(e){var t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.status,r.prev=1,r.next=4,Object(w.a)(kt,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=11;break}return r.next=9,Object(w.b)(Ae(t));case 9:return r.next=11,Object(w.b)(Ee({message:"Status updated!",options:{variant:"success"}}));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(1),r.next=17,Object(w.b)(Ee({message:r.t0.message,options:{variant:"error"}}));case 17:case"end":return r.stop()}}),te,null,[[1,13]])}function et(e){var t,n,r,a,c,s;return y.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.photo,u.prev=1,u.next=4,Object(w.a)(It,t);case 4:if(n=u.sent,r=n.data,a=n.resultCode,c=n.messages,a!==o.Success){u.next=18;break}return u.next=11,Object(w.c)();case 11:return s=u.sent,u.next=14,Object(w.b)(Ie(r.photos));case 14:return u.next=16,Object(w.b)({type:l.c,id:Object(Q.b)(s),updateCurrentUserInfo:!0});case 16:u.next=20;break;case 18:return u.next=20,Object(w.b)(Ee({message:c,options:{variant:"error"}}));case 20:u.next=26;break;case 22:return u.prev=22,u.t0=u.catch(1),u.next=26,Object(w.b)(Ee({message:u.t0.message,options:{variant:"error"}}));case 26:case"end":return u.stop()}}),ne,null,[[1,22]])}function tt(e){var t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.prev=1,r.next=4,Object(w.a)(Rt,t);case 4:return n=r.sent,r.next=7,Object(w.b)(ke(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(w.b)(Ee({message:r.t0.message,options:{variant:"error"}}));case 13:case"end":return r.stop()}}),re,null,[[1,9]])}function nt(e){var t,n,r,a,c,s;return y.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.currentPage,n=e.pageSize,r=e.searchText,o.prev=1,o.next=4,Object(w.b)(Ue(r));case 4:return o.next=6,Object(w.b)(Ne(t));case 6:return o.next=8,Object(w.b)(Me(!0));case 8:return o.next=10,Object(w.a)(Ut,t,n,r);case 10:return a=o.sent,c=a.items,s=a.totalCount,o.next=15,Object(w.b)(Me(!1));case 15:return o.next=17,Object(w.b)(De(c));case 17:return o.next=19,Object(w.b)(Re(s));case 19:o.next=25;break;case 21:return o.prev=21,o.t0=o.catch(1),o.next=25,Object(w.b)(Ee({message:o.t0.message,options:{variant:"error"}}));case 25:case"end":return o.stop()}}),ae,null,[[1,21]])}function rt(e){var t,n,r,a,c,s;return y.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.action,n=e.id,r=e.updateProfileFollow,u.prev=1,u.next=4,Object(w.b)(Pe(!0,n));case 4:if("follow"!==t){u.next=10;break}return u.next=7,Object(w.a)(Mt,n);case 7:u.t0=u.sent,u.next=13;break;case 10:return u.next=12,Object(w.a)(Gt,n);case 12:u.t0=u.sent;case 13:if(a=u.t0,c=a.resultCode,s=a.messages,c!==o.Success){u.next=29;break}if("follow"!==t){u.next=22;break}return u.next=20,Object(w.b)(Ce(n));case 20:u.next=24;break;case 22:return u.next=24,Object(w.b)(Le(n));case 24:if(!r){u.next=27;break}return u.next=27,Object(w.b)(_e(n));case 27:u.next=31;break;case 29:return u.next=31,Object(w.b)(Ee({message:s,options:{variant:"error"}}));case 31:return u.next=33,Object(w.b)(Pe(!1,n));case 33:u.next=39;break;case 35:return u.prev=35,u.t1=u.catch(1),u.next=39,Object(w.b)(Ee({message:u.t1.message,options:{variant:"error"}}));case 39:case"end":return u.stop()}}),ce,null,[[1,35]])}function at(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(w.a)(Wt);case 3:return e=t.sent,t.next=6,Object(w.b)(He(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(w.b)(Ee({message:t.t0.message,options:{variant:"error"}}));case 12:case"end":return t.stop()}}),se,null,[[0,8]])}function ct(e){var t,n,r;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.userId,n=e.history,a.prev=1,a.next=4,Object(w.a)(Bt,t);case 4:r=a.sent,r.resultCode===o.Success&&n.push("/dialogs/".concat(t)),a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(w.b)(Ee({message:a.t0.message,options:{variant:"error"}}));case 13:case"end":return a.stop()}}),oe,null,[[1,9]])}function st(e){var t,n,r,a;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.userId,n=e.message,c.prev=1,c.next=4,Object(w.a)(qt,t,n);case 4:if(r=c.sent,a=r.data,r.resultCode!==o.Success){c.next=12;break}return c.next=10,Object(w.b)(Ge(a.message));case 10:return c.next=12,Object(w.b)(Object(J.a)("message"));case 12:c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(1),c.next=18,Object(w.b)(Ee({message:c.t0.message,options:{variant:"error"}}));case 18:case"end":return c.stop()}}),ue,null,[[1,14]])}function ot(e){var t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.messageId,r.prev=1,r.next=4,Object(w.a)(Xt,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=9;break}return r.next=9,Object(w.b)(ze(t));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(w.b)(Ee({message:r.t0.message,options:{variant:"error"}}));case 15:case"end":return r.stop()}}),ie,null,[[1,11]])}function ut(e){var t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.messageId,r.prev=1,r.next=4,Object(w.a)($t,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=9;break}return r.next=9,Object(w.b)(Ye(t));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(w.b)(Ee({message:r.t0.message,options:{variant:"error"}}));case 15:case"end":return r.stop()}}),le,null,[[1,11]])}function it(e){var t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.messageId,r.prev=1,r.next=4,Object(w.a)(en,t);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=9;break}return r.next=9,Object(w.b)(We(t));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(w.b)(Ee({message:r.t0.message,options:{variant:"error"}}));case 15:case"end":return r.stop()}}),pe,null,[[1,11]])}function lt(e){var t,n,r,a,c;return y.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.userId,s.prev=1,s.next=4,Object(w.b)(Ke(!0));case 4:return s.next=6,Object(w.a)(Vt,t);case 6:return n=s.sent,r=n.error,a=n.items,s.next=11,Object(w.a)(At,t);case 11:if(c=s.sent,r){s.next=19;break}return s.next=15,Object(w.b)(qe(a));case 15:return s.next=17,Object(w.b)(Be(t));case 17:return s.next=19,Object(w.b)(Qe(c));case 19:return s.next=21,Object(w.b)(Ke(!1));case 21:s.next=27;break;case 23:return s.prev=23,s.t0=s.catch(1),s.next=27,Object(w.b)(Ee({message:s.t0.message,options:{variant:"error"}}));case 27:case"end":return s.stop()}}),de,null,[[1,23]])}function pt(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(w.a)(nn);case 3:return e=t.sent,t.next=6,Object(w.b)(Ve(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(w.b)(Ee({message:t.t0.message,options:{variant:"error"}}));case 12:case"end":return t.stop()}}),fe,null,[[0,8]])}function dt(){var e,t,n,r,a;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(w.a)(gt);case 3:if(e=c.sent,t=e.data,e.resultCode!==o.Success){c.next=14;break}return n=t.id,r=t.login,a=t.email,c.next=10,Object(w.b)(xe(n,r,a,!0));case 10:return c.next=12,Object(w.b)(Te(n,!0));case 12:return c.next=14,Object(w.b)(Fe());case 14:c.next=20;break;case 16:return c.prev=16,c.t0=c.catch(0),c.next=20,Object(w.b)(Ee({message:c.t0.message,options:{variant:"error"}}));case 20:case"end":return c.stop()}}),me,null,[[0,16]])}function ft(e){var t,n,r,a,c,s,i,l,p;return y.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.email,n=e.password,r=e.rememberMe,a=e.captcha,f.prev=1,f.next=4,Object(w.a)(Ot,t,n,r,a);case 4:if(c=f.sent,s=c.resultCode,i=c.messages,s!==o.Success){f.next=12;break}return f.next=10,Object(w.b)({type:d.a});case 10:f.next=21;break;case 12:if(s!==u.CaptchaRequired){f.next=19;break}return f.next=15,Object(w.a)(jt);case 15:return l=f.sent,p=l.url,f.next=19,Object(w.b)(ve(p));case 19:return f.next=21,Object(w.b)(Object(J.b)("login",{_error:i}));case 21:f.next=27;break;case 23:return f.prev=23,f.t0=f.catch(1),f.next=27,Object(w.b)(Ee({message:f.t0.message,options:{variant:"error"}}));case 27:case"end":return f.stop()}}),be,null,[[1,23]])}function mt(e){var t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.history,r.prev=1,r.next=4,Object(w.a)(xt);case 4:if(n=r.sent,n.resultCode!==o.Success){r.next=10;break}return r.next=9,Object(w.b)(xe(null,null,null,!1));case 9:t.push("/login");case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(w.b)(Ee({message:r.t0.message,options:{variant:"error"}}));case 16:case"end":return r.stop()}}),ge,null,[[1,12]])}function bt(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(w.b)({type:d.a});case 3:return e.next=5,Object(w.b)(O.setAppIsInited());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(w.b)(Ee({message:e.t0.message,options:{variant:"error"}}));case 11:case"end":return e.stop()}}),he,null,[[0,7]])}function gt(){return ht.apply(this,arguments)}function ht(){return(ht=Object(j.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e,t,n,r){return Et.apply(this,arguments)}function Et(){return(Et=Object(j.a)(y.a.mark((function e(t,n,r,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t,n,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(){return vt.apply(this,arguments)}function vt(){return(vt=Object(j.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){return St.apply(this,arguments)}function St(){return(St=Object(j.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e){return wt.apply(this,arguments)}function wt(){return(wt=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(e){return _t.apply(this,arguments)}function _t(){return(_t=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e,t,n){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(j.a)(y.a.mark((function e(t,n,r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mt(e){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(e){return zt.apply(this,arguments)}function zt(){return(zt=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(j.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(j.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(){return rn.apply(this,arguments)}function rn(){return(rn=Object(j.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.d)("app/INIT_APP_ASYNC",bt);case 2:return e.next=4,Object(w.d)(d.a,dt);case 4:return e.next=6,Object(w.d)(d.b,ft);case 6:return e.next=8,Object(w.d)(d.c,mt);case 8:return e.next=10,Object(w.d)(l.c,Xe);case 10:return e.next=12,Object(w.d)(l.d,et);case 12:return e.next=14,Object(w.d)(l.a,tt);case 14:return e.next=16,Object(w.d)(x.a,rt);case 16:return e.next=18,Object(w.d)(x.c,rt);case 18:return e.next=20,Object(w.d)(x.b,nt);case 20:return e.next=22,Object(w.d)(l.b,$e);case 22:return e.next=24,Object(w.d)(l.e,Ze);case 24:return e.next=26,Object(w.d)(l.f,Je);case 26:return e.next=28,Object(w.d)(p.b,at);case 28:return e.next=30,Object(w.d)(p.h,ct);case 30:return e.next=32,Object(w.d)(p.f,st);case 32:return e.next=34,Object(w.d)(p.c,lt);case 34:return e.next=36,Object(w.d)(p.a,ot);case 36:return e.next=38,Object(w.d)(p.e,ut);case 38:return e.next=40,Object(w.d)(p.g,it);case 40:return e.next=42,Object(w.d)(p.d,pt);case 42:case"end":return e.stop()}}),Oe)}var cn=an,sn=Object(i.c)({profileReducer:l.g,dialogsReducer:p.i,usersReducer:x.d,authReducer:d.e,app:E,form:m.a}),on=Object(v.a)(),un="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,ln=Object(i.e)(sn,un(Object(i.a)(f.a,on)));on.run(cn);var pn=ln,dn=n(41),fn=n(61),mn=(n(360),n(50)),bn=n(78),gn=n(57),hn=n(131),On=n(132),En=n(133),xn=n(71),vn=n(91),jn=n(3),Sn=n(106),yn=n.n(Sn),wn=n(424),In=n(425),_n=n(426),kn=n(427),Tn=n(434),An=n(420),Cn=n(34),Ln=n(66),Nn=n.n(Ln),Un=n(33),Dn=n(412),Rn=n(378),Pn=n(414),Mn=n(437),Fn=n(417),Gn=n(418),zn=n(76),Wn=n(13),Yn=n(204),Bn=n(11),Hn=Object(Yn.a)((function(e){return{list:Object(Wn.a)({padding:0},e.breakpoints.up("sm"),{display:"flex",justifyContent:"flex-end",marginRight:20}),listItem:Object(Wn.a)({padding:"0 8px",width:"auto"},e.breakpoints.down("xs"),{borderBottom:"1px solid ".concat(e.palette.grey[200])}),link:Object(Wn.a)({color:e.palette.text.primary,alignItems:"center",display:"flex",width:"100%"},e.breakpoints.down("xs"),{padding:"8px 0",color:e.palette.grey[600]}),icon:Object(Wn.a)({padding:e.spacing(1),color:e.palette.common.white,lineHeight:0},e.breakpoints.down("xs"),{color:e.palette.grey[500],marginRight:5}),name:Object(Wn.a)({},e.breakpoints.down("xs"),{fontSize:"1.2rem"}),activeLink:{pointerEvents:"none","& .MuiIconButton-root":{backgroundColor:e.palette.primary.light},"& $icon, & $name":Object(Wn.a)({},e.breakpoints.down("xs"),{color:e.palette.primary.light})},tooltip:{backgroundColor:e.palette.primary.light}}})),qn=Object(Bn.a)(Hn,{withTheme:!0})((function(e){var t=e.newMessagesCount,n=e.userId,r=e.openLogoutDialog,c=e.isAuth,s=e.classes,o=[{id:1,text:"Profile",url:Cn.a.profile.getPath(n),icon:a.a.createElement(Un.r,null)},{id:2,text:"Dialogs",url:Cn.a.dialogs.getPath(null),icon:a.a.createElement(Un.x,null)},{id:3,text:"Users",url:Cn.a.users.path,icon:a.a.createElement(Un.B,null)}],u=[].concat(o,[{id:4,text:"Settings",url:Cn.a.settings.path,icon:a.a.createElement(Un.H,null)},{id:5,text:"Logout",url:null,icon:a.a.createElement(Un.m,null)}]),i=t&&t>0;return a.a.createElement(Dn.a,{className:s.list},a.a.createElement(Tn.a,{xsDown:!0},o.map((function(e){var n=e.id,r=e.text,c=e.url,o=e.icon;return a.a.createElement(Rn.a,{key:n,className:s.listItem},a.a.createElement(Pn.a,{component:dn.b,to:c,activeClassName:s.activeLink,className:s.link,underline:"none",color:"textSecondary"},a.a.createElement(Mn.a,{title:r,"aria-label":r,classes:{tooltip:s.tooltip}},a.a.createElement(Fn.a,{"aria-label":r,className:s.icon},c===Cn.a.dialogs.getPath(null)&&i?a.a.createElement(Gn.a,{badgeContent:t,max:99,color:"secondary"},o):o))))}))),a.a.createElement(Tn.a,{smUp:!0},u.map((function(e){var t=e.id,n=e.text,o=e.url,u=e.icon;return 5!==t||c?a.a.createElement(Rn.a,{key:t,className:s.listItem},a.a.createElement(Pn.a,Object.assign({component:o?dn.b:"span"},o?{to:o,activeClassName:s.activeLink}:"",5===t?{onClick:function(){return r(!0)}}:"",{className:s.link,underline:"none",color:"textSecondary"}),a.a.createElement(zn.a,{variant:"body1",component:"span",className:Nn()("MuiListItemIcon-root",s.icon)},o===Cn.a.dialogs.getPath(null)&&i?a.a.createElement(Gn.a,{color:"secondary",variant:"dot"},u):u),a.a.createElement(zn.a,{variant:"body1",component:"span",className:s.name},n))):null}))))})),Kn=n(423),Vn=n(438),Qn=n(128),Xn=n.n(Qn),Jn=n(390),$n=n(419),Zn=n(421),er=n(422),tr=Object(Yn.a)((function(e){return{paper:{borderTopLeftRadius:0,borderTopRightRadius:0},list:{padding:0,backgroundColor:e.palette.common.white},menuItemTxt:{lineHeight:1},menuItem:{"&:hover":{backgroundColor:e.palette.primary.light,color:e.palette.common.white,"& .MuiLink-root, & .MuiListItemIcon-root":{color:e.palette.common.white,textDecoration:"none"}}},menuIcon:{minWidth:35},link:{"&:hover":{backgroundColor:e.palette.primary.light,color:e.palette.common.white,"& .MuiLink-root, & .MuiListItemIcon-root":{color:e.palette.common.white,textDecoration:"none"}}}}})),nr=Object(Bn.a)(tr,{withTheme:!0})((function(e){var t=e.userId,n=e.handleClose,r=e.anchorEl,c=e.classes,s=e.openLogoutDialog;return a.a.createElement(Jn.a,{id:"customized-menu",anchorEl:r,open:Boolean(r),onClose:n,elevation:10,getContentAnchorEl:null,classes:{paper:c.paper,list:c.list},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement($n.a,{component:dn.b,to:Cn.a.profile.getPath(t),className:c.menuItem,onClick:function(){return n()}},a.a.createElement("span",{className:Nn()("MuiListItemIcon-root",c.menuIcon)},a.a.createElement(Un.E,{fontSize:"small"})),a.a.createElement(zn.a,{variant:"body1",component:"span",className:c.menuItemTxt},"Profile")),a.a.createElement(An.a,{orientation:"horizontal",light:!0}),a.a.createElement($n.a,{component:dn.b,to:Cn.a.settings.path,className:c.menuItem,onClick:function(){return n()}},a.a.createElement("span",{className:Nn()("MuiListItemIcon-root",c.menuIcon)},a.a.createElement(Un.k,{fontSize:"small"})),a.a.createElement(zn.a,{variant:"body1",component:"span",className:c.menuItemTxt},"Edit Profile")),a.a.createElement(An.a,{orientation:"horizontal",light:!0}),a.a.createElement($n.a,{className:c.menuItem,onClick:function(){s(!0),n()}},a.a.createElement(Zn.a,{className:c.menuIcon},a.a.createElement(Un.m,{fontSize:"small"})),a.a.createElement(er.a,{classes:{primary:c.menuItemTxt},primary:"Logout"})))})),rr=Object(Yn.a)((function(e){return{avatar:{display:"flex",alignItems:"center",paddingLeft:20,paddingRight:20,textTransform:"none"},avatarRoot:{marginRight:10},loginLink:{paddingLeft:20,paddingRight:20,color:e.palette.common.white},avatarText:{padding:"0 5px"},avatarIcon:{"&.active":{transform:"rotate(180deg)",transition:"0.1s linear"}}}})),ar=Object(Bn.a)(rr,{withTheme:!0})((function(e){var t=e.isAuth,n=e.login,r=e.currentUserInfo,c=e.userId,s=e.openLogoutDialog,o=e.classes,u=a.a.useState(null),i=Object(mn.a)(u,2),l=i[0],p=i[1],d=r&&r.photos.small?r.photos.small:Xn.a;return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Kn.a,{className:o.avatar,color:"inherit",onClick:function(e){p(e.currentTarget)},"aria-controls":"customized-menu","aria-haspopup":"true"},a.a.createElement(Vn.a,{src:d,alt:n||"avatar",sizes:"40",classes:{root:o.avatarRoot}}),a.a.createElement(Tn.a,{smDown:!0},a.a.createElement(zn.a,{variant:"body2",className:o.avatarText},r&&r.fullName?r.fullName:n)),a.a.createElement(Un.n,{fontSize:"small",className:"".concat(o.avatarIcon," ").concat(l?"active":"")})),a.a.createElement(nr,{openLogoutDialog:s,userId:c,handleClose:function(){p(null)},anchorEl:l})),!t&&a.a.createElement(Pn.a,{component:dn.b,to:Cn.a.login.path,className:o.loginLink},"Login"))})),cr=n(435),sr=Object(Yn.a)((function(e){return{list:{width:250},menuButton:{marginRight:0,padding:e.spacing(1)},paper:{backgroundColor:e.palette.common.white},head:{display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1,backgroundColor:e.palette.primary.main,height:49},headImg:{height:30}}})),or=Object(Bn.a)(sr,{withTheme:!0})((function(e){var t=e.children,n=e.classes,r=a.a.useState(!1),c=Object(mn.a)(r,2),s=c[0],o=c[1],u=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o(e)}};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fn.a,{color:"inherit","aria-label":"open drawer",onClick:u(!0),edge:"end",className:n.menuButton},s?a.a.createElement(Un.f,{fontSize:"large"}):a.a.createElement(Un.y,{fontSize:"large"})),a.a.createElement(cr.a,{open:s,onClose:u(!1),onOpen:u(!0),anchor:"left",classes:{paper:n.paper}},a.a.createElement("div",{className:n.list,role:"presentation",onClick:u(!1),onKeyDown:u(!1)},a.a.createElement(dn.b,{to:Cn.a.home.path,className:n.head},a.a.createElement("img",{src:yn.a,alt:"",className:n.headImg})),t)))})),ur=Object(Yn.a)((function(e){return{grid:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,color:e.palette.common.white},content:{flexGrow:1,padding:e.spacing(3)},logo:{display:"flex",alignItems:"center",height:"100%",lineHeight:1},logoImg:Object(Wn.a)({height:30},e.breakpoints.up("sm"),{height:35}),logoutBtn:{padding:e.spacing(1)},logoTxt:{padding:e.spacing(1),color:e.palette.common.white,fontWeight:300},rightColumn:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:"100%"},avatar:{display:"flex",alignItems:"center",paddingLeft:20,paddingRight:20,textTransform:"none"},avatarText:{padding:"0 5px"}}})),ir=Object(Bn.a)(ur,{withTheme:!0})((function(e){var t=e.userId,n=e.login,r=e.isAuth,c=e.newMessagesCount,s=e.currentUserInfo,o=e.openLogoutDialog,u=e.classes;return a.a.createElement(wn.a,{position:"fixed",component:"header",className:u.appBar},a.a.createElement(In.a,{maxWidth:"lg"},a.a.createElement(_n.a,{variant:"dense",disableGutters:!0},a.a.createElement(kn.a,{container:!0,className:u.grid,spacing:0},a.a.createElement(kn.a,{item:!0,xs:6,sm:4},a.a.createElement("div",{className:u.logo},a.a.createElement(dn.b,{to:Cn.a.home.path},a.a.createElement("img",{src:yn.a,alt:"",className:u.logoImg})))),a.a.createElement(kn.a,{item:!0,xs:6,sm:8},a.a.createElement("div",{className:u.rightColumn},a.a.createElement(Tn.a,{xsDown:!0},a.a.createElement(qn,{isAuth:r,newMessagesCount:c,userId:s?s.userId:null,openLogoutDialog:o}),a.a.createElement(An.a,{orientation:"vertical",flexItem:!0,light:!0}),a.a.createElement(ar,{login:n,openLogoutDialog:o,isAuth:r,currentUserInfo:s,userId:t}),a.a.createElement(An.a,{orientation:"vertical",flexItem:!0,light:!0})),a.a.createElement(Tn.a,{smUp:!0},a.a.createElement(or,null,a.a.createElement(qn,{isAuth:r,openLogoutDialog:o,newMessagesCount:c,userId:s?s.userId:null})))))))))})),lr=n(197),pr=n(140),dr=d.d.logout,fr=Object(i.d)(Object(fn.b)((function(e){return{userId:Object(Q.b)(e),login:Object(Q.d)(e),isAuth:Object(Q.e)(e),newMessagesCount:Object(lr.f)(e),currentUserInfo:Object(Q.c)(e)}}),{logout:dr}),xn.j)((function(e){var t=e.logout,n=Object(jn.a)(e,["logout"]),c=Object(r.useState)(!1),s=Object(mn.a)(c,2),o=s[0],u=s[1],i=Object(xn.g)(),l=function(e){u(e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(ir,Object.assign({},n,{openLogoutDialog:l})),a.a.createElement(pr.a,{isOpen:o,openDialog:l,confirmAction:function(){t(i)}},!0))})),mr=function(e){return function(t){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(vn.a,{showPreloader:!0})},a.a.createElement(e,t))}},br=function(e){return e.app.inited},gr=n(433),hr=n(81),Or=[],Er=function(){var e=Object(fn.c)(),t=Object(fn.d)((function(e){return e.app.notifications||[]})),n=Object(hr.useSnackbar)(),r=n.enqueueSnackbar,c=n.closeSnackbar;return a.a.useEffect((function(){t.forEach((function(t){var n,a=t.key,s=t.message,o=t.options,u=void 0===o?{}:o,i=t.dismissed;void 0!==i&&i?c(a):Or.includes(a)||(r(s,Object(g.a)({key:a},u,{onClose:function(e,t,n){u.onClose&&u.onClose(e,t,n)},onExited:function(t,n){var r;e(O.removeSnackbar(n)),r=n,Or=Object(b.a)(Or.filter((function(e){return r!==e})))}})),n=a,Or=[].concat(Object(b.a)(Or),[n]))}))}),[t,c,r,e]),null},xr=function(){return a.a.createElement("footer",{className:"footer",style:{background:"#3d4977"}},a.a.createElement(In.a,{maxWidth:"lg"},a.a.createElement("div",{style:{color:"#fff",padding:"5px 0",fontSize:12}},"Copyright \xa9 2020 Andreeva Alina")))},vr=Object(Yn.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,display:"flex",flexDirection:"column"},toolbar:e.mixins.toolbar}})),jr=Object(Bn.a)(vr,{withTheme:!0}),Sr=function(e){function t(){var e,n;Object(bn.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(hn.a)(this,(e=Object(On.a)(t)).call.apply(e,[this].concat(a)))).globalError=function(e){n.props.enqueueSnackbar("".concat(e.reason),{variant:"error"})},n}return Object(En.a)(t,e),Object(gn.a)(t,[{key:"componentDidMount",value:function(){this.props.appInitialize(),window.addEventListener("unhandledrejection",this.globalError)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.globalError)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes;return t.inited?a.a.createElement(a.a.Fragment,null,a.a.createElement(Er,null),a.a.createElement(gr.a,null),a.a.createElement(fr,null),a.a.createElement(In.a,{maxWidth:"lg",component:"main",className:n.content},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(xn.d,null,Object.entries(Cn.a).map((function(t){var n=Object(mn.a)(t,2),r=n[0],c=n[1],s=c.path,o=c.exact,u=void 0!==o&&o,i=c.redirect,l=void 0===i?null:i,p=c.component,d=l?l(e.props.isAuth):"",f=l?a.a.createElement(xn.a,{to:d}):mr(p);return a.a.createElement(xn.b,{key:r,path:s,exact:u},f)})))),a.a.createElement(xr,null)):a.a.createElement(vn.a,{showPreloader:!0})}}]),t}(r.Component),yr=Object(i.d)(jr,hr.withSnackbar,Object(fn.b)((function(e){return{inited:br(e),isAuth:Object(Q.e)(e)}}),{appInitialize:O.appInitialize}),xn.j)(Sr),wr=n(202),Ir=n(432),_r=n(102),kr=n(111),Tr=Object(_r.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),useNextVariants:!0,color:"#333",h2:{fontSize:"3rem"},h3:{fontSize:"2.5rem"},h4:{fontSize:"1.75rem"},subtitle1:{fontWeight:500}},mixins:{toolbar:{minHeight:48}},palette:{type:"light",primary:{main:"#3d4977"},secondary:{main:"#ab003c"},grey:kr.a,success:{main:"#00B294"},background:"#f5f5f5",error:{main:"#E81123"},contrastThreshold:3,tonalOffset:.2,contrastText:"#fff",text:{primary:"#333"}}}),Ar=n(382),Cr=new wr.a({uri:"/graphql"});s.a.render(a.a.createElement(dn.a,null,a.a.createElement(Ar.a,{client:Cr},a.a.createElement(fn.a,{store:pn},a.a.createElement(hr.SnackbarProvider,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:2e3},a.a.createElement(Ir.a,{theme:Tr},a.a.createElement(yr,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},44:function(e,t,n){"use strict";var r=n(26),a=n(16),c=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(a.a)({},e,{},r):e}))};n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l}));var s="users/FOLLOW_ASYNC",o="users/UNFOLLOW_ASYNC",u="users/REQUEST_USERS_ASYNC",i={users:[],pageSize:12,totalUsersCount:20,currentPage:1,isLoading:!0,followInProgress:[],searchQuery:null},l={setUsers:function(e){return{type:"users/SET_USERS",users:e}},setPage:function(e){return{type:"users/SET_PAGE",page:e}},setUsersTotalCount:function(e){return{type:"users/SET_TOTAL_COUNT",count:e}},toggleIsLoading:function(e){return{type:"users/TOGGLE_IS_LOADING",isLoading:e}},toggleFollowInProgress:function(e,t){return{type:"users/TOGGLE_FOLLOW_IN_PROGRESS",inProgress:e,userId:t}},setSearchText:function(e){return{type:"users/SET_SEARCH_TEXT",query:e}},requestUsers:function(e,t,n){return{type:u,currentPage:e,pageSize:t,searchText:n}},follow:function(e,t){return{type:s,action:"follow",id:e,updateProfileFollow:t}},unfollow:function(e,t){return{type:o,action:"unfollow",id:e,updateProfileFollow:t}},acceptFollow:function(e){return{type:"users/FOLLOW_ACCEPT",userId:e}},acceptUnfollow:function(e){return{type:"users/UNFOLLOW_ACCEPT",userId:e}}};t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/FOLLOW_ACCEPT":return Object(a.a)({},e,{users:c(e.users,t.userId,"id",{followed:!0})});case"users/UNFOLLOW_ACCEPT":return Object(a.a)({},e,{users:c(e.users,t.userId,"id",{followed:!1})});case"users/SET_USERS":return Object(a.a)({},e,{users:t.users});case"users/SET_PAGE":return Object(a.a)({},e,{currentPage:t.page});case"users/SET_TOTAL_COUNT":return Object(a.a)({},e,{totalUsersCount:t.count});case"users/TOGGLE_IS_LOADING":return Object(a.a)({},e,{isLoading:t.isLoading});case"users/SET_SEARCH_TEXT":return Object(a.a)({},e,{searchQuery:t.query});case"users/TOGGLE_FOLLOW_IN_PROGRESS":return Object(a.a)({},e,{followInProgress:t.inProgress?[].concat(Object(r.a)(e.followInProgress),[t.userId]):e.followInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(16),a="auth/AUTH_ASYNC",c="auth/LOGIN_ASYNC",s="auth/LOGOUT_ASYNC",o={userId:null,login:null,email:null,isAuth:!1,captchaUrl:null,currentUserInfo:null},u={setUserData:function(e,t,n,r){return{type:"auth/SET_USER_DATA",userId:e,login:t,email:n,isAuth:r}},setCaptchaUrl:function(e){return{type:"auth/SET_CAPTCHA_URL",captchaUrl:e}},setCurrentUserInfo:function(e){return{type:"auth/SET_CURRENT_USER_INFO",currentUserInfo:e}},login:function(e,t,n,r){return{type:c,email:e,password:t,rememberMe:n,captcha:r}},logout:function(e){return{type:s,history:e}}};t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":var n=t.userId,a=t.login,c=t.email,s=t.isAuth;return Object(r.a)({},e,{userId:n,login:a,email:c,isAuth:s});case"auth/SET_CURRENT_USER_INFO":var u=t.currentUserInfo;return Object(r.a)({},e,{currentUserInfo:u});case"auth/SET_CAPTCHA_URL":var i=t.captchaUrl;return Object(r.a)({},e,{captchaUrl:i});default:return e}}},63:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var r=function(e){return e.authReducer.userId},a=function(e){return e.authReducer.login},c=function(e){return e.authReducer.isAuth},s=function(e){return e.authReducer.currentUserInfo},o=function(e){return e.authReducer.captchaUrl}},91:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(411),s=n(204),o=n(11),u=Object(s.a)((function(e){return{preloader:{position:"absolute",top:0,left:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255, 0.7)",zIndex:2,bottom:0}}})),i=Object(o.a)(u,{withTheme:!0});t.a=i((function(e){var t=e.showPreloader,n=e.classes;return t?a.a.createElement("div",{className:n.preloader},t&&a.a.createElement(c.a,{color:"secondary"})):null}))}},[[275,7,8]]]);
//# sourceMappingURL=main.ae3b1a35.chunk.js.map